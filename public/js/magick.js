/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/@imagemagick/magick-wasm@0.0.35/dist/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}var i=t,n=r;function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===t||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}"function"==typeof e.setTimeout&&(i=setTimeout),"function"==typeof e.clearTimeout&&(n=clearTimeout);var s,o=[],c=!1,_=-1;function l(){c&&s&&(c=!1,s.length?o=s.concat(o):_=-1,o.length&&g())}function g(){if(!c){var e=a(l);c=!0;for(var t=o.length;t;){for(s=o,o=[];++_<t;)s&&s[_].run();_=-1,t=o.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}h.prototype.run=function(){this.fun.apply(null,this.array)};function u(){}var p=u,d=u,m=u,f=u,w=u,M=u,k=u;var y=e.performance||{},S=y.now||y.mozNow||y.msNow||y.oNow||y.webkitNow||function(){return(new Date).getTime()};var v=new Date;var C={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new h(e,t)),1!==o.length||c||a(g)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:p,addListener:d,once:m,off:f,removeListener:w,removeAllListeners:M,emit:k,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*S.call(y),r=Math.floor(t),i=Math.floor(t%1*1e9);return e&&(r-=e[0],(i-=e[1])<0&&(r--,i+=1e9)),[r,i]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-v)/1e3}};function I(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}class P{fileName;data;constructor(e,t){this.fileName=e,this.data=t}}const D={XmlResourceFiles:{log:'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE logmap [\n<!ELEMENT logmap (log)+>\n<!ELEMENT log (#PCDATA)>\n<!ATTLIST log events CDATA #IMPLIED>\n<!ATTLIST log output CDATA #IMPLIED>\n<!ATTLIST log filename CDATA #IMPLIED>\n<!ATTLIST log generations CDATA #IMPLIED>\n<!ATTLIST log limit CDATA #IMPLIED>\n<!ATTLIST log format CDATA #IMPLIED>\n]>\n<logmap>\n  <log events="None"/>\n  <log output="Debug"/>\n  <log filename="Magick-%g.log"/>\n  <log generations="3"/>\n  <log limit="2000"/>\n  <log format="%t %r %u %v %d %c[%p]: %m/%f/%l/%d\n  %e"/>\n</logmap>\n',policy:'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE policymap [\n<!ELEMENT policymap (policy)*>\n<!ATTLIST policymap xmlns CDATA #FIXED "">\n<!ELEMENT policy EMPTY>\n<!ATTLIST policy xmlns CDATA #FIXED "">\n<!ATTLIST policy domain NMTOKEN #REQUIRED>\n<!ATTLIST policy name NMTOKEN #IMPLIED>\n<!ATTLIST policy pattern CDATA #IMPLIED>\n<!ATTLIST policy rights NMTOKEN #IMPLIED>\n<!ATTLIST policy stealth NMTOKEN #IMPLIED>\n<!ATTLIST policy value CDATA #IMPLIED>\n]>\n<policymap>\n  <policy domain="cache" name="shared-secret" value="passphrase"/>\n  <policy domain="coder" rights="none" pattern="EPHEMERAL" />\n  <policy domain="coder" rights="none" pattern="MVG" />\n  <policy domain="coder" rights="none" pattern="MSL" />\n  <policy domain="path" rights="none" pattern="@*" />\n  <policy domain="path" rights="none" pattern="|*" />\n</policymap>\n'}};class E{constructor(){this.log=new P("log.xml",D.XmlResourceFiles.log),this.policy=new P("policy.xml",D.XmlResourceFiles.policy)}static default=new E;*all(){yield this.log,yield this.policy}log;policy}class b{constructor(e,t,r){this.format=e,this.name=t,this.value=r}format;name;value}class T{format;constructor(e){this.format=e}createDefine(e,t){return new b(this.format,e,"boolean"==typeof t?t?"true":"false":"string"==typeof t?t:t.toString())}hasValue(e){return null!=e}}class A{_x;_y;_paintMethod;constructor(e,t,r){this._x=e,this._y=t,this._paintMethod=r}draw(e){e.color(this._x,this._y,this._paintMethod)}}class x{_color;constructor(e){this._color=e}draw(e){e.fillColor(this._color)}}class G{_opacity;constructor(e){this._opacity=e}draw(e){e.fillOpacity(this._opacity.toDouble()/100)}}class R{_pointSize;constructor(e){this._pointSize=e}draw(e){e.fontPointSize(this._pointSize)}}class F{constructor(e,t){this.eventType=e,this.message=t??""}eventType;message}const L={Undefined:0,Activate:1,Associate:2,Background:3,Copy:4,Deactivate:5,Discrete:6,Disassociate:7,Extract:8,Off:9,On:10,Opaque:11,Remove:12,Set:13,Shape:14,Transparent:15,OffIfOpaque:16},W={Red:0,Cyan:0,Gray:0,Green:1,Magenta:1,Blue:2,Yellow:2,Black:3,Alpha:4,Index:5,Meta0:10,Meta1:11,Meta2:12,Meta3:13,Meta4:14,Meta5:15,Meta6:16,Meta7:17,Meta8:18,Meta9:19,Meta10:20,Meta11:21,Meta12:22,Meta13:23,Meta14:24,Meta15:25,Meta16:26,Meta17:27,Meta18:28,Meta19:29,Meta20:30,Meta21:31,Meta22:32,Meta23:33,Meta24:34,Meta25:35,Meta26:36,Meta27:37,Meta28:38,Meta29:39,Meta30:40,Meta31:41,Meta32:42,Meta33:43,Meta34:44,Meta35:45,Meta36:46,Meta37:47,Meta38:48,Meta39:49,Meta40:50,Meta41:51,Meta42:52,Meta43:53,Meta44:54,Meta45:55,Meta46:56,Meta47:57,Meta48:58,Meta49:59,Meta50:60,Meta51:61,Meta52:62,Composite:64},B={Undefined:0,Red:1,Gray:1,Cyan:1,Green:2,Magenta:2,Blue:4,Yellow:4,Black:8,Alpha:16,Opacity:16,Index:32,Composite:31,TrueAlpha:256,get RGB(){return this.Red|this.Green|this.Blue},get CMYK(){return this.Cyan|this.Magenta|this.Yellow|this.Black},get CMYKA(){return this.Cyan|this.Magenta|this.Yellow|this.Black|this.Alpha},Meta0:1<<W.Meta0,Meta1:1<<W.Meta1,Meta2:1<<W.Meta2,Meta3:1<<W.Meta3,Meta4:1<<W.Meta4,Meta5:1<<W.Meta5,Meta6:1<<W.Meta6,Meta7:1<<W.Meta7,Meta8:1<<W.Meta8,Meta9:1<<W.Meta9,Meta10:1<<W.Meta10,Meta11:1<<W.Meta11,Meta12:1<<W.Meta12,Meta13:1<<W.Meta13,Meta14:1<<W.Meta14,Meta15:1<<W.Meta15,Meta16:1<<W.Meta16,Meta17:1<<W.Meta17,Meta18:1<<W.Meta18,Meta19:1<<W.Meta19,Meta20:1<<W.Meta20,Meta21:1<<W.Meta21,All:134217727};class O{constructor(e,t,r,i){this.red=e,this.green=t,this.blue=r,this.white=i}red;green;blue;white}const N={Undefined:0,CMY:1,CMYK:2,Gray:3,HCL:4,HCLp:5,HSB:6,HSI:7,HSL:8,HSV:9,HWB:10,Lab:11,LCH:12,LCHab:13,LCHuv:14,Log:15,LMS:16,Luv:17,OHTA:18,Rec601YCbCr:19,Rec709YCbCr:20,RGB:21,scRGB:22,sRGB:23,Transparent:24,XyY:25,XYZ:26,YCbCr:27,YCC:28,YDbDr:29,YIQ:30,YPbPr:31,YUV:32,LinearGray:33,Jzazbz:34,DisplayP3:35,Adobe98:36,ProPhoto:37,Oklab:38,Oklch:39,CAT02LMSC:40},z={[N.Undefined]:"Undefined",[N.CMY]:"CMY",[N.CMYK]:"CMYK",[N.Gray]:"Gray",[N.HCL]:"HCL",[N.HCLp]:"HCLp",[N.HSB]:"HSB",[N.HSI]:"HSI",[N.HSL]:"HSL",[N.HSV]:"HSV",[N.HWB]:"HWB",[N.Lab]:"Lab",[N.LCH]:"LCH",[N.LCHab]:"LCHab",[N.LCHuv]:"LCHuv",[N.Log]:"Log",[N.LMS]:"LMS",[N.Luv]:"Luv",[N.OHTA]:"OHTA",[N.Rec601YCbCr]:"Rec601YCbCr",[N.Rec709YCbCr]:"Rec709YCbCr",[N.RGB]:"RGB",[N.scRGB]:"scRGB",[N.sRGB]:"sRGB",[N.Transparent]:"Transparent",[N.XyY]:"XyY",[N.XYZ]:"XYZ",[N.YCbCr]:"YCbCr",[N.YCC]:"YCC",[N.YDbDr]:"YDbDr",[N.YIQ]:"YIQ",[N.YPbPr]:"YPbPr",[N.YUV]:"YUV",[N.LinearGray]:"LinearGray",[N.Jzazbz]:"Jzazbz",[N.DisplayP3]:"DisplayP3",[N.Adobe98]:"Adobe98",[N.ProPhoto]:"ProPhoto",[N.Oklab]:"Oklab",[N.Oklch]:"Oklch",[N.CAT02LMSC]:"CAT02LMS"};class ${colorSpace=N.Undefined;copyright=null;description=null;manufacturer=null;model=null}class H{_data;_index;constructor(e){this._data=e,this._index=0,this.isLittleEndian=!1}get index(){return this._index}isLittleEndian;readLong(){return this.canRead(4)?this.isLittleEndian?this.readLongLSB():this.readLongMSB():null}readString(e){if(0==e)return"";if(!this.canRead(e))return null;let t=new TextDecoder("utf-8").decode(this._data.subarray(this._index,this._index+e));const r=t.indexOf("\0");return-1!=r&&(t=t.substring(0,r)),this._index+=e,t}seek(e){return!(e>=this._data.length)&&(this._index=e,!0)}skip(e){return!(this._index+e>=this._data.length)&&(this._index+=e,!0)}canRead(e){return!(e>this._data.length)&&this._index+e<=this._data.length}readLongLSB(){let e=this._data[this._index];return e|=this._data[this._index+1]<<8,e|=this._data[this._index+2]<<16,e|=this._data[this._index+3]<<24,this._index+=4,e}readLongMSB(){let e=this._data[this._index]<<24;return e|=this._data[this._index+1]<<16,e|=this._data[this._index+2]<<8,e|=this._data[this._index+3],this._index+=4,e}}class U{_data=new $;_reader;constructor(e){this._reader=new H(e)}static read(e){const t=new U(e);return t.readColorSpace(),t.readTagTable(),t._data}readColorSpace(){this._reader.seek(16);const e=this._reader.readString(4);null!=e&&(this._data.colorSpace=this.determineColorSpace(e.trimEnd()))}determineColorSpace(e){switch(e){case"CMY":return N.CMY;case"CMYK":return N.CMYK;case"GRAY":return N.Gray;case"HSL":return N.HSL;case"HSV":return N.HSV;case"Lab":return N.Lab;case"Luv":return N.Luv;case"RGB":return N.sRGB;case"XYZ":return N.XYZ;case"YCbr":return N.YCbCr;default:return N.Undefined}}readTagTable(){if(!this._reader.seek(128))return;const e=this._reader.readLong();if(null!=e)for(let t=0;t<e;t++)switch(this._reader.readLong()){case 1668313716:this._data.copyright=this.readTag();break;case 1684370275:this._data.description=this.readTag();break;case 1684893284:this._data.manufacturer=this.readTag();break;case 1684890724:this._data.model=this.readTag();break;default:this._reader.skip(8)}}readTag(){const e=this._reader.readLong(),t=this._reader.readLong();if(null===e||null===t)return null;const r=this._reader.index;if(!this._reader.seek(e))return null;const i=this.readTagValue(t);return this._reader.seek(r),i}readTagValue(e){switch(this._reader.readString(4)){case"desc":return this.readTextDescriptionTypeValue();case"text":return this.readTextTypeValue(e);default:return null}}readTextDescriptionTypeValue(){if(!this._reader.skip(4))return null;const e=this._reader.readLong();return null==e?null:this._reader.readString(e)}readTextTypeValue(e){return this._reader.skip(4)?this._reader.readString(e):null}}class j{constructor(e,t){this.name=e,this.data=t}name;data}class Y extends j{_data;constructor(e){super("icc",e)}get colorSpace(){return this.initialize(),this._data.colorSpace}get copyright(){return this.initialize(),this._data.copyright}get description(){return this.initialize(),this._data.description}get manufacturer(){return this.initialize(),this._data.manufacturer}get model(){return this.initialize(),this._data.model}initialize(){this._data||(this._data=U.read(this.data))}}const V={HighRes:0,Quantum:1};class X{constructor(e,t){this.distortion=e,this.difference=t}difference;distortion;static _create(e,t){return new X(e,t)}}class q{constructor(e){this.metric=e}metric;highlightColor;lowlightColor;masklightColor;_setArtifacts(e){void 0!==this.highlightColor&&e.setArtifact("compare:highlight-color",this.highlightColor),void 0!==this.lowlightColor&&e.setArtifact("compare:lowlight-color",this.lowlightColor),void 0!==this.masklightColor&&e.setArtifact("compare:masklight-color",this.masklightColor)}}const K={Undefined:0,Alpha:1,Atop:2,Blend:3,Blur:4,Bumpmap:5,ChangeMask:6,Clear:7,ColorBurn:8,ColorDodge:9,Colorize:10,CopyBlack:11,CopyBlue:12,Copy:13,CopyCyan:14,CopyGreen:15,CopyMagenta:16,CopyAlpha:17,CopyRed:18,CopyYellow:19,Darken:20,DarkenIntensity:21,Difference:22,Displace:23,Dissolve:24,Distort:25,DivideDst:26,DivideSrc:27,DstAtop:28,Dst:29,DstIn:30,DstOut:31,DstOver:32,Exclusion:33,HardLight:34,HardMix:35,Hue:36,In:37,Intensity:38,Lighten:39,LightenIntensity:40,LinearBurn:41,LinearDodge:42,LinearLight:43,Luminize:44,Mathematics:45,MinusDst:46,MinusSrc:47,Modulate:48,ModulusAdd:49,ModulusSubtract:50,Multiply:51,No:52,Out:53,Over:54,Overlay:55,PegtopLight:56,PinLight:57,Plus:58,Replace:59,Saturate:60,Screen:61,SoftLight:62,SrcAtop:63,Src:64,SrcIn:65,SrcOut:66,SrcOver:67,Threshold:68,VividLight:69,Xor:70,Stereo:71,Freeze:72,Interpolate:73,Negate:74,Reflect:75,SoftBurn:76,SoftDodge:77,Stamp:78,RMSE:79,SaliencyBlend:80,SeamlessBlend:81},Q={Warning:300,ResourceLimitWarning:300,TypeWarning:305,OptionWarning:310,DelegateWarning:315,MissingDelegateWarning:320,CorruptImageWarning:325,FileOpenWarning:330,BlobWarning:335,StreamWarning:340,CacheWarning:345,CoderWarning:350,FilterWarning:352,ModuleWarning:355,DrawWarning:360,ImageWarning:365,WandWarning:370,RandomWarning:375,XServerWarning:380,MonitorWarning:385,RegistryWarning:390,ConfigureWarning:395,PolicyWarning:399,Error:400,ResourceLimitError:400,TypeError:405,OptionError:410,DelegateError:415,MissingDelegateError:420,CorruptImageError:425,FileOpenError:430,BlobError:435,StreamError:440,CacheError:445,CoderError:450,FilterError:452,ModuleError:455,DrawError:460,ImageError:465,WandError:470,RandomError:475,XServerError:480,MonitorError:485,RegistryError:490,ConfigureError:495,PolicyError:499};class J extends Error{_relatedErrors=[];constructor(e,t=Q.Error){super(e),this.severity=t}severity;get relatedErrors(){return this._relatedErrors}_setRelatedErrors(e){this._relatedErrors=e}}class Z{static get depth(){return it._api._Quantum_Depth_Get()}static get max(){return it._api._Quantum_Max_Get()}}function ee(e,t){return 0===e?t??null:it._api.UTF8ToString(e)}function te(e,t,r){const i=e.lengthBytesUTF8(t)+1,n=e._malloc(i);try{return e.stringToUTF8(t,n,i),r(n)}finally{e._free(n)}}function re(e,t){return null===e?t(0):te(it._api,e,t)}class ie{constructor(e,t,r,i,n){if(void 0!==e)if("string"==typeof e){let t=0;try{t=it._api._MagickColor_Create(),re(e,(e=>{if(0===it._api._MagickColor_Initialize(t,e))throw new J("invalid color specified");this.initialize(t)}))}finally{it._api._free(t)}}else this.r=e,this.g=t??0,this.b=r??0,void 0===n?this.a=i??Z.max:(this.k=i??0,this.a=n,this.isCmyk=!0)}r=0;g=0;b=0;a=0;k=0;isCmyk=!1;static _create(e){const t=new ie;return t.initialize(e),t}toShortString(){return this.a!==Z.max?this.toString():this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}`}toString(){return this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k},${(this.a/Z.max).toFixed(4)})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}${this.toHex(this.a)}`}_use(e){let t=0;try{t=it._api._MagickColor_Create(),it._api._MagickColor_Red_Set(t,this.r),it._api._MagickColor_Green_Set(t,this.g),it._api._MagickColor_Blue_Set(t,this.b),it._api._MagickColor_Alpha_Set(t,this.a),it._api._MagickColor_IsCMYK_Set(t,this.isCmyk?1:0),e(t)}finally{it._api._free(t)}}initialize(e){this.r=it._api._MagickColor_Red_Get(e),this.g=it._api._MagickColor_Green_Get(e),this.b=it._api._MagickColor_Blue_Get(e),this.a=it._api._MagickColor_Alpha_Get(e),this.isCmyk=1===it._api._MagickColor_IsCMYK_Get(e)}toHex(e){return e.toString(16).padStart(2,"0")}}var ne=(e=>(e[e.NoValue=0]="NoValue",e[e.PercentValue=4096]="PercentValue",e[e.IgnoreAspectRatio=8192]="IgnoreAspectRatio",e[e.Less=16384]="Less",e[e.Greater=32768]="Greater",e[e.FillArea=65536]="FillArea",e[e.LimitPixels=131072]="LimitPixels",e[e.AspectRatio=1048576]="AspectRatio",e))(ne||{});class ae{_includeXyInToString;_width=0;_height=0;_x=0;_y=0;_aspectRatio=!1;_fillArea=!1;_greater=!1;_isPercentage=!1;_ignoreAspectRatio=!1;_less=!1;_limitPixels=!1;constructor(e,t,r,i){if("number"==typeof e){if(void 0!==r&&void 0!==i?(this._width=r,this._height=i,this._x=e,this._y=t??0,this._includeXyInToString=!0):(this._width=e,this._height=t??this._width,this._x=0,this._y=0,this._includeXyInToString=!1),this._width<0)throw new J("negative width is not allowed");if(this._height<0)throw new J("negative height is not allowed")}else{this._includeXyInToString=e.indexOf("+")>=0||e.indexOf("-")>=0;const t=it._api._MagickGeometry_Create();try{re(e,(r=>{const i=it._api._MagickGeometry_Initialize(t,r);if(i===ne.NoValue)throw new J("invalid geometry specified");this.hasFlag(i,ne.AspectRatio)?this.initializeFromAspectRation(t,e):this.initialize(t,i)}))}finally{it._api._MagickGeometry_Dispose(t)}}}get aspectRatio(){return this._aspectRatio}get fillArea(){return this._fillArea}set fillArea(e){this._fillArea=e}get greater(){return this._greater}set greater(e){this._greater=e}get height(){return this._height}set height(e){this._height=e}get ignoreAspectRatio(){return this._ignoreAspectRatio}set ignoreAspectRatio(e){this._ignoreAspectRatio=e}get isPercentage(){return this._isPercentage}set isPercentage(e){this._isPercentage=e}get less(){return this._less}set less(e){this._less=e}get limitPixels(){return this._limitPixels}set limitPixels(e){this._limitPixels=e}get width(){return this._width}set width(e){this._width=e}get x(){return this._x}set x(e){this._x=e}get y(){return this._y}set y(e){this._y=e}toString(){if(this._aspectRatio)return this._width+":"+this._height;let e="";return 0==this._width&&0==this._height?e+="0x0":(this._width>0&&(e+=this._width.toString()),this._height>0?e+="x"+this._height.toString():e+="x"),(0!=this._x||0!=this._y||this._includeXyInToString)&&(this._x>=0&&(e+="+"),e+=this._x,this.y>=0&&(e+="+"),e+=this.y),this._fillArea&&(e+="^"),this._greater&&(e+=">"),this._isPercentage&&(e+="%"),this._ignoreAspectRatio&&(e+="!"),this._less&&(e+="<"),this._limitPixels&&(e+="@"),e}static _fromRectangle(e){if(0===e)throw new J("unable to allocate memory");try{const t=it._api._MagickRectangle_Width_Get(e),r=it._api._MagickRectangle_Height_Get(e),i=it._api._MagickRectangle_X_Get(e),n=it._api._MagickRectangle_Y_Get(e);return new ae(i,n,t,r)}finally{it._api._MagickRectangle_Dispose(e)}}_toRectangle(e){const t=it._api._MagickRectangle_Create();if(0===t)throw new J("unable to allocate memory");try{return it._api._MagickRectangle_Width_Set(t,this._width),it._api._MagickRectangle_Height_Set(t,this._height),it._api._MagickRectangle_X_Set(t,this._x),it._api._MagickRectangle_Y_Set(t,this._y),e(t)}finally{it._api._MagickRectangle_Dispose(t)}}initialize(e,t){this._width=it._api._MagickGeometry_Width_Get(e),this._height=it._api._MagickGeometry_Height_Get(e),this._x=it._api._MagickGeometry_X_Get(e),this._y=it._api._MagickGeometry_Y_Get(e),this._ignoreAspectRatio=this.hasFlag(t,ne.IgnoreAspectRatio),this._isPercentage=this.hasFlag(t,ne.PercentValue),this._fillArea=this.hasFlag(t,ne.FillArea),this._greater=this.hasFlag(t,ne.Greater),this._less=this.hasFlag(t,ne.Less),this._limitPixels=this.hasFlag(t,ne.LimitPixels)}initializeFromAspectRation(e,t){this._aspectRatio=!0;const r=t.split(":");this._width=this.parseNumber(r[0]),this._height=this.parseNumber(r[1]),this._x=it._api._MagickGeometry_X_Get(e),this._y=it._api._MagickGeometry_Y_Get(e)}parseNumber(e){let t=0;for(;t<e.length&&!this.isNumber(e[t]);)t++;const r=t;for(;t<e.length&&this.isNumber(e[t]);)t++;return parseInt(e.substr(r,t-r))}isNumber(e){return e>="0"&&e<="9"}hasFlag(e,t){return(e&t)===t}}class se{constructor(e,t){this.x=e,this.y=t??e}x;y;static _create(e){return 0===e?new se(0,0):new se(it._api._PointInfo_X_Get(e),it._api._PointInfo_Y_Get(e))}}class oe{constructor(e){this.area=it._api._ConnectedComponent_GetArea(e),this.centroid=se._create(it._api._ConnectedComponent_GetCentroid(e)),this.color=ie._create(it._api._ConnectedComponent_GetColor(e)),this.height=it._api._ConnectedComponent_GetHeight(e),this.id=it._api._ConnectedComponent_GetId(e),this.width=it._api._ConnectedComponent_GetWidth(e),this.x=it._api._ConnectedComponent_GetX(e),this.y=it._api._ConnectedComponent_GetY(e)}area;centroid;color;height;id;width;x;y;static _create(e,t){const r=[];if(0===e)return r;for(let i=0;i<t;i++){const t=it._api._ConnectedComponent_GetInstance(e,i);0===t||it._api._ConnectedComponent_GetArea(t)<Number.EPSILON||r.push(new oe(t))}return r}toGeometry(){return new ae(this.x,this.y,this.width,this.height)}}class ce{angleThreshold;areaThreshold;circularityThreshold;connectivity;diameterThreshold;eccentricityThreshold;majorAxisThreshold;meanColor;minorAxisThreshold;perimeterThreshold;constructor(e){this.connectivity=e}_setArtifacts(e){void 0!==this.angleThreshold&&e.setArtifact("connected-components:angle-threshold",this.angleThreshold.toString()),void 0!==this.areaThreshold&&e.setArtifact("connected-components:area-threshold",this.areaThreshold.toString()),void 0!==this.circularityThreshold&&e.setArtifact("connected-components:circularity-threshold",this.circularityThreshold.toString()),void 0!==this.diameterThreshold&&e.setArtifact("connected-components:diameter-threshold",this.diameterThreshold.toString()),void 0!==this.eccentricityThreshold&&e.setArtifact("connected-components:eccentricity-threshold",this.eccentricityThreshold.toString()),void 0!==this.majorAxisThreshold&&e.setArtifact("connected-components:major-axis-threshold",this.majorAxisThreshold.toString()),void 0!==this.meanColor&&e.setArtifact("connected-components:mean-color",this.meanColor.toString()),void 0!==this.minorAxisThreshold&&e.setArtifact("connected-components:minor-axis-threshold",this.minorAxisThreshold.toString()),void 0!==this.perimeterThreshold&&e.setArtifact("connected-components:perimeter-threshold",this.perimeterThreshold.toString())}}const _e={Undefined:0,PixelsPerInch:1,PixelsPerCentimeter:2};class le{constructor(e,t,r){void 0===t?(this.x=e,this.y=e,this.units=_e.PixelsPerInch):void 0!==r?(this.x=e,this.y=t,this.units=r):(this.x=e,this.y=e,this.units=t)}x;y;units;toString(e){return e==this.units||e===_e.Undefined||void 0===e?le.toString(this.x,this.y,e??_e.Undefined):this.units==_e.PixelsPerCentimeter&&e==_e.PixelsPerInch?le.toString(2.54*this.x,2.54*this.y,e):le.toString(this.x/2.54,this.y/2.54,e)}static toString(e,t,r){let i=`${e}x${t}`;switch(r){case _e.PixelsPerCentimeter:i+="cm";break;case _e.PixelsPerInch:i+="inch"}return i}}class ge{static _disposeAfterExecution(e,t){try{const r=t(e);return r instanceof Promise?Promise.resolve(r).then((t=>(e.dispose(),ge.checkResult(e,t),t))):(e.dispose(),ge.checkResult(e,r),r)}catch(t){throw e.dispose(),t}}static checkResult(e,t){if(t===e)throw new J("The result of the function cannot be the instance that has been disposed.");return t}}class he{_pointer;_bytes;_func;constructor(e,t,r){this._pointer=e,this._func=r,this._bytes=it._api.HEAPU8.subarray(e,e+t)}func(e){return void 0===e._bytes?e._func(new Uint8Array):e._func(e._bytes)}dispose(){this._pointer=it._api._MagickMemory_Relinquish(this._pointer)}}class ue{disposeMethod;instance;constructor(e,t){this.instance=e,this.disposeMethod=t}get _instance(){if(this.instance>0)return this.instance;throw-1===this.instance&&this._instanceNotInitialized(),new J("instance is disposed")}set _instance(e){this.disposeInstance(this.instance),this.instance=e}dispose(){this.instance=this.disposeInstance(this.instance)}_instanceNotInitialized(){throw new J("instance is not initialized")}_setInstance(e,t){return t.check((()=>0!==this.instance&&(this.dispose(),this.instance=e,!0)),(()=>(this.disposeInstance(e),!0)))}disposeInstance(e){return e>0&&(void 0!==this.onDispose&&this.onDispose(),this.disposeMethod(e)),0}}class pe extends ue{constructor(e){if(super(it._api._DrawingSettings_Create(),it._api._DrawingSettings_Dispose),void 0!==e.fillColor&&e.fillColor._use((e=>{it._api._DrawingSettings_FillColor_Set(this._instance,e)})),void 0!==e.font){re(lt._getFontFileName(e.font),(e=>{it._api._DrawingSettings_Font_Set(this._instance,e)}))}void 0!==e.fontPointsize&&it._api._DrawingSettings_FontPointsize_Set(this._instance,e.fontPointsize),void 0!==e.strokeColor&&e.strokeColor._use((e=>{it._api._DrawingSettings_StrokeColor_Set(this._instance,e)})),void 0!==e.strokeWidth&&it._api._DrawingSettings_StrokeWidth_Set(this._instance,e.strokeWidth)}}class de{backgroundColor;fillColor;font;fontPointsize;strokeColor;strokeWidth;static _create(e){const t=new de;return t.fillColor=e.fillColor,t.font=e.font,t.fontPointsize=e.fontPointsize,t.strokeColor=e.strokeColor,t.strokeWidth=e.strokeWidth,t}_use(e){const t=new pe(this);return ge._disposeAfterExecution(t,e)}}class me{instance;type;constructor(e,t){this.instance=it._api._malloc(e),this.type=t,it._api.setValue(this.instance,0,this.type)}get ptr(){return this.instance}get value(){return it._api.getValue(this.instance,this.type)}}class fe extends me{constructor(){super(4,"i32")}static use(e){const t=new fe;try{return e(t)}finally{it._api._free(t.ptr)}}}class we{pointer;constructor(e){this.pointer=e}get ptr(){return this.pointer.ptr}check(e,t){return this.isError()?t():e()}static usePointer(e,t){return fe.use((r=>{const i=e(r.ptr);return we.checkException(r,i,t)}))}static use(e,t){return fe.use((r=>{const i=e(new we(r));return we.checkException(r,i,t)}))}static checkException(e,t,r){if(!we.isRaised(e))return t;const i=we.getErrorSeverity(e.value);if(i>=Q.Error)we.throw(e,i);else if(void 0!==r){r(we.createError(e.value,i))}else we.dispose(e);return t}isError(){return!!we.isRaised(this.pointer)&&we.getErrorSeverity(this.pointer.value)>=Q.Error}static getErrorSeverity(e){return it._api._MagickExceptionHelper_Severity(e)}static isRaised(e){return 0!==e.value}static throw(e,t){const r=we.createError(e.value,t);throw we.dispose(e),r}static createError(e,t){const r=we.getMessage(e),i=new J(r,t),n=it._api._MagickExceptionHelper_RelatedCount(e);if(0===n)return i;const a=[];for(let t=0;t<n;t++){const r=it._api._MagickExceptionHelper_Related(e,t),i=we.getErrorSeverity(r),n=we.createError(r,i);a.push(n)}return i._setRelatedErrors(a),i}static getMessage(e){const t=it._api._MagickExceptionHelper_Message(e),r=it._api._MagickExceptionHelper_Description(e);let i=ee(t,"Unknown error");return 0!==r&&(i+=`(${it._api.UTF8ToString(r)})`),i}static dispose(e){it._api._MagickExceptionHelper_Dispose(e.value)}}class Me{constructor(e,t,r,i,n,a,s){this.ascent=e,this.descent=t,this.maxHorizontalAdvance=r,this.textHeight=i,this.textWidth=n,this.underlinePosition=a,this.underlineThickness=s}ascent;descent;maxHorizontalAdvance;textHeight;textWidth;underlinePosition;underlineThickness;static _create(e){if(0==e)return null;try{const t=it._api._TypeMetric_Ascent_Get(e),r=it._api._TypeMetric_Descent_Get(e),i=it._api._TypeMetric_MaxHorizontalAdvance_Get(e),n=it._api._TypeMetric_TextHeight_Get(e),a=it._api._TypeMetric_TextWidth_Get(e),s=it._api._TypeMetric_UnderlinePosition_Get(e),o=it._api._TypeMetric_UnderlineThickness_Get(e);return new Me(t,r,i,n,a,s,o)}finally{it._api._TypeMetric_Dispose(e)}}}class ke extends ue{constructor(e,t){super(de._create(t)._use((t=>it._api._DrawingWand_Create(e._instance,t._instance))),it._api._DrawingWand_Dispose)}color(e,t,r){we.usePointer((i=>{it._api._DrawingWand_Color(this._instance,e,t,r,i)}))}draw(e){e.forEach((e=>{e.draw(this)})),we.usePointer((e=>{it._api._DrawingWand_Render(this._instance,e)}))}fillColor(e){we.usePointer((t=>{e._use((e=>{it._api._DrawingWand_FillColor(this._instance,e,t)}))}))}fillOpacity(e){we.usePointer((t=>{it._api._DrawingWand_FillOpacity(this._instance,e,t)}))}font(e){we.usePointer((t=>{re(e,(e=>{it._api._DrawingWand_Font(this._instance,e,t)}))}))}fontPointSize(e){we.usePointer((t=>{it._api._DrawingWand_FontPointSize(this._instance,e,t)}))}fontTypeMetrics(e,t){return we.usePointer((r=>re(e,(e=>{const i=it._api._DrawingWand_FontTypeMetrics(this._instance,e,t?1:0,r);return Me._create(i)}))))}gravity(e){we.usePointer((t=>{it._api._DrawingWand_Gravity(this._instance,e,t)}))}line(e,t,r,i){we.usePointer((n=>{it._api._DrawingWand_Line(this._instance,e,t,r,i,n)}))}point(e,t){we.usePointer((r=>{it._api._DrawingWand_Point(this._instance,e,t,r)}))}rectangle(e,t,r,i){we.usePointer((n=>{it._api._DrawingWand_Rectangle(this._instance,e,t,r,i,n)}))}roundRectangle(e,t,r,i,n,a){we.usePointer((s=>{it._api._DrawingWand_RoundRectangle(this._instance,e,t,r,i,n,a,s)}))}strokeColor(e){we.usePointer((t=>{e._use((e=>{it._api._DrawingWand_StrokeColor(this._instance,e,t)}))}))}strokeWidth(e){we.usePointer((t=>{it._api._DrawingWand_StrokeWidth(this._instance,e,t)}))}text(e,t,r){we.usePointer((i=>{re(r,(r=>{it._api._DrawingWand_Text(this._instance,e,t,r,i)}))}))}textAlignment(e){we.usePointer((t=>{it._api._DrawingWand_TextAlignment(this._instance,e,t)}))}textAntialias(e){we.usePointer((t=>{it._api._DrawingWand_TextAntialias(this._instance,e?1:0,t)}))}textDecoration(e){we.usePointer((t=>{it._api._DrawingWand_TextDecoration(this._instance,e,t)}))}textInterlineSpacing(e){we.usePointer((t=>{it._api._DrawingWand_TextInterlineSpacing(this._instance,e,t)}))}textInterwordspacing(e){we.usePointer((t=>{it._api._DrawingWand_TextInterwordSpacing(this._instance,e,t)}))}textKerning(e){we.usePointer((t=>{it._api._DrawingWand_TextKerning(this._instance,e,t)}))}textUnderColor(e){we.usePointer((t=>{e._use((e=>{it._api._DrawingWand_TextUnderColor(this._instance,e,t)}))}))}static _use(e,t){const r=new ke(e,e.settings);return ge._disposeAfterExecution(r,t)}}class ye extends me{constructor(){super(8,"double")}static use(e){const t=new ye;try{return e(t)}finally{it._api._free(t.ptr)}}}const Se={Undefined:0,Forget:0,Northwest:1,North:2,Northeast:3,West:4,Center:5,East:6,Southwest:7,South:8,Southeast:9};function*ve(e){for(const t of e)switch(t){case Se.North:yield"north";break;case Se.Northeast:yield"north",yield"east";break;case Se.Northwest:yield"north",yield"west";break;case Se.East:yield"east";break;case Se.West:yield"west";break;case Se.South:yield"south";break;case Se.Southeast:yield"south",yield"east";break;case Se.Southwest:yield"south",yield"west"}}class Ce{constructor(e,t,r){this.meanErrorPerPixel=e,this.normalizedMeanError=t,this.normalizedMaximumError=r}meanErrorPerPixel;normalizedMaximumError;normalizedMeanError;static _create(e){const t=it._api._MagickImage_MeanErrorPerPixel_Get(e._instance),r=it._api._MagickImage_NormalizedMeanError_Get(e._instance),i=it._api._MagickImage_NormalizedMaximumError_Get(e._instance);return new Ce(t,r,i)}}const Ie={Unknown:"UNKNOWN",ThreeFr:"3FR",ThreeG2:"3G2",ThreeGp:"3GP",A:"A",Aai:"AAI",Ai:"AI",APng:"APNG",Art:"ART",Arw:"ARW",Ashlar:"ASHLAR",Avci:"AVCI",Avi:"AVI",Avif:"AVIF",Avs:"AVS",B:"B",Bayer:"BAYER",Bayera:"BAYERA",Bgr:"BGR",Bgra:"BGRA",Bgro:"BGRO",Bmp:"BMP",Bmp2:"BMP2",Bmp3:"BMP3",Brf:"BRF",C:"C",Cal:"CAL",Cals:"CALS",Canvas:"CANVAS",Caption:"CAPTION",Cin:"CIN",Cip:"CIP",Clip:"CLIP",Cmyk:"CMYK",Cmyka:"CMYKA",Cr2:"CR2",Cr3:"CR3",Crw:"CRW",Cube:"CUBE",Cur:"CUR",Cut:"CUT",Data:"DATA",Dcm:"DCM",Dcr:"DCR",Dcraw:"DCRAW",Dcx:"DCX",Dds:"DDS",Dfont:"DFONT",Dng:"DNG",Dpx:"DPX",Dxt1:"DXT1",Dxt5:"DXT5",Epdf:"EPDF",Epi:"EPI",Eps:"EPS",Eps2:"EPS2",Eps3:"EPS3",Epsf:"EPSF",Epsi:"EPSI",Ept:"EPT",Ept2:"EPT2",Ept3:"EPT3",Erf:"ERF",Exr:"EXR",Farbfeld:"FARBFELD",Fax:"FAX",Ff:"FF",Fff:"FFF",File:"FILE",Fits:"FITS",Fl32:"FL32",Flv:"FLV",Fractal:"FRACTAL",Ftp:"FTP",Fts:"FTS",Ftxt:"FTXT",G:"G",G3:"G3",G4:"G4",Gif:"GIF",Gif87:"GIF87",Gradient:"GRADIENT",Gray:"GRAY",Graya:"GRAYA",Group4:"GROUP4",Hald:"HALD",Hdr:"HDR",Heic:"HEIC",Heif:"HEIF",Histogram:"HISTOGRAM",Hrz:"HRZ",Htm:"HTM",Html:"HTML",Http:"HTTP",Https:"HTTPS",Icb:"ICB",Ico:"ICO",Icon:"ICON",Iiq:"IIQ",Info:"INFO",Inline:"INLINE",Ipl:"IPL",Isobrl:"ISOBRL",Isobrl6:"ISOBRL6",J2c:"J2C",J2k:"J2K",Jng:"JNG",Jnx:"JNX",Jp2:"JP2",Jpc:"JPC",Jpe:"JPE",Jpeg:"JPEG",Jpg:"JPG",Jpm:"JPM",Jps:"JPS",Jpt:"JPT",Json:"JSON",Jxl:"JXL",K:"K",K25:"K25",Kdc:"KDC",Label:"LABEL",M:"M",M2v:"M2V",M4v:"M4V",Mac:"MAC",Map:"MAP",Mask:"MASK",Mat:"MAT",Matte:"MATTE",Mdc:"MDC",Mef:"MEF",Miff:"MIFF",Mkv:"MKV",Mng:"MNG",Mono:"MONO",Mov:"MOV",Mos:"MOS",Mp4:"MP4",Mpc:"MPC",Mpeg:"MPEG",Mpg:"MPG",Mpo:"MPO",Mrw:"MRW",Msl:"MSL",Msvg:"MSVG",Mtv:"MTV",Mvg:"MVG",Nef:"NEF",Nrw:"NRW",Null:"NULL",O:"O",Ora:"ORA",Orf:"ORF",Otb:"OTB",Otf:"OTF",Pal:"PAL",Palm:"PALM",Pam:"PAM",Pango:"PANGO",Pattern:"PATTERN",Pbm:"PBM",Pcd:"PCD",Pcds:"PCDS",Pcl:"PCL",Pct:"PCT",Pcx:"PCX",Pdb:"PDB",Pdf:"PDF",Pdfa:"PDFA",Pef:"PEF",Pes:"PES",Pfa:"PFA",Pfb:"PFB",Pfm:"PFM",Pgm:"PGM",Pgx:"PGX",Phm:"PHM",Picon:"PICON",Pict:"PICT",Pix:"PIX",Pjpeg:"PJPEG",Plasma:"PLASMA",Png:"PNG",Png00:"PNG00",Png24:"PNG24",Png32:"PNG32",Png48:"PNG48",Png64:"PNG64",Png8:"PNG8",Pnm:"PNM",Pocketmod:"POCKETMOD",Ppm:"PPM",Ps:"PS",Ps2:"PS2",Ps3:"PS3",Psb:"PSB",Psd:"PSD",Ptif:"PTIF",Pwp:"PWP",Qoi:"QOI",R:"R",RadialGradient:"RADIAL-GRADIENT",Raf:"RAF",Ras:"RAS",Raw:"RAW",Rgb:"RGB",Rgb565:"RGB565",Rgba:"RGBA",Rgbo:"RGBO",Rgf:"RGF",Rla:"RLA",Rle:"RLE",Rmf:"RMF",Rw2:"RW2",Rwl:"RWL",Scr:"SCR",Screenshot:"SCREENSHOT",Sct:"SCT",Sfw:"SFW",Sgi:"SGI",Shtml:"SHTML",Six:"SIX",Sixel:"SIXEL",SparseColor:"SPARSE-COLOR",Sr2:"SR2",Srf:"SRF",Srw:"SRW",Stegano:"STEGANO",Sti:"STI",StrImg:"STRIMG",Sun:"SUN",Svg:"SVG",Svgz:"SVGZ",Text:"TEXT",Tga:"TGA",Thumbnail:"THUMBNAIL",Tif:"TIF",Tiff:"TIFF",Tiff64:"TIFF64",Tile:"TILE",Tim:"TIM",Tm2:"TM2",Ttc:"TTC",Ttf:"TTF",Txt:"TXT",Ubrl:"UBRL",Ubrl6:"UBRL6",Uil:"UIL",Uyvy:"UYVY",Vda:"VDA",Vicar:"VICAR",Vid:"VID",Viff:"VIFF",Vips:"VIPS",Vst:"VST",WebM:"WEBM",WebP:"WEBP",Wbmp:"WBMP",Wmv:"WMV",Wpg:"WPG",X3f:"X3F",Xbm:"XBM",Xc:"XC",Xcf:"XCF",Xpm:"XPM",Xps:"XPS",Xv:"XV",Y:"Y",Yaml:"YAML",Ycbcr:"YCBCR",Ycbcra:"YCBCRA",Yuv:"YUV"},Pe=13,De=14,Ee=15,be=16;class Te extends ue{constructor(e){if(super(it._api._MagickSettings_Create(),it._api._MagickSettings_Dispose),void 0!==e._fileName&&re(e._fileName,(e=>{it._api._MagickSettings_SetFileName(this._instance,e)})),e._ping&&it._api._MagickSettings_SetPing(this._instance,1),void 0!==e._quality&&it._api._MagickSettings_SetQuality(this._instance,e._quality),void 0!==e.antiAlias&&it._api._MagickSettings_AntiAlias_Set(this._instance,e.antiAlias?1:0),void 0!==e.backgroundColor&&e.backgroundColor._use((e=>{it._api._MagickSettings_BackgroundColor_Set(this._instance,e)})),void 0!==e.colorSpace&&it._api._MagickSettings_ColorSpace_Set(this._instance,e.colorSpace),void 0!==e.colorType&&it._api._MagickSettings_ColorType_Set(this._instance,e.colorType),void 0!==e.compression&&it._api._MagickSettings_Compression_Set(this._instance,e.compression),void 0!==e.debug&&it._api._MagickSettings_Debug_Set(this._instance,e.debug?1:0),void 0!==e.density){re(e.density.toString(),(e=>{it._api._MagickSettings_Density_Set(this._instance,e)}))}if(void 0!==e.depth&&it._api._MagickSettings_Depth_Set(this._instance,e.depth),void 0!==e.endian&&it._api._MagickSettings_Endian_Set(this._instance,e.endian),void 0!==e.fillColor&&this.setOption("fill",e.fillColor.toString()),void 0!==e.font){re(lt._getFontFileName(e.font),(e=>{it._api._MagickSettings_SetFont(this._instance,e)}))}void 0!==e.fontPointsize&&it._api._MagickSettings_FontPointsize_Set(this._instance,e.fontPointsize),void 0!==e.format&&re(e.format,(e=>{it._api._MagickSettings_Format_Set(this._instance,e)})),void 0!==e.interlace&&it._api._MagickSettings_Interlace_Set(this._instance,e.interlace),void 0!==e.strokeColor&&this.setOption("stroke",e.strokeColor.toString()),void 0!==e.strokeWidth&&this.setOption("strokeWidth",e.strokeWidth.toString()),void 0!==e.textInterlineSpacing&&this.setOption("interline-spacing",e.textInterlineSpacing.toString()),void 0!==e.textKerning&&this.setOption("kerning",e.textKerning.toString());for(const t in e._options)this.setOption(t,e._options[t])}setOption(e,t){re(e,(e=>{re(t,(t=>{it._api._MagickSettings_SetOption(this._instance,e,t)}))}))}}class Ae{_options={};_fileName;_ping=!1;_quality;antiAlias;backgroundColor;colorSpace;colorType;compression;debug;density;depth;endian;fillColor;font;fontPointsize;format;interlace;strokeColor;strokeWidth;textInterlineSpacing;textKerning;getDefine(e,t){return void 0!==t?this._options[`${e}:${t}`]??null:this._options[e]??null}setDefine(e,t,r){if(void 0===r)this._options[e]=t;else{const i=this.parseDefine(e,t);this._options[i]="string"==typeof r?r:"number"==typeof r?r.toString():r?"true":"false"}}setDefines(e){e.getDefines().forEach((e=>{void 0!==e&&this.setDefine(e.format,e.name,e.value)}))}_clone(){const e=new Ae;return Object.assign(e,this),e}_use(e){const t=new Te(this);return ge._disposeAfterExecution(t,e)}parseDefine(e,t){return e===Ie.Unknown?t:`${e}:${t}`}}class xe extends Ae{constructor(e){super(),Object.assign(this,e)}extractArea;frameIndex;frameCount;height;get syncImageWithExifProfile(){const e=this.getDefine("exif:sync-image");return null===e||"true"===e.toLowerCase()}set syncImageWithExifProfile(e){this.setDefine("exif:sync-image",e.toString())}get syncImageWithTiffProperties(){const e=this.getDefine("tiff:sync-image");return null===e||"true"===e.toLowerCase()}set syncImageWithTiffProperties(e){this.setDefine("tiff:sync-image",e.toString())}width;_use(e){const t=new Te(this),r=this.getSize();if(""!==r&&re(r,(e=>{it._api._MagickSettings_SetSize(t._instance,e)})),void 0!==this.frameIndex||void 0!==this.frameCount){const e=this.frameIndex??0,r=this.frameCount??1;it._api._MagickSettings_SetScene(t._instance,e),it._api._MagickSettings_SetNumberScenes(t._instance,r);re((void 0!==this.frameCount?`${e}-${e+r}`:e.toString()).toString(),(e=>{it._api._MagickSettings_SetScenes(t._instance,e)}))}return void 0!==this.extractArea&&re(this.extractArea.toString(),(e=>{it._api._MagickSettings_Extract_Set(t._instance,e)})),ge._disposeAfterExecution(t,e)}getSize(){return void 0!==this.width&&void 0!==this.height?`${this.width}x${this.height}`:void 0!==this.width?`${this.width}x`:void 0!==this.height?`x${this.height}`:""}}const Ge={Undefined:0,No:1,Riemersma:2,FloydSteinberg:3};class Re extends ue{constructor(e){super(it._api._QuantizeSettings_Create(),it._api._QuantizeSettings_Dispose),it._api._QuantizeSettings_SetColors(this._instance,e.colors),it._api._QuantizeSettings_SetColorSpace(this._instance,e.colorSpace),it._api._QuantizeSettings_SetDitherMethod(this._instance,e.ditherMethod??Ge.No),it._api._QuantizeSettings_SetMeasureErrors(this._instance,e.measureErrors?1:0),it._api._QuantizeSettings_SetTreeDepth(this._instance,e.treeDepth)}}class Fe{constructor(){this.colors=256,this.colorSpace=N.Undefined,this.ditherMethod=Ge.Riemersma,this.measureErrors=!1,this.treeDepth=0}colors;colorSpace;ditherMethod;measureErrors;treeDepth;_use(e){const t=new Re(this);return ge._disposeAfterExecution(t,e)}}class Le{_image;_names=[];constructor(e){this._image=e}setArtifact(e,t){this._names.push(e),this._image.setArtifact(e,t)}static use(e,t){const r=new Le(e);try{return t(r)}finally{r.dispose()}}dispose(){for(const e of this._names)this._image.removeArtifact(e)}}function We(e,t){if(0===e.byteLength)throw new J("The specified array cannot be empty");let r=0;try{return r=it._api._malloc(e.byteLength),it._api.HEAPU8.set(e,r),t(r)}finally{0!==r&&it._api._free(r)}}function Be(e,t){if(0===e.length)throw new J("The specified array cannot be empty");const r=8*e.length;let i=0;try{i=it._api._malloc(r);const n=new ArrayBuffer(r),a=new Float64Array(n);for(let t=0;t<e.length;t++)a[t]=e[t];return it._api.HEAPU8.set(new Int8Array(n),i),t(i)}finally{0!==i&&it._api._free(i)}}class Oe extends Array{constructor(){super()}static create(e){const t=Oe.createObject();return void 0!==e&&t.read(e),t}dispose(){let e=this.pop();for(;void 0!==e;)e.dispose(),e=this.pop()}appendHorizontally(e){return this.createImage(((e,t)=>it._api._MagickImageCollection_Append(e,0,t.ptr)),e)}appendVertically(e){return this.createImage(((e,t)=>it._api._MagickImageCollection_Append(e,1,t.ptr)),e)}clone(e){const t=Oe.create();for(let e=0;e<this.length;e++)t.push(Ze._clone(this[e]));return t._use(e)}coalesce(){this.replaceImages(((e,t)=>it._api._MagickImageCollection_Coalesce(e,t.ptr)))}combine(e,t){let r=t,i=N.sRGB;return"number"==typeof e?i=e:r=e,this.createImage(((e,t)=>it._api._MagickImageCollection_Combine(e,i,t.ptr)),r)}complex(e,t){return Le.use(this[0],(r=>(e._setArtifacts(r),this.createImage(((t,r)=>it._api._MagickImageCollection_Complex(t,e.complexOperator,r.ptr)),t))))}deconstruct(){this.replaceImages(((e,t)=>it._api._MagickImageCollection_Deconstruct(e,t.ptr)))}evaluate(e,t){return this.createImage(((t,r)=>it._api._MagickImageCollection_Evaluate(t,e,r.ptr)),t)}flatten(e){return this.mergeImages(De,e)}fx(e,t,r){this.throwIfEmpty();let i=B.All,n=r;return"number"==typeof t?i=t:n=t,re(e,(e=>this.createImage(((t,r)=>it._api._MagickImageCollection_Fx(t,e,i,r.ptr)),n)))}merge(e){return this.mergeImages(Pe,e)}montage(e,t){return this.throwIfEmpty(),this.attachImages((r=>{const i=e._use((e=>we.use((t=>{const i=it._api._MagickImageCollection_Montage(r,e._instance,t.ptr);return this.checkResult(i,t)}))));return Oe._createFromImages(i,this.getSettings())._use((r=>{const i=e.transparentColor;return void 0!==i&&r.forEach((e=>{e.transparent(i)})),r.merge(t)}))}))}morph(e){if(this.length<2)throw new J("operation requires at least two images");this.replaceImages(((t,r)=>it._api._MagickImageCollection_Morph(t,e,r.ptr)))}mosaic(e){return this.mergeImages(Ee,e)}optimize(){this.replaceImages(((e,t)=>it._api._MagickImageCollection_Optimize(e,t.ptr)))}optimizePlus(){this.replaceImages(((e,t)=>it._api._MagickImageCollection_OptimizePlus(e,t.ptr)))}optimizeTransparency(){this.throwIfEmpty(),this.attachImages((e=>{we.usePointer((t=>{it._api._MagickImageCollection_OptimizeTransparency(e,t)}))}))}ping(e,t){this.readOrPing(!0,e,t)}polynomial(e,t){return this.createImage(((t,r)=>Be(e,(i=>it._api._MagickImageCollection_Polynomial(t,i,e.length,r.ptr)))),t)}quantize(e){this.throwIfEmpty();const t=void 0===e?new Fe:e;return this.attachImages((e=>{t._use((t=>{we.usePointer((r=>{it._api._MagickImageCollection_Quantize(e,t._instance,r)}))}))})),t.measureErrors?Ce._create(this[0]):null}read(e,t){this.readOrPing(!1,e,t)}remap(e,t){this.throwIfEmpty();const r=void 0===t?new Fe:t;this.attachImages((t=>{r._use((r=>{we.use((i=>{it._api._MagickImageCollection_Remap(t,r._instance,e._instance,i.ptr)}))}))}))}resetPage(){this.forEach((e=>{e.resetPage()}))}smushHorizontal(e,t){return this.smush(e,!1,t)}smushVertical(e,t){return this.smush(e,!0,t)}trimBounds(){this.mergeImages(be,(()=>{}))}write(e,t){this.throwIfEmpty();let r=0,i=0;const n=this[0],a=this.getSettings();void 0!==t?a.format=e:(t=e,a.format=n.format),we.use((e=>{fe.use((t=>{a._use((n=>{this.attachImages((a=>{r=it._api._MagickImage_WriteBlob(a,n._instance,t.ptr,e.ptr),i=t.value}))}))}))}));const s=new he(r,i,t);return ge._disposeAfterExecution(s,s.func)}static _createFromImages(e,t){const r=Oe.createObject();return r.addImages(e,t._clone()),r}_use(e){return ge._disposeAfterExecution(this,e)}addImages(e,t){t.format=Ie.Unknown;let r=e;for(;0!==r;){const e=it._api._MagickImage_GetNext(r);it._api._MagickImage_SetNext(r,0),this.push(Ze._createFromImage(r,t)),r=e}}attachImages(e){try{for(let e=0;e<this.length-1;e++)it._api._MagickImage_SetNext(this[e]._instance,this[e+1]._instance);return e(this[0]._instance)}finally{for(let e=0;e<this.length-1;e++)it._api._MagickImage_SetNext(this[e]._instance,0)}}checkResult(e,t){return t.check((()=>e),(()=>(it._api._MagickImageCollection_Dispose(e),0)))}static createObject(){return Object.create(Oe.prototype)}createImage(e,t){this.throwIfEmpty();const r=this.attachImages((t=>we.use((r=>{const i=e(t,r);return this.checkResult(i,r)}))));return Ze._createFromImage(r,this.getSettings())._use(t)}getSettings(){return this[0]._getSettings()._clone()}mergeImages(e,t){return this.createImage(((t,r)=>it._api._MagickImageCollection_Merge(t,e,r.ptr)),t)}readOrPing(e,t,r){this.dispose(),we.use((i=>{const n=void 0===r?new xe:new xe(r);n._ping=e,"string"==typeof t?(n._fileName=t,n._use((e=>{const t=it._api._MagickImageCollection_ReadFile(e._instance,i.ptr);this.addImages(t,n)}))):n._use((e=>{const r=t.byteLength;let a=0;try{a=it._api._malloc(r),it._api.HEAPU8.set(t,a);const s=it._api._MagickImageCollection_ReadBlob(e._instance,a,0,r,i.ptr);this.addImages(s,n)}finally{0!==a&&it._api._free(a)}}))}))}replaceImages(e){this.throwIfEmpty();const t=this.attachImages((t=>we.use((r=>{const i=e(t,r);return this.checkResult(i,r)})))),r=this.getSettings()._clone();this.dispose(),this.addImages(t,r)}smush(e,t,r){return this.createImage(((r,i)=>it._api._MagickImageCollection_Smush(r,e,t?1:0,i.ptr)),r)}throwIfEmpty(){if(0===this.length)throw new J("operation requires at least one image")}}class Ne{_value;constructor(e){this._value=e}static _fromQuantum(e){return new Ne(e/Z.max*100)}multiply(e){return e*this._value/100}toDouble(){return this._value}toString(){return`${parseFloat(this._value.toFixed(2))}%`}_toQuantum(){return Z.max*(this._value/100)}}class ze{static use(e,t,r){const i=it._api._MagickRectangle_Create();try{it._api._MagickRectangle_X_Set(i,t.x),it._api._MagickRectangle_Y_Set(i,t.y);let n=t.width,a=t.height;return t.isPercentage&&(n=new Ne(t.width).multiply(e.width),a=new Ne(t.height).multiply(e.height)),it._api._MagickRectangle_Width_Set(i,n),it._api._MagickRectangle_Height_Set(i,a),r(i)}finally{it._api._MagickRectangle_Dispose(i)}}}class $e{static _use(e,t,r){let i=0;try{return i=it._api._OffsetInfo_Create(),it._api._PrimaryInfo_X_Set(i,e),it._api._PrimaryInfo_Y_Set(i,t),r(i)}finally{it._api._free(i)}}}class He{_values;constructor(){this._values=new Array(7).fill(0)}get(e){return this._values[e]}set(e,t){this._values[e]=t}}class Ue{_huPhashes=new Map;_hash="";channel;constructor(e,t,r){if(this.channel=e,"number"==typeof r)for(let e=0;e<t.length;e++){const i=new He;for(let t=0;t<7;t++){const n=it._api._ChannelPerceptualHash_GetHuPhash(r,e,t);i.set(t,n)}this._huPhashes.set(t[e],i)}else this.parseHash(t,r)}huPhash(e,t){if(t<0||t>6)throw new J("Invalid index specified");const r=this._huPhashes.get(e);if(void 0===r)throw new J("Invalid color space specified");return r.get(t)}sumSquaredDistance(e){let t=0;return this._huPhashes.forEach(((r,i)=>{for(let n=0;n<7;n++){const a=r.get(n),s=e.huPhash(i,n);t+=(a-s)*(a-s)}})),t}toString(){return""==this._hash&&this.setHash(),this._hash}parseHash(e,t){this._hash=t;let r=0;for(const i of e){const e=new He;for(let i=0;i<7;i++,r+=5){const n=Number.parseInt(t.substring(r,r+5),16);if(isNaN(n))throw new J("Invalid hash specified");let a=n/Ue.powerOfTen(n>>17);!!(65536&n)&&(a=-a),e.set(i,a)}this._huPhashes.set(i,e)}}static powerOfTen(e){switch(e){case 2:return 100;case 3:return 1e3;case 4:return 1e4;case 5:return 1e5;case 6:return 1e6;default:return 10}}setHash(){this._hash="",this._huPhashes.forEach((e=>{for(let t=0;t<7;t++){let r=e.get(t),i=0;for(;i<7&&Math.abs(10*r)<65356;)r*=10,i++;i<<=1,i<0&&(i|=1),i=(i<<16)+Math.floor(r<0?-(r-.5):r+.5),this._hash+=i.toString(16)}}))}}class je{_red;_green;_blue;constructor(e,t,r){if("string"==typeof e){const r=t??je._defaultColorspaces();je._validateColorSpaces(r);const i=35*r.length;if(e.length!==3*i)throw new J("Invalid hash size");this._red=new Ue(W.Red,r,e.substring(0,i)),this._blue=new Ue(W.Blue,r,e.substring(i,i+i)),this._green=new Ue(W.Green,r,e.substring(i+i))}else this._red=e,this._green=t,this._blue=r}static _create(e,t,r){if(0===r)throw new J("The native operation failed to create an instance");const i=je.createChannel(e,t,r,W.Red),n=je.createChannel(e,t,r,W.Green),a=je.createChannel(e,t,r,W.Blue);return new je(i,n,a)}static _defaultColorspaces(){return[N.XyY,N.HSB]}static _validateColorSpaces(e){if(e.length<1||e.length>6)throw new J("Invalid number of colorspaces, the minimum is 1 and the maximum is 6");if(new Set(e).size!==e.length)throw new J("Specifying the same colorspace more than once is not allowed")}getChannel(e){switch(e){case W.Red:return this._red;case W.Green:return this._green;case W.Blue:return this._blue;default:return null}}sumSquaredDistance(e){const t=e.getChannel(W.Red),r=e.getChannel(W.Green),i=e.getChannel(W.Blue);if(null===t||null===r||null===i)throw new J("The other perceptual hash should contain a red, green and blue channel.");return this._red.sumSquaredDistance(t)+this._green.sumSquaredDistance(r)+this._blue.sumSquaredDistance(i)}toString(){return this._red.toString()+this._green.toString()+this._blue.toString()}static createChannel(e,t,r,i){const n=it._api._PerceptualHash_GetInstance(e._instance,r,i);return new Ue(i,t,n)}}class Ye extends ue{image;constructor(e){super(we.usePointer((t=>it._api._PixelCollection_Create(e._instance,t))),it._api._PixelCollection_Dispose),this.image=e}static _create(e){return new Ye(e)}static _use(e,t){const r=new Ye(e);return ge._disposeAfterExecution(r,t)}static _map(e,t,r){const i=new Ye(e);try{i.use(0,0,e.width,e.height,t,(e=>{r(e)}))}finally{i.dispose()}}getArea(e,t,r,i){return we.usePointer((n=>{const a=it._api._PixelCollection_GetArea(this._instance,e,t,r,i,n),s=r*i*this.image.channelCount;return it._api.HEAPU8.subarray(a,a+s)}))}getPixel(e,t){return this.getArea(e,t,1,1)}setArea(e,t,r,i,n){we.usePointer((a=>{const s=n instanceof Uint8Array?n:new Uint8Array(n);!function(e,t){if(0===e.byteLength)throw new J("The specified array cannot be empty");let r=0;try{return r=it._api._malloc(e.byteLength),it._api.HEAPU8.set(e,r),t(r)}finally{0!==r&&it._api._free(r)}}(s,(n=>{it._api._PixelCollection_SetArea(this._instance,e,t,r,i,n,s.length,a)}))}))}setPixel(e,t,r){Uint8Array,this.setArea(e,t,1,1,r)}toByteArray(e,t,r,i,n){return this.use(e,t,r,i,n,(e=>{if(0===e)return null;const t=r*i*n.length;return it._api.HEAPU8.slice(e,e+t)}))}use(e,t,r,i,n,a){return re(n,(n=>we.use((s=>{let o=it._api._PixelCollection_ToByteArray(this._instance,e,t,r,i,n,s.ptr);return s.check((()=>{const e=a(o);return o=it._api._MagickMemory_Relinquish(o),e}),(()=>(o=it._api._MagickMemory_Relinquish(o),null)))}))))}}const Ve={Undefined:0,Average:1,Brightness:2,Lightness:3,MS:4,Rec601Luma:5,Rec601Luminance:6,Rec709Luma:7,Rec709Luminance:8,RMS:9};class Xe{constructor(e,t,r){this.x=e,this.y=t,this.z=r}x;y;z;static _create(e){return 0===e?new Xe(0,0,0):new Xe(it._api._PrimaryInfo_X_Get(e),it._api._PrimaryInfo_Y_Get(e),it._api._PrimaryInfo_Z_Get(e))}_use(e){let t=0;try{t=it._api._PrimaryInfo_Create(),it._api._PrimaryInfo_X_Set(t,this.x),it._api._PrimaryInfo_Y_Set(t,this.y),it._api._PrimaryInfo_Z_Set(t,this.z),e(t)}finally{it._api._free(t)}}}class qe{channel;depth;entropy;kurtosis;maximum;mean;minimum;skewness;standardDeviation;constructor(e,t){this.channel=e,this.depth=it._api._ChannelStatistics_Depth_Get(t),this.entropy=it._api._ChannelStatistics_Entropy_Get(t),this.kurtosis=it._api._ChannelStatistics_Kurtosis_Get(t),this.maximum=it._api._ChannelStatistics_Maximum_Get(t),this.mean=it._api._ChannelStatistics_Mean_Get(t),this.minimum=it._api._ChannelStatistics_Minimum_Get(t),this.skewness=it._api._ChannelStatistics_Skewness_Get(t),this.standardDeviation=it._api._ChannelStatistics_StandardDeviation_Get(t)}}class Ke{_channels=new Map;get channels(){return Array.from(this._channels.keys())}composite(){return this._channels.get(W.Composite)}getChannel(e){const t=this._channels.get(e);return void 0!==t?t:null}static _create(e,t,r){const i=new Ke;return e.channels.forEach((e=>{r>>e&1&&i.addChannel(t,e)})),i.addChannel(t,W.Composite),i}addChannel(e,t){const r=it._api._Statistics_GetInstance(e,t);0!==r&&this._channels.set(t,new qe(t,r))}}class Qe{static toArray(e){if(0===e)return null;const t=it._api._StringInfo_Datum_Get(e),r=it._api._StringInfo_Length_Get(e);return it._api.HEAPU8.subarray(t,t+r)}}class Je{constructor(e){this.error=e}error}class Ze extends ue{_settings;_progress;_warning;constructor(e,t){super(e,it._api._MagickImage_Dispose),this._settings=t}get animationDelay(){return it._api._MagickImage_AnimationDelay_Get(this._instance)}set animationDelay(e){it._api._MagickImage_AnimationDelay_Set(this._instance,e)}get animationIterations(){return it._api._MagickImage_AnimationIterations_Get(this._instance)}set animationIterations(e){it._api._MagickImage_AnimationIterations_Set(this._instance,e)}get animationTicksPerSecond(){return it._api._MagickImage_AnimationTicksPerSecond_Get(this._instance)}set animationTicksPerSecond(e){it._api._MagickImage_AnimationTicksPerSecond_Set(this._instance,e)}get artifactNames(){const e=[];it._api._MagickImage_ResetArtifactIterator(this._instance);let t=it._api._MagickImage_GetNextArtifactName(this._instance);for(;0!==t;)e.push(it._api.UTF8ToString(t)),t=it._api._MagickImage_GetNextArtifactName(this._instance);return e}get attributeNames(){const e=[];it._api._MagickImage_ResetAttributeIterator(this._instance);let t=it._api._MagickImage_GetNextAttributeName(this._instance);for(;0!==t;)e.push(it._api.UTF8ToString(t)),t=it._api._MagickImage_GetNextAttributeName(this._instance);return e}get backgroundColor(){const e=it._api._MagickImage_BackgroundColor_Get(this._instance);return ie._create(e)}set backgroundColor(e){e._use((e=>{it._api._MagickImage_BackgroundColor_Set(this._instance,e)}))}get baseHeight(){return it._api._MagickImage_BaseHeight_Get(this._instance)}get baseWidth(){return it._api._MagickImage_BaseWidth_Get(this._instance)}get blackPointCompensation(){return 1===it._api._MagickImage_BlackPointCompensation_Get(this._instance)}set blackPointCompensation(e){it._api._MagickImage_BlackPointCompensation_Set(this._instance,e?1:0)}get borderColor(){const e=it._api._MagickImage_BorderColor_Get(this._instance);return ie._create(e)}set borderColor(e){e._use((e=>{it._api._MagickImage_BorderColor_Set(this._instance,e)}))}get boundingBox(){return this.useExceptionPointer((e=>{const t=it._api._MagickImage_BoundingBox_Get(this._instance,e),r=ae._fromRectangle(t);return 0===r.width||0===r.height?null:r}))}get channelCount(){return it._api._MagickImage_ChannelCount_Get(this._instance)}get channels(){const e=[];return[W.Red,W.Green,W.Blue,W.Black,W.Alpha].forEach((t=>{it._api._MagickImage_HasChannel(this._instance,t)&&e.push(t)})),e}get chromaticity(){return new O(Xe._create(it._api._MagickImage_ChromaRed_Get(this._instance)),Xe._create(it._api._MagickImage_ChromaGreen_Get(this._instance)),Xe._create(it._api._MagickImage_ChromaBlue_Get(this._instance)),Xe._create(it._api._MagickImage_ChromaWhite_Get(this._instance)))}set chromaticity(e){e.blue._use((e=>it._api._MagickImage_ChromaBlue_Set(this._instance,e))),e.green._use((e=>it._api._MagickImage_ChromaGreen_Set(this._instance,e))),e.red._use((e=>it._api._MagickImage_ChromaRed_Set(this._instance,e))),e.white._use((e=>it._api._MagickImage_ChromaWhite_Set(this._instance,e)))}get classType(){return it._api._MagickImage_ClassType_Get(this._instance)}set classType(e){this.useExceptionPointer((t=>{it._api._MagickImage_ClassType_Set(this._instance,e,t)}))}get colorFuzz(){return Ne._fromQuantum(it._api._MagickImage_ColorFuzz_Get(this._instance))}set colorFuzz(e){it._api._MagickImage_ColorFuzz_Set(this._instance,e._toQuantum())}get colormapSize(){return it._api._MagickImage_ColormapSize_Get(this._instance)}set colormapSize(e){this.useExceptionPointer((t=>{it._api._MagickImage_ColormapSize_Set(this._instance,e,t)}))}get colorSpace(){return it._api._MagickImage_ColorSpace_Get(this._instance)}set colorSpace(e){this.useExceptionPointer((t=>{it._api._MagickImage_ColorSpace_Set(this._instance,e,t)}))}get colorType(){return void 0!==this.settings.colorType?this.settings.colorType:it._api._MagickImage_ColorType_Get(this._instance)}set colorType(e){this.useExceptionPointer((t=>{it._api._MagickImage_ColorType_Set(this._instance,e,t)}))}get comment(){return this.getAttribute("comment")}set comment(e){null===e?this.removeAttribute("comment"):this.setAttribute("comment",e)}get compose(){return it._api._MagickImage_Compose_Get(this._instance)}set compose(e){it._api._MagickImage_Compose_Set(this._instance,e)}get compression(){return it._api._MagickImage_Compression_Get(this._instance)}get density(){return new le(it._api._MagickImage_ResolutionX_Get(this._instance),it._api._MagickImage_ResolutionY_Get(this._instance),it._api._MagickImage_ResolutionUnits_Get(this._instance))}set density(e){it._api._MagickImage_ResolutionX_Set(this._instance,e.x),it._api._MagickImage_ResolutionY_Set(this._instance,e.y),it._api._MagickImage_ResolutionUnits_Set(this._instance,e.units)}get depth(){return it._api._MagickImage_Depth_Get(this._instance)}set depth(e){it._api._MagickImage_Depth_Set(this._instance,e)}get endian(){return it._api._MagickImage_Endian_Get(this._instance)}set endian(e){it._api._MagickImage_Endian_Set(this._instance,e)}get fileName(){const e=it._api._MagickImage_FileName_Get(this._instance);return 0===e?null:it._api.UTF8ToString(e)}get filterType(){return it._api._MagickImage_FilterType_Get(this._instance)}set filterType(e){it._api._MagickImage_FilterType_Set(this._instance,e)}get format(){return ee(it._api._MagickImage_Format_Get(this._instance),"")}set format(e){re(e.toString(),(e=>it._api._MagickImage_Format_Set(this._instance,e)))}get gamma(){return it._api._MagickImage_Gamma_Get(this._instance)}get gifDisposeMethod(){return it._api._MagickImage_GifDisposeMethod_Get(this._instance)}set gifDisposeMethod(e){it._api._MagickImage_GifDisposeMethod_Set(this._instance,e)}get hasAlpha(){return this.toBool(it._api._MagickImage_HasAlpha_Get(this._instance))}set hasAlpha(e){this.useExceptionPointer((t=>{e&&this.alpha(L.Opaque),it._api._MagickImage_HasAlpha_Set(this._instance,this.fromBool(e),t)}))}get height(){return it._api._MagickImage_Height_Get(this._instance)}get interlace(){return it._api._MagickImage_Interlace_Get(this._instance)}get isOpaque(){return this.useExceptionPointer((e=>this.toBool(it._api._MagickImage_IsOpaque_Get(this._instance,e))))}get interpolate(){return it._api._MagickImage_Interpolate_Get(this._instance)}set interpolate(e){it._api._MagickImage_Interpolate_Set(this._instance,e)}get label(){return this.getAttribute("label")}set label(e){null===e?this.removeAttribute("label"):this.setAttribute("label",e)}get matteColor(){const e=it._api._MagickImage_MatteColor_Get(this._instance);return ie._create(e)}set matteColor(e){e._use((e=>{it._api._MagickImage_MatteColor_Set(this._instance,e)}))}get metaChannelCount(){return it._api._MagickImage_MetaChannelCount_Get(this._instance)}set metaChannelCount(e){this.useExceptionPointer((t=>{it._api._MagickImage_MetaChannelCount_Set(this._instance,e,t)}))}get orientation(){return it._api._MagickImage_Orientation_Get(this._instance)}set orientation(e){it._api._MagickImage_Orientation_Set(this._instance,e)}get onProgress(){return this._progress}set onProgress(e){void 0!==e?ot.setProgressDelegate(this):this.disposeProgressDelegate(),this._progress=e}get onWarning(){return this._warning}set onWarning(e){this._warning=e}get page(){const e=it._api._MagickImage_Page_Get(this._instance);return ae._fromRectangle(e)}set page(e){e._toRectangle((e=>{it._api._MagickImage_Page_Set(this._instance,e)}))}get profileNames(){const e=[];it._api._MagickImage_ResetProfileIterator(this._instance);let t=it._api._MagickImage_GetNextProfileName(this._instance);for(;0!==t;)e.push(it._api.UTF8ToString(t)),t=it._api._MagickImage_GetNextProfileName(this._instance);return e}get quality(){return it._api._MagickImage_Quality_Get(this._instance)}set quality(e){let t=e<1?1:e;t=t>100?100:t,it._api._MagickImage_Quality_Set(this._instance,t),this._settings._quality=t}get renderingIntent(){return it._api._MagickImage_RenderingIntent_Get(this._instance)}set renderingIntent(e){it._api._MagickImage_RenderingIntent_Set(this._instance,e)}get settings(){return this._settings}get signature(){return this.useExceptionPointer((e=>ee(it._api._MagickImage_Signature_Get(this._instance,e))))}get totalColors(){return this.useExceptionPointer((e=>it._api._MagickImage_TotalColors_Get(this._instance,e)))}get virtualPixelMethod(){return it._api._MagickImage_VirtualPixelMethod_Get(this._instance)}set virtualPixelMethod(e){this.useExceptionPointer((t=>{it._api._MagickImage_VirtualPixelMethod_Set(this._instance,e,t)}))}get width(){return it._api._MagickImage_Width_Get(this._instance)}adaptiveBlur(e,t){const r=this.valueOrDefault(e,0),i=this.valueOrDefault(t,1);this.useException((e=>{const t=it._api._MagickImage_AdaptiveBlur(this._instance,r,i,e.ptr);this._setInstance(t,e)}))}adaptiveResize(e,t){const r="number"==typeof e?new ae(0,0,e,t):e;this.useException((e=>{re(r.toString(),(t=>{const r=it._api._MagickImage_AdaptiveResize(this._instance,t,e.ptr);this._setInstance(r,e)}))}))}adaptiveSharpen(e,t,r){let i=0;const n=t??1;let a=r??B.Undefined;void 0!==e&&(void 0===t?a=e:i=e),this.useException((e=>{const t=it._api._MagickImage_AdaptiveSharpen(this._instance,i,n,a,e.ptr);this._setInstance(t,e)}))}adaptiveThreshold(e,t,r,i){const n=r instanceof Ne?r._toQuantum():0;let a=i??B.Undefined;"number"==typeof r&&(a=r),this.useException((r=>{const i=it._api._MagickImage_AdaptiveThreshold(this._instance,e,t,n,a,r.ptr);this._setInstance(i,r)}))}addNoise(e,t,r){let i=1,n=r??B.Undefined;void 0!==t&&(void 0===r?n=t:i=t),this.useException((t=>{const r=it._api._MagickImage_AddNoise(this._instance,e,i,n,t.ptr);this._setInstance(r,t)}))}alpha(e){this.useExceptionPointer((t=>{it._api._MagickImage_SetAlpha(this._instance,e,t)}))}annotate(e,t,r,i){const n=de._create(this._settings);return this.useExceptionPointer((a=>n._use((n=>{re(e,(e=>{let s=null,o=Se.Undefined,c=0;"object"==typeof t?(s=t.toString(),void 0!==r&&(o=r),void 0!==i&&(c=i)):(o=t,void 0!==r&&(c=r)),re(s,(t=>{it._api._MagickImage_Annotate(this._instance,n._instance,e,t,o,c,a)}))}))}))))}autoGamma(e){this.useExceptionPointer((t=>{const r=this.valueOrDefault(e,B.Composite);it._api._MagickImage_AutoGamma(this._instance,r,t)}))}autoLevel(e){this.useExceptionPointer((t=>{const r=this.valueOrDefault(e,B.Undefined);it._api._MagickImage_AutoLevel(this._instance,r,t)}))}autoOrient(){this.useException((e=>{const t=it._api._MagickImage_AutoOrient(this._instance,e.ptr);this._setInstance(t,e)}))}autoThreshold(e){this.useException((t=>{it._api._MagickImage_AutoThreshold(this._instance,e,t.ptr)}))}bilateralBlur(e,t,r,i){const n=this.valueOrComputedDefault(r,(()=>Math.sqrt(e*e+t*t))),a=this.valueOrDefault(i,.25*n);this.useException((r=>{const i=it._api._MagickImage_BilateralBlur(this._instance,e,t,n,a,r.ptr);this._setInstance(i,r)}))}blackThreshold(e,t){const r=this.valueOrDefault(t,B.Composite);this.useException((t=>{re(e.toString(),(e=>{it._api._MagickImage_BlackThreshold(this._instance,e,r,t.ptr)}))}))}blueShift(e){const t=this.valueOrDefault(e,1.5);this.useException((e=>{const r=it._api._MagickImage_BlueShift(this._instance,t,e.ptr);this._setInstance(r,e)}))}blur(e,t,r){let i=0;const n=this.valueOrDefault(t,1);let a=this.valueOrDefault(r,B.Undefined);void 0!==e&&(void 0===t?a=e:i=e),this.useException((e=>{const t=it._api._MagickImage_Blur(this._instance,i,n,a,e.ptr);this._setInstance(t,e)}))}border(e,t){const r=e,i=this.valueOrDefault(t,e),n=new ae(0,0,r,i);this.useException((e=>{n._toRectangle((t=>{const r=it._api._MagickImage_Border(this._instance,t,e.ptr);this._setInstance(r,e)}))}))}brightnessContrast(e,t,r){const i=this.valueOrDefault(r,B.Undefined);this.useException((r=>{it._api._MagickImage_BrightnessContrast(this._instance,e.toDouble(),t.toDouble(),i,r.ptr)}))}cannyEdge(e,t,r,i){const n=this.valueOrDefault(e,0),a=this.valueOrDefault(t,1),s=this.valueOrDefault(r,new Ne(10)).toDouble()/100,o=this.valueOrDefault(i,new Ne(30)).toDouble()/100;this.useException((e=>{const t=it._api._MagickImage_CannyEdge(this._instance,n,a,s,o,e.ptr);this._setInstance(t,e)}))}charcoal(e,t){const r=void 0===e?0:e,i=void 0===t?1:t;this.useException((e=>{const t=it._api._MagickImage_Charcoal(this._instance,r,i,e.ptr);this._setInstance(t,e)}))}chop(e){this.useException((t=>{e._toRectangle((e=>{const r=it._api._MagickImage_Chop(this._instance,e,t.ptr);this._setInstance(r,t)}))}))}chopHorizontal(e,t){this.chop(new ae(e,0,t,0))}chopVertical(e,t){this.chop(new ae(0,e,0,t))}clahe(e,t,r,i){this.useExceptionPointer((n=>{const a=e instanceof Ne?e.multiply(this.width):e,s=t instanceof Ne?t.multiply(this.height):t;it._api._MagickImage_Clahe(this._instance,a,s,r,i,n)}))}clone(e){return Ze._clone(this)._use(e)}cloneArea(e,t){return we.usePointer((r=>e._toRectangle((i=>$e._use(0,0,(n=>{const a=it._api._MagickImage_CloneArea(this._instance,e.width,e.height,r);it._api._MagickImage_CopyPixels(a,this._instance,i,n,B.Undefined,r);const s=new Ze(a,this._settings);return t(s)}))))))}colorAlpha(e){if(!this.hasAlpha)return;const t=Ze.create();t.read(e,this.width,this.height),t.composite(this,K.SrcOver,new se(0,0)),this._instance=t._instance}compare(e,t,r,i){const n=t instanceof q,a=n?t.metric:t;let s=r;void 0!==i&&(s=i);let o=B.Undefined;if("function"!=typeof s)return void 0!==s&&(o=s),this.useExceptionPointer((t=>it._api._MagickImage_CompareDistortion(this._instance,e._instance,a,o,t)));void 0!==r&&"function"!=typeof r&&(o=r);const c=Le.use(this,(r=>(n&&t._setArtifacts(r),ye.use((t=>{const r=this.useExceptionPointer((r=>it._api._MagickImage_Compare(this._instance,e._instance,a,o,t.ptr,r))),i=t.value,n=Ze._createFromImage(r,this._settings);return X._create(i,n)})))));return c.difference._use((()=>s(c)))}composite(e,t,r,i,n){let a=0,s=0,o=K.In,c=B.All,_=null;t instanceof se?(a=t.x,s=t.y):void 0!==t&&(o=t),r instanceof se?(a=r.x,s=r.y):"string"==typeof r?_=r:void 0!==r&&(c=r),"string"==typeof i?_=i:void 0!==i&&(c=i),void 0!==n&&(c=n),null!==_&&this.setArtifact("compose:args",_),this.useExceptionPointer((t=>{it._api._MagickImage_Composite(this._instance,e._instance,a,s,o,c,t)})),null!==_&&this.removeArtifact("compose:args")}compositeGravity(e,t,r,i,n,a){let s=0,o=0,c=K.In,_=B.All,l=null;r instanceof se?(s=r.x,o=r.y):void 0!==r&&(c=r),i instanceof se?(s=i.x,o=i.y):"string"==typeof i?l=i:void 0!==i&&(_=i),"string"==typeof n?l=n:void 0!==n&&(_=n),void 0!==a&&(_=a),null!==l&&this.setArtifact("compose:args",l),this.useExceptionPointer((r=>{it._api._MagickImage_CompositeGravity(this._instance,e._instance,t,s,o,c,_,r)})),null!==l&&this.removeArtifact("compose:args")}connectedComponents(e){const t="number"==typeof e?new ce(e):e;return Le.use(this,(e=>(t._setArtifacts(e),this.useException((e=>fe.use((r=>{try{const i=it._api._MagickImage_ConnectedComponents(this._instance,t.connectivity,r.ptr,e.ptr);return this._setInstance(i,e),oe._create(r.value,this.colormapSize)}finally{0!==r.value&&it._api._ConnectedComponent_DisposeList(r.value)}})))))))}contrast=()=>this._contrast(!0);contrastStretch(e,t,r){const i=this.width*this.height,n=e.multiply(i);let a=0,s=this.valueOrDefault(r,B.Undefined);t instanceof Ne?a=i-t.multiply(i):(a=i-e.multiply(i),void 0!==t&&(s=t)),this.useExceptionPointer((e=>{it._api._MagickImage_ContrastStretch(this._instance,n,a,s,e)}))}static create(e,t,r){const i=new Ze(Ze.createInstance(),new Ae);return void 0!==e&&i.readOrPing(!1,e,t,r),i}crop(e,t,r){let i,n;"number"!=typeof e?(i=e,n=this.valueOrDefault(t,Se.Undefined)):void 0!==t&&(i=new ae(e,t),n=this.valueOrDefault(r,Se.Undefined)),this.useException((e=>{re(i.toString(),(t=>{const r=it._api._MagickImage_Crop(this._instance,t,n,e.ptr);this._setInstance(r,e)}))}))}cropToTiles(e,t,r){let i,n;return"number"==typeof e&&"number"==typeof t&&void 0!==r?(i=new ae(0,0,e,t),n=r):"number"!=typeof e&&"number"!=typeof t&&(i=e,n=t),this.useException((e=>re(i.toString(),(t=>{const r=it._api._MagickImage_CropToTiles(this._instance,t,e.ptr);return Oe._createFromImages(r,this._settings)._use(n)}))))}deskew(e,t){return Le.use(this,(r=>{void 0!==t&&r.setArtifact("deskew:auto-crop",t),this.useException((t=>{const r=it._api._MagickImage_Deskew(this._instance,e._toQuantum(),t.ptr);this._setInstance(r,t)}));const i=Number(this.getArtifact("deskew:angle"));return isNaN(i)?0:i}))}distort(e,t){Le.use(this,(r=>{let i,n=0;"number"==typeof e?i=e:(i=e.method,n=e.bestFit?1:0,e._setArtifacts(r)),this.useException((e=>{Be(t,(r=>{const a=it._api._MagickImage_Distort(this._instance,i,n,r,t.length,e.ptr);this._setInstance(a,e)}))}))}))}draw(...e){const t=e.flat();0!==t.length&&ke._use(this,(e=>{e.draw(t)}))}evaluate(e,t,r,i){if("number"==typeof t){const i=t,n="number"==typeof r?r:r._toQuantum();this.useExceptionPointer((t=>{it._api._MagickImage_EvaluateOperator(this._instance,e,i,n,t)}))}else if(void 0!==i){if("number"!=typeof r)throw new J("this should not happen");const n=t,a=r,s="number"==typeof i?i:i._toQuantum();if(n.isPercentage)throw new J("percentage is not supported");this.useExceptionPointer((t=>{ze.use(this,n,(r=>{it._api._MagickImage_EvaluateGeometry(this._instance,e,r,a,s,t)}))}))}}extent(e,t,r){let i,n=Se.Undefined;"number"!=typeof e?i=e:"number"==typeof t&&(i=new ae(e,t)),"number"==typeof t?n=t:void 0!==t&&(this.backgroundColor=t),"number"==typeof r?n=r:void 0!==r&&(this.backgroundColor=r),this.useException((e=>{re(i.toString(),(t=>{const r=it._api._MagickImage_Extent(this._instance,t,n,e.ptr);this._setInstance(r,e)}))}))}flip(){this.useException((e=>{const t=it._api._MagickImage_Flip(this._instance,e.ptr);this._setInstance(t,e)}))}flop(){this.useException((e=>{const t=it._api._MagickImage_Flop(this._instance,e.ptr);this._setInstance(t,e)}))}formatExpression(e){return this.useExceptionPointer((t=>this._settings._use((r=>re(e,(e=>{const i=it._api._MagickImage_FormatExpression(this._instance,r._instance,e,t);return function(e,t){const r=ee(t);return e._MagickMemory_Relinquish(t),r}(it._api,i)}))))))}gammaCorrect(e,t){const r=this.valueOrDefault(t,B.Undefined);this.useExceptionPointer((t=>{it._api._MagickImage_GammaCorrect(this._instance,e,r,t)}))}gaussianBlur(e,t,r){const i=this.valueOrDefault(t,1),n=this.valueOrDefault(r,B.Undefined);this.useException((t=>{const r=it._api._MagickImage_GaussianBlur(this._instance,e,i,n,t.ptr);this._setInstance(r,t)}))}getArtifact(e){return re(e,(e=>ee(it._api._MagickImage_GetArtifact(this._instance,e))))}getAttribute(e){return this.useException((t=>re(e,(e=>ee(it._api._MagickImage_GetAttribute(this._instance,e,t.ptr))))))}getColorProfile(){const e=["icc","icm"];for(const t of e){const e=this._getProfile(t);if(null!==e)return new Y(e)}return null}getPixels(e){if(this._settings._ping)throw new J("image contains no pixel data");return Ye._use(this,e)}getProfile(e){const t=this._getProfile(e);return null===t?null:new j(e,t)}getWriteMask(e){const t=this.useExceptionPointer((e=>it._api._MagickImage_GetWriteMask(this._instance,e))),r=0===t?null:new Ze(t,new Ae);return null==r?e(r):r._use(e)}grayscale(e=Ve.Undefined){this.useExceptionPointer((t=>{it._api._MagickImage_Grayscale(this._instance,e,t)}))}hasProfile(e){return re(e,(e=>this.toBool(it._api._MagickImage_HasProfile(this._instance,e))))}histogram(){const e=new Map;return this.useExceptionPointer((t=>{fe.use((r=>{const i=it._api._MagickImage_Histogram(this._instance,r.ptr,t);if(0!==i){const t=r.value;for(let r=0;r<t;r++){const t=it._api._MagickColorCollection_GetInstance(i,r),n=ie._create(t),a=it._api._MagickColor_Count_Get(t);e.set(n.toString(),a)}it._api._MagickColorCollection_DisposeList(i)}}))})),e}inverseContrast=()=>this._contrast(!1);inverseLevel(e,t,r,i){const n=this.valueOrDefault(r,1),a=this.valueOrDefault(i,B.Composite);this.useExceptionPointer((r=>{it._api._MagickImage_InverseLevel(this._instance,e.toDouble(),t._toQuantum(),n,a,r)}))}inverseOpaque=(e,t)=>this._opaque(e,t,!0);inverseSigmoidalContrast(e,t,r){this._sigmoidalContrast(!1,e,t,r)}inverseTransparent=e=>this._transparent(e,!0);level(e,t,r,i){const n=this.valueOrDefault(r,1),a=this.valueOrDefault(i,B.Composite);this.useExceptionPointer((r=>{it._api._MagickImage_Level(this._instance,e.toDouble(),t._toQuantum(),n,a,r)}))}linearStretch(e,t){this.useExceptionPointer((r=>{it._api._MagickImage_LinearStretch(this._instance,e.toDouble(),t._toQuantum(),r)}))}liquidRescale(e,t){const r="number"==typeof e?new ae(e,t):e;this.useException((e=>{re(r.toString(),(t=>{const i=it._api._MagickImage_LiquidRescale(this._instance,t,r.x,r.y,e.ptr);this._setInstance(i,e)}))}))}negate(e){this.useExceptionPointer((t=>{const r=this.valueOrDefault(e,B.Undefined);it._api._MagickImage_Negate(this._instance,0,r,t)}))}negateGrayScale(e){this.useExceptionPointer((t=>{const r=this.valueOrDefault(e,B.Undefined);it._api._MagickImage_Negate(this._instance,1,r,t)}))}normalize(){this.useExceptionPointer((e=>{it._api._MagickImage_Normalize(this._instance,e)}))}modulate(e,t,r){const i=this.valueOrDefault(t,new Ne(100)),n=this.valueOrDefault(r,new Ne(100));this.useExceptionPointer((t=>{re(`${e.toDouble()}/${i.toDouble()}/${n.toDouble()}`,(e=>{it._api._MagickImage_Modulate(this._instance,e,t)}))}))}morphology(e){this.useException((t=>{re(e.kernel,(r=>{const i=it._api._MagickImage_Morphology(this._instance,e.method,r,e.channels,e.iterations,t.ptr);this._setInstance(i,t)}))}))}motionBlur(e,t,r){this.useException((i=>{const n=it._api._MagickImage_MotionBlur(this._instance,e,t,r,i.ptr);this._setInstance(n,i)}))}oilPaint(e){const t=this.valueOrDefault(e,3);this.useException((e=>{const r=it._api._MagickImage_OilPaint(this._instance,t,0,e.ptr);this._setInstance(r,e)}))}opaque=(e,t)=>this._opaque(e,t,!1);ping(e,t){this.readOrPing(!0,e,t)}perceptualHash(e){const t=this.valueOrDefault(e,je._defaultColorspaces());return je._validateColorSpaces(t),Le.use(this,(e=>{const r=t.map((e=>z[e])).join(",");return e.setArtifact("phash:colorspaces",r),this.useExceptionPointer((e=>{const r=it._api._MagickImage_PerceptualHash(this._instance,e);return je._create(this,t,r)}))}))}quantize(e){const t=this.valueOrDefault(e,new Fe);return this.useException((e=>{t._use((t=>{it._api._MagickImage_Quantize(this._instance,t._instance,e.ptr)}))})),t.measureErrors?Ce._create(this):null}read(e,t,r){this.readOrPing(!1,e,t,r)}readFromCanvas(e,t){const r=e.getContext("2d",t);if(null===r)return;const i=r.getImageData(0,0,e.width,e.height),n=new xe;n.format=Ie.Rgba,n.width=e.width,n.height=e.height,this.useException((e=>{this.readFromArray(i.data,n,e)}))}removeArtifact(e){re(e,(e=>{it._api._MagickImage_RemoveArtifact(this._instance,e)}))}removeAttribute(e){re(e,(e=>{it._api._MagickImage_RemoveAttribute(this._instance,e)}))}removeProfile(e){re("string"==typeof e?e:e.name,(e=>{it._api._MagickImage_RemoveProfile(this._instance,e)}))}removeWriteMask(){this.useExceptionPointer((e=>{it._api._MagickImage_SetWriteMask(this._instance,0,e)}))}resetPage(){this.page=new ae(0,0,0,0)}resize(e,t){const r="number"==typeof e?new ae(e,t):e;this.useException((e=>{re(r.toString(),(t=>{const r=it._api._MagickImage_Resize(this._instance,t,this.filterType,e.ptr);this._setInstance(r,e)}))}))}rotate(e){this.useException((t=>{const r=it._api._MagickImage_Rotate(this._instance,e,t.ptr);this._setInstance(r,t)}))}separate(e,t){return this.useException((r=>{let i,n=B.Undefined;if("number"==typeof e&&void 0!==t)n=e,i=t;else{if("function"!=typeof e)throw new J("invalid arguments");i=e}const a=it._api._MagickImage_Separate(this._instance,n,r.ptr);return Oe._createFromImages(a,this._settings)._use(i)}))}sepiaTone(e=new Ne(80)){this.useException((t=>{const r="number"==typeof e?new Ne(e):e,i=it._api._MagickImage_SepiaTone(this._instance,r._toQuantum(),t.ptr);this._setInstance(i,t)}))}setArtifact(e,t){let r;r="string"==typeof t?t:"boolean"==typeof t?this.fromBool(t).toString():t.toString(),re(e,(e=>{re(r,(t=>{it._api._MagickImage_SetArtifact(this._instance,e,t)}))}))}setAttribute(e,t){this.useException((r=>{re(e,(e=>{re(t,(t=>{it._api._MagickImage_SetAttribute(this._instance,e,t,r.ptr)}))}))}))}setProfile(e,t){const r="string"==typeof e?e:e.name;let i;void 0!==t?i=t:"string"!=typeof e&&(i=e.data),this.useException((e=>{re(r,(t=>{We(i,(r=>{it._api._MagickImage_SetProfile(this._instance,t,r,i.byteLength,e.ptr)}))}))}))}setWriteMask(e){this.useExceptionPointer((t=>{it._api._MagickImage_SetWriteMask(this._instance,e._instance,t)}))}sharpen(e,t,r){const i=this.valueOrDefault(e,0),n=this.valueOrDefault(t,1),a=this.valueOrDefault(r,B.Undefined);this.useException((e=>{const t=it._api._MagickImage_Sharpen(this._instance,i,n,a,e.ptr);this._setInstance(t,e)}))}shave(e,t){this.useException((r=>{const i=it._api._MagickImage_Shave(this._instance,e,t,r.ptr);this._setInstance(i,r)}))}sigmoidalContrast(e,t,r){this._sigmoidalContrast(!0,e,t,r)}solarize(e=new Ne(50)){this.useException((t=>{const r="number"==typeof e?new Ne(e):e;it._api._MagickImage_Solarize(this._instance,r._toQuantum(),t.ptr)}))}splice(e){ze.use(this,e,(e=>{this.useException((t=>{const r=it._api._MagickImage_Splice(this._instance,e,t.ptr);this._setInstance(r,t)}))}))}statistics(e){const t=this.valueOrDefault(e,B.All);return this.useExceptionPointer((e=>{const r=it._api._MagickImage_Statistics(this._instance,t,e),i=Ke._create(this,r,t);return it._api._Statistics_DisposeList(r),i}))}strip(){this.useExceptionPointer((e=>{it._api._MagickImage_Strip(this._instance,e)}))}transformColorSpace(e,t,r){const i=e;let n,a=V.Quantum;void 0!==t&&("number"==typeof t?a=t:n=t),void 0!==r&&(a=r);const s=this.hasProfile("icc")||this.hasProfile("icm");if(void 0===n){if(!s)return!1;n=i}else{if(i.colorSpace!==this.colorSpace)return!1;s||this.setProfile(i)}return a===V.Quantum?Le.use(this,(e=>{e.setArtifact("profile:highres-transform",!1),this.setProfile(n)})):this.setProfile(n),!0}threshold(e,t){const r=this.valueOrDefault(t,B.Undefined);this.useExceptionPointer((t=>{it._api._MagickImage_Threshold(this._instance,e._toQuantum(),r,t)}))}thumbnail(e,t){const r="number"==typeof e?new ae(e,t):e;this.useException((e=>{re(r.toString(),(t=>{const r=it._api._MagickImage_Thumbnail(this._instance,t,e.ptr);this._setInstance(r,e)}))}))}toString=()=>`${this.format} ${this.width}x${this.height} ${this.depth}-bit ${z[this.colorSpace]}`;transparent(e){e._use((e=>{this.useExceptionPointer((t=>{it._api._MagickImage_Transparent(this._instance,e,0,t)}))}))}trim(...e){if(e.length>0)if(1==e.length&&e[0]instanceof Ne){const t=e[0];this.setArtifact("trim:percent-background",t.toDouble().toString())}else{const t=[...new Set(ve(e))].join(",");this.setArtifact("trim:edges",t)}this.useException((e=>{const t=it._api._MagickImage_Trim(this._instance,e.ptr);this._setInstance(t,e),this.removeArtifact("trim:edges"),this.removeArtifact("trim:percent-background")}))}wave(e,t,r){const i=this.valueOrDefault(e,this.interpolate),n=this.valueOrDefault(t,25),a=this.valueOrDefault(r,150);this.useException((e=>{const t=it._api._MagickImage_Wave(this._instance,i,n,a,e.ptr);this._setInstance(t,e)}))}vignette(e,t,r,i){const n=this.valueOrDefault(e,0),a=this.valueOrDefault(t,1),s=this.valueOrDefault(r,0),o=this.valueOrDefault(i,0);this.useException((e=>{const t=it._api._MagickImage_Vignette(this._instance,n,a,s,o,e.ptr);this._setInstance(t,e)}))}whiteThreshold(e,t){const r=this.valueOrDefault(t,B.Composite);this.useException((t=>{re(e.toString(),(e=>{it._api._MagickImage_WhiteThreshold(this._instance,e,r,t.ptr)}))}))}write(e,t){let r=0,i=0;void 0!==t?this._settings.format=e:t=e,this.useException((e=>{fe.use((t=>{this._settings._use((n=>{try{r=it._api._MagickImage_WriteBlob(this._instance,n._instance,t.ptr,e.ptr),i=t.value}catch{0!==r&&(r=it._api._MagickMemory_Relinquish(r))}}))}))}));const n=new he(r,i,t);return ge._disposeAfterExecution(n,n.func)}writeToCanvas(e,t){e.width=this.width,e.height=this.height;const r=e.getContext("2d",t);null!==r&&Ye._map(this,"RGBA",(e=>{const t=r.createImageData(this.width,this.height);let i=0;for(let r=0;r<this.height;r++)for(let r=0;r<this.width;r++)t.data[i++]=it._api.HEAPU8[e++],t.data[i++]=it._api.HEAPU8[e++],t.data[i++]=it._api.HEAPU8[e++],t.data[i++]=it._api.HEAPU8[e++];r.putImageData(t,0,0)}))}static _createFromImage(e,t){return new Ze(e,t)}_channelOffset(e){return it._api._MagickImage_HasChannel(this._instance,e)?it._api._MagickImage_ChannelOffset(this._instance,e):-1}static _clone(e){return we.usePointer((t=>new Ze(it._api._MagickImage_Clone(e._instance,t),e._settings._clone())))}_getSettings(){return this._settings}_instanceNotInitialized(){throw new J("no image has been read")}_setInstance(e,t){if(!0===super._setInstance(e,t)||0===e&&void 0!==this.onProgress)return!0;throw new J("out of memory")}_use(e){return ge._disposeAfterExecution(this,e)}static _create(e){return Ze.create()._use(e)}onDispose(){this.disposeProgressDelegate()}_contrast(e){this.useExceptionPointer((t=>{it._api._MagickImage_Contrast(this._instance,this.fromBool(e),t)}))}_getProfile(e){return re(e,(e=>{const t=it._api._MagickImage_GetProfile(this._instance,e),r=Qe.toArray(t);return null===r?null:r}))}_opaque(e,t,r){this.useExceptionPointer((i=>{e._use((e=>{t._use((t=>{it._api._MagickImage_Opaque(this._instance,e,t,this.fromBool(r),i)}))}))}))}_sigmoidalContrast(e,t,r,i){let n;n=void 0!==r?"number"==typeof r?r:r.multiply(Z.max):.5*Z.max;const a=this.valueOrDefault(i,B.Undefined);this.useExceptionPointer((r=>{it._api._MagickImage_SigmoidalContrast(this._instance,this.fromBool(e),t,n,a,r)}))}_transparent(e,t){e._use((e=>{this.useExceptionPointer((r=>{it._api._MagickImage_Transparent(this._instance,e,this.fromBool(t),r)}))}))}static createInstance(){return we.usePointer((e=>it._api._MagickImage_Create(0,e)))}fromBool(e){return e?1:0}disposeProgressDelegate(){ot.removeProgressDelegate(this),this._progress=void 0}readOrPing(e,t,r,i){this.useException((n=>{const a=r instanceof xe?r:new xe(this._settings);if(a._ping=e,this._settings._ping=e,void 0!==a.frameCount&&a.frameCount>1)throw new J("The frame count can only be set to 1 when a single image is being read.");if("string"==typeof t)a._fileName=t;else{if(I(t))return void this.readFromArray(t,a,n);a._fileName="xc:"+t.toShortString(),a.width="number"==typeof r?r:0,a.height="number"==typeof i?i:0}a._use((e=>{const t=it._api._MagickImage_ReadFile(e._instance,n.ptr);this._setInstance(t,n)}))}))}readFromArray(e,t,r){t._use((t=>{We(e,(i=>{const n=it._api._MagickImage_ReadBlob(t._instance,i,0,e.byteLength,r.ptr);this._setInstance(n,r)}))}))}toBool(e){return 1===e}valueOrDefault(e,t){return void 0===e?t:e}valueOrComputedDefault(e,t){return void 0===e?t():e}useException(e){return we.use(e,(e=>{void 0!==this.onWarning&&this.onWarning(new Je(e))}))}useExceptionPointer(e){return we.usePointer(e,(e=>{void 0!==this.onWarning&&this.onWarning(new Je(e))}))}}var et,tt=(et=import.meta.url,async function(e={}){var t,r,i=e,n=new Promise(((e,i)=>{t=e,r=i})),a="object"==typeof window,s=typeof WorkerGlobalScope<"u";"object"==typeof C.versions&&C.versions.node,(!globalThis.crypto||!globalThis.crypto.getRandomValues)&&(globalThis.crypto={getRandomValues:e=>{for(let t=0;t<e.length;t++)e[t]=256*Math.random()|0}});var o,c,_="./this.program",l="";(a||s)&&(s?l=self.location.href:typeof document<"u"&&document.currentScript&&(l=document.currentScript.src),et&&(l=et),l=l.startsWith("blob:")?"":l.slice(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1),s&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),o=async e=>{if(D(e))return new Promise(((t,r)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{200==i.status||0==i.status&&i.response?t(i.response):r(i.status)},i.onerror=r,i.send(null)}));var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)});var g,h,u,p,d,m,f,w,M,k,y,S,v=console.log.bind(console),I=console.error.bind(console),P=!1,D=e=>e.startsWith("file://");function E(){var e=h.buffer;u=new Int8Array(e),d=new Int16Array(e),i.HEAPU8=p=new Uint8Array(e),m=new Uint16Array(e),f=new Int32Array(e),w=new Uint32Array(e),M=new Float32Array(e),S=new Float64Array(e),k=new BigInt64Array(e),y=new BigUint64Array(e)}var b,T=0,A=null;function x(e){T++,i.monitorRunDependencies?.(T)}function G(e){if(T--,i.monitorRunDependencies?.(T),0==T&&A){var t=A;A=null,t()}}function R(e){i.onAbort?.(e),I(e="Aborted("+e+")"),P=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}function F(){return i.locateFile?(e="magick.wasm",i.locateFile?i.locateFile(e,l):l+e):new URL("data:text/plain;base64,").href;var e}async function L(e){if(!g)try{var t=await o(e);return new Uint8Array(t)}catch{}return function(e){if(e==b&&g)return new Uint8Array(g);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}(e)}async function W(e,t,r){if(!e&&"function"==typeof WebAssembly.instantiateStreaming&&!D(t))try{var i=fetch(t,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(i,r)}catch(e){I(`wasm streaming compile failed: ${e}`),I("falling back to ArrayBuffer instantiation")}return async function(e,t){try{var r=await L(e);return await WebAssembly.instantiate(r,t)}catch(e){I(`failed to asynchronously prepare wasm: ${e}`),R(e)}}(t,r)}class B{name="ExitStatus";constructor(e){this.message=`Program terminated with exit(${e})`,this.status=e}}var O,N=e=>{for(;e.length>0;)e.shift()(i)},z=[],$=e=>z.push(e),H=[],U=e=>H.push(e),j=!0,Y=e=>or(e),V=()=>cr(),X=e=>e<-9007199254740992||e>9007199254740992?NaN:Number(e),q=[],K=e=>{var t=q[e];return t||(q[e]=t=O.get(e)),t},Q=0;class J{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){w[this.ptr+4>>>2>>>0]=e}get_type(){return w[this.ptr+4>>>2>>>0]}set_destructor(e){w[this.ptr+8>>>2>>>0]=e}get_destructor(){return w[this.ptr+8>>>2>>>0]}set_caught(e){e=e?1:0,u[this.ptr+12>>>0]=e}get_caught(){return 0!=u[this.ptr+12>>>0]}set_rethrown(e){e=e?1:0,u[this.ptr+13>>>0]=e}get_rethrown(){return 0!=u[this.ptr+13>>>0]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){w[this.ptr+16>>>2>>>0]=e}get_adjusted_ptr(){return w[this.ptr+16>>>2>>>0]}}var Z=e=>sr(e),ee={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=ee.isAbs(e),r="/"===e.slice(-1);return!(e=ee.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=ee.splitPath(e),r=t[0],i=t[1];return r||i?(i&&(i=i.slice(0,-1)),r+i):"."},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>ee.normalize(e.join("/")),join2:(e,t)=>ee.normalize(e+"/"+t)},te=e=>{(te=e=>crypto.getRandomValues(e))(e)},re={resolve:(...e)=>{for(var t="",r=!1,i=e.length-1;i>=-1&&!r;i--){var n=i>=0?e[i]:de.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";t=n+"/"+t,r=ee.isAbs(n)}return(r?"/":"")+(t=ee.normalizeArray(t.split("/").filter((e=>!!e)),!r).join("/"))||"."},relative:(e,t)=>{function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=re.resolve(e).slice(1),t=re.resolve(t).slice(1);for(var i=r(e.split("/")),n=r(t.split("/")),a=Math.min(i.length,n.length),s=a,o=0;o<a;o++)if(i[o]!==n[o]){s=o;break}var c=[];for(o=s;o<i.length;o++)c.push("..");return(c=c.concat(n.slice(s))).join("/")}},ie=typeof TextDecoder<"u"?new TextDecoder:void 0,ne=(e,t=0,r=NaN)=>{for(var i=(t>>>=0)+r,n=t;e[n]&&!(n>=i);)++n;if(n-t>16&&e.buffer&&ie)return ie.decode(e.subarray(t,n));for(var a="";t<n;){var s=e[t++];if(128&s){var o=63&e[t++];if(192!=(224&s)){var c=63&e[t++];if((s=224==(240&s)?(15&s)<<12|o<<6|c:(7&s)<<18|o<<12|c<<6|63&e[t++])<65536)a+=String.fromCharCode(s);else{var _=s-65536;a+=String.fromCharCode(55296|_>>10,56320|1023&_)}}else a+=String.fromCharCode((31&s)<<6|o)}else a+=String.fromCharCode(s)}return a},ae=[],se=e=>{for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++r):t+=3}return t},oe=(e,t,r,i)=>{if(!(i>0))return 0;for(var n=r>>>=0,a=r+i-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127){if(r>=a)break;t[r++>>>0]=o}else if(o<=2047){if(r+1>=a)break;t[r++>>>0]=192|o>>6,t[r++>>>0]=128|63&o}else if(o<=65535){if(r+2>=a)break;t[r++>>>0]=224|o>>12,t[r++>>>0]=128|o>>6&63,t[r++>>>0]=128|63&o}else{if(r+3>=a)break;t[r++>>>0]=240|o>>18,t[r++>>>0]=128|o>>12&63,t[r++>>>0]=128|o>>6&63,t[r++>>>0]=128|63&o}}return t[r>>>0]=0,r-n},ce=(e,t,r)=>{var i=se(e)+1,n=new Array(i),a=oe(e,n,0,n.length);return n.length=a,n},_e={ttys:[],init(){},shutdown(){},register(e,t){_e.ttys[e]={input:[],output:[],ops:t},de.registerDevice(e,_e.stream_ops)},stream_ops:{open(e){var t=_e.ttys[e.node.rdev];if(!t)throw new de.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,r,i,n){if(!e.tty||!e.tty.ops.get_char)throw new de.ErrnoError(60);for(var a=0,s=0;s<i;s++){var o;try{o=e.tty.ops.get_char(e.tty)}catch{throw new de.ErrnoError(29)}if(void 0===o&&0===a)throw new de.ErrnoError(6);if(null==o)break;a++,t[r+s]=o}return a&&(e.node.atime=Date.now()),a},write(e,t,r,i,n){if(!e.tty||!e.tty.ops.put_char)throw new de.ErrnoError(60);try{for(var a=0;a<i;a++)e.tty.ops.put_char(e.tty,t[r+a])}catch{throw new de.ErrnoError(29)}return i&&(e.node.mtime=e.node.ctime=Date.now()),a}},default_tty_ops:{get_char:e=>(()=>{if(!ae.length){var e=null;if(typeof window<"u"&&"function"==typeof window.prompt&&null!==(e=window.prompt("Input: "))&&(e+="\n"),!e)return null;ae=ce(e)}return ae.shift()})(),put_char(e,t){null===t||10===t?(v(ne(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){e.output?.length>0&&(v(ne(e.output)),e.output=[])},ioctl_tcgets:e=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(e,t,r)=>0,ioctl_tiocgwinsz:e=>[24,80]},default_tty1_ops:{put_char(e,t){null===t||10===t?(I(ne(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){e.output?.length>0&&(I(ne(e.output)),e.output=[])}}},le=(e,t)=>Math.ceil(e/t)*t,ge=e=>{e=le(e,65536);var t=nr(65536,e);return t&&((e,t)=>{p.fill(0,e,e+t)})(t,e),t},he={ops_table:null,mount:e=>he.createNode(null,"/",16895,0),createNode(e,t,r,i){if(de.isBlkdev(r)||de.isFIFO(r))throw new de.ErrnoError(63);he.ops_table||={dir:{node:{getattr:he.node_ops.getattr,setattr:he.node_ops.setattr,lookup:he.node_ops.lookup,mknod:he.node_ops.mknod,rename:he.node_ops.rename,unlink:he.node_ops.unlink,rmdir:he.node_ops.rmdir,readdir:he.node_ops.readdir,symlink:he.node_ops.symlink},stream:{llseek:he.stream_ops.llseek}},file:{node:{getattr:he.node_ops.getattr,setattr:he.node_ops.setattr},stream:{llseek:he.stream_ops.llseek,read:he.stream_ops.read,write:he.stream_ops.write,mmap:he.stream_ops.mmap,msync:he.stream_ops.msync}},link:{node:{getattr:he.node_ops.getattr,setattr:he.node_ops.setattr,readlink:he.node_ops.readlink},stream:{}},chrdev:{node:{getattr:he.node_ops.getattr,setattr:he.node_ops.setattr},stream:de.chrdev_stream_ops}};var n=de.createNode(e,t,r,i);return de.isDir(n.mode)?(n.node_ops=he.ops_table.dir.node,n.stream_ops=he.ops_table.dir.stream,n.contents={}):de.isFile(n.mode)?(n.node_ops=he.ops_table.file.node,n.stream_ops=he.ops_table.file.stream,n.usedBytes=0,n.contents=null):de.isLink(n.mode)?(n.node_ops=he.ops_table.link.node,n.stream_ops=he.ops_table.link.stream):de.isChrdev(n.mode)&&(n.node_ops=he.ops_table.chrdev.node,n.stream_ops=he.ops_table.chrdev.stream),n.atime=n.mtime=n.ctime=Date.now(),e&&(e.contents[t]=n,e.atime=e.mtime=e.ctime=n.atime),n},getFileDataAsTypedArray:e=>e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0),expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var i=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=de.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,de.isDir(e.mode)?t.size=4096:de.isFile(e.mode)?t.size=e.usedBytes:de.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.atime),t.mtime=new Date(e.mtime),t.ctime=new Date(e.ctime),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){for(const r of["mode","atime","mtime","ctime"])null!=t[r]&&(e[r]=t[r]);void 0!==t.size&&he.resizeFileStorage(e,t.size)},lookup(e,t){throw he.doesNotExistError},mknod:(e,t,r,i)=>he.createNode(e,t,r,i),rename(e,t,r){var i;try{i=de.lookupNode(t,r)}catch{}if(i){if(de.isDir(e.mode))for(var n in i.contents)throw new de.ErrnoError(55);de.hashRemoveNode(i)}delete e.parent.contents[e.name],t.contents[r]=e,e.name=r,t.ctime=t.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,t){delete e.contents[t],e.ctime=e.mtime=Date.now()},rmdir(e,t){var r=de.lookupNode(e,t);for(var i in r.contents)throw new de.ErrnoError(55);delete e.contents[t],e.ctime=e.mtime=Date.now()},readdir:e=>[".","..",...Object.keys(e.contents)],symlink(e,t,r){var i=he.createNode(e,t,41471,0);return i.link=r,i},readlink(e){if(!de.isLink(e.mode))throw new de.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,i,n){var a=e.node.contents;if(n>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-n,i);if(s>8&&a.subarray)t.set(a.subarray(n,n+s),r);else for(var o=0;o<s;o++)t[r+o]=a[n+o];return s},write(e,t,r,i,n,a){if(t.buffer===u.buffer&&(a=!1),!i)return 0;var s=e.node;if(s.mtime=s.ctime=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(a)return s.contents=t.subarray(r,r+i),s.usedBytes=i,i;if(0===s.usedBytes&&0===n)return s.contents=t.slice(r,r+i),s.usedBytes=i,i;if(n+i<=s.usedBytes)return s.contents.set(t.subarray(r,r+i),n),i}if(he.expandFileStorage(s,n+i),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(r,r+i),n);else for(var o=0;o<i;o++)s.contents[n+o]=t[r+o];return s.usedBytes=Math.max(s.usedBytes,n+i),i},llseek(e,t,r){var i=t;if(1===r?i+=e.position:2===r&&de.isFile(e.node.mode)&&(i+=e.node.usedBytes),i<0)throw new de.ErrnoError(28);return i},mmap(e,t,r,i,n){if(!de.isFile(e.node.mode))throw new de.ErrnoError(43);var a,s,o=e.node.contents;if(2&n||!o||o.buffer!==u.buffer){if(s=!0,!(a=ge(t)))throw new de.ErrnoError(48);o&&((r>0||r+t<o.length)&&(o=o.subarray?o.subarray(r,r+t):Array.prototype.slice.call(o,r,r+t)),u.set(o,a>>>0))}else s=!1,a=o.byteOffset;return{ptr:a,allocated:s}},msync:(e,t,r,i,n)=>(he.stream_ops.write(e,t,0,i,r,!1),0)}},ue=[],pe=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},de={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(e){this.errno=e}},FSStream:class{shared={};get object(){return this.node}set object(e){this.node=e}get isRead(){return 1!=(2097155&this.flags)}get isWrite(){return!!(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(e,t,r,i){e||(e=this),this.parent=e,this.mount=e.mount,this.id=de.nextInode++,this.name=t,this.mode=r,this.rdev=i,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return de.isDir(this.mode)}get isDevice(){return de.isChrdev(this.mode)}},lookupPath(e,t={}){if(!e)throw new de.ErrnoError(44);t.follow_mount??=!0,ee.isAbs(e)||(e=de.cwd()+"/"+e);e:for(var r=0;r<40;r++){for(var i=e.split("/").filter((e=>!!e)),n=de.root,a="/",s=0;s<i.length;s++){var o=s===i.length-1;if(o&&t.parent)break;if("."!==i[s]){if(".."===i[s]){if(a=ee.dirname(a),de.isRoot(n)){e=a+"/"+i.slice(s+1).join("/");continue e}n=n.parent;continue}a=ee.join2(a,i[s]);try{n=de.lookupNode(n,i[s])}catch(e){if(44===e?.errno&&o&&t.noent_okay)return{path:a};throw e}if(de.isMountpoint(n)&&(!o||t.follow_mount)&&(n=n.mounted.root),de.isLink(n.mode)&&(!o||t.follow)){if(!n.node_ops.readlink)throw new de.ErrnoError(52);var c=n.node_ops.readlink(n);ee.isAbs(c)||(c=ee.dirname(a)+"/"+c),e=c+"/"+i.slice(s+1).join("/");continue e}}}return{path:a,node:n}}throw new de.ErrnoError(32)},getPath(e){for(var t;;){if(de.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?`${r}/${t}`:r+t:r}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var r=0,i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i)|0;return(e+r>>>0)%de.nameTable.length},hashAddNode(e){var t=de.hashName(e.parent.id,e.name);e.name_next=de.nameTable[t],de.nameTable[t]=e},hashRemoveNode(e){var t=de.hashName(e.parent.id,e.name);if(de.nameTable[t]===e)de.nameTable[t]=e.name_next;else for(var r=de.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode(e,t){var r=de.mayLookup(e);if(r)throw new de.ErrnoError(r);for(var i=de.hashName(e.id,t),n=de.nameTable[i];n;n=n.name_next){var a=n.name;if(n.parent.id===e.id&&a===t)return n}return de.lookup(e,t)},createNode(e,t,r,i){var n=new de.FSNode(e,t,r,i);return de.hashAddNode(n),n},destroyNode(e){de.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>!(49152&~e),flagsToPermissionString(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>de.ignorePermissions?0:t.includes("r")&&!(292&e.mode)||t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0,mayLookup:e=>de.isDir(e.mode)?de.nodePermissions(e,"x")||(e.node_ops.lookup?0:2):54,mayCreate(e,t){if(!de.isDir(e.mode))return 54;try{return de.lookupNode(e,t),20}catch{}return de.nodePermissions(e,"wx")},mayDelete(e,t,r){var i;try{i=de.lookupNode(e,t)}catch(e){return e.errno}var n=de.nodePermissions(e,"wx");if(n)return n;if(r){if(!de.isDir(i.mode))return 54;if(de.isRoot(i)||de.getPath(i)===de.cwd())return 10}else if(de.isDir(i.mode))return 31;return 0},mayOpen:(e,t)=>e?de.isLink(e.mode)?32:de.isDir(e.mode)&&("r"!==de.flagsToPermissionString(t)||576&t)?31:de.nodePermissions(e,de.flagsToPermissionString(t)):44,checkOpExists(e,t){if(!e)throw new de.ErrnoError(t);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=de.MAX_OPEN_FDS;e++)if(!de.streams[e])return e;throw new de.ErrnoError(33)},getStreamChecked(e){var t=de.getStream(e);if(!t)throw new de.ErrnoError(8);return t},getStream:e=>de.streams[e],createStream:(e,t=-1)=>(e=Object.assign(new de.FSStream,e),-1==t&&(t=de.nextfd()),e.fd=t,de.streams[t]=e,e),closeStream(e){de.streams[e]=null},dupStream(e,t=-1){var r=de.createStream(e,t);return r.stream_ops?.dup?.(r),r},doSetAttr(e,t,r){var i=e?.stream_ops.setattr,n=i?e:t;i??=t.node_ops.setattr,de.checkOpExists(i,63),i(n,r)},chrdev_stream_ops:{open(e){var t=de.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new de.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice(e,t){de.devices[e]={stream_ops:t}},getDevice:e=>de.devices[e],getMounts(e){for(var t=[],r=[e];r.length;){var i=r.pop();t.push(i),r.push(...i.mounts)}return t},syncfs(e,t){"function"==typeof e&&(t=e,e=!1),de.syncFSRequests++,de.syncFSRequests>1&&I(`warning: ${de.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=de.getMounts(de.root.mount),i=0;function n(e){return de.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,n(e));++i>=r.length&&n(null)}r.forEach((t=>{if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount(e,t,r){var i,n="/"===r,a=!r;if(n&&de.root)throw new de.ErrnoError(10);if(!n&&!a){var s=de.lookupPath(r,{follow_mount:!1});if(r=s.path,i=s.node,de.isMountpoint(i))throw new de.ErrnoError(10);if(!de.isDir(i.mode))throw new de.ErrnoError(54)}var o={type:e,opts:t,mountpoint:r,mounts:[]},c=e.mount(o);return c.mount=o,o.root=c,n?de.root=c:i&&(i.mounted=o,i.mount&&i.mount.mounts.push(o)),c},unmount(e){var t=de.lookupPath(e,{follow_mount:!1});if(!de.isMountpoint(t.node))throw new de.ErrnoError(28);var r=t.node,i=r.mounted,n=de.getMounts(i);Object.keys(de.nameTable).forEach((e=>{for(var t=de.nameTable[e];t;){var r=t.name_next;n.includes(t.mount)&&de.destroyNode(t),t=r}})),r.mounted=null;var a=r.mount.mounts.indexOf(i);r.mount.mounts.splice(a,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod(e,t,r){var i=de.lookupPath(e,{parent:!0}).node,n=ee.basename(e);if(!n)throw new de.ErrnoError(28);if("."===n||".."===n)throw new de.ErrnoError(20);var a=de.mayCreate(i,n);if(a)throw new de.ErrnoError(a);if(!i.node_ops.mknod)throw new de.ErrnoError(63);return i.node_ops.mknod(i,n,t,r)},statfs:e=>de.statfsNode(de.lookupPath(e,{follow:!0}).node),statfsStream:e=>de.statfsNode(e.node),statfsNode(e){var t={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:de.nextInode,ffree:de.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(t,e.node_ops.statfs(e.mount.opts.root)),t},create:(e,t=438)=>(t&=4095,t|=32768,de.mknod(e,t,0)),mkdir:(e,t=511)=>(t&=1023,t|=16384,de.mknod(e,t,0)),mkdirTree(e,t){var r=e.split("/"),i="";for(var n of r)if(n){(i||ee.isAbs(e))&&(i+="/"),i+=n;try{de.mkdir(i,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,t,r)=>(typeof r>"u"&&(r=t,t=438),t|=8192,de.mknod(e,t,r)),symlink(e,t){if(!re.resolve(e))throw new de.ErrnoError(44);var r=de.lookupPath(t,{parent:!0}).node;if(!r)throw new de.ErrnoError(44);var i=ee.basename(t),n=de.mayCreate(r,i);if(n)throw new de.ErrnoError(n);if(!r.node_ops.symlink)throw new de.ErrnoError(63);return r.node_ops.symlink(r,i,e)},rename(e,t){var r,i,n=ee.dirname(e),a=ee.dirname(t),s=ee.basename(e),o=ee.basename(t);if(r=de.lookupPath(e,{parent:!0}).node,i=de.lookupPath(t,{parent:!0}).node,!r||!i)throw new de.ErrnoError(44);if(r.mount!==i.mount)throw new de.ErrnoError(75);var c,_=de.lookupNode(r,s),l=re.relative(e,a);if("."!==l.charAt(0))throw new de.ErrnoError(28);if("."!==(l=re.relative(t,n)).charAt(0))throw new de.ErrnoError(55);try{c=de.lookupNode(i,o)}catch{}if(_!==c){var g=de.isDir(_.mode),h=de.mayDelete(r,s,g);if(h)throw new de.ErrnoError(h);if(h=c?de.mayDelete(i,o,g):de.mayCreate(i,o))throw new de.ErrnoError(h);if(!r.node_ops.rename)throw new de.ErrnoError(63);if(de.isMountpoint(_)||c&&de.isMountpoint(c))throw new de.ErrnoError(10);if(i!==r&&(h=de.nodePermissions(r,"w")))throw new de.ErrnoError(h);de.hashRemoveNode(_);try{r.node_ops.rename(_,i,o),_.parent=i}catch(e){throw e}finally{de.hashAddNode(_)}}},rmdir(e){var t=de.lookupPath(e,{parent:!0}).node,r=ee.basename(e),i=de.lookupNode(t,r),n=de.mayDelete(t,r,!0);if(n)throw new de.ErrnoError(n);if(!t.node_ops.rmdir)throw new de.ErrnoError(63);if(de.isMountpoint(i))throw new de.ErrnoError(10);t.node_ops.rmdir(t,r),de.destroyNode(i)},readdir(e){var t=de.lookupPath(e,{follow:!0}).node;return de.checkOpExists(t.node_ops.readdir,54)(t)},unlink(e){var t=de.lookupPath(e,{parent:!0}).node;if(!t)throw new de.ErrnoError(44);var r=ee.basename(e),i=de.lookupNode(t,r),n=de.mayDelete(t,r,!1);if(n)throw new de.ErrnoError(n);if(!t.node_ops.unlink)throw new de.ErrnoError(63);if(de.isMountpoint(i))throw new de.ErrnoError(10);t.node_ops.unlink(t,r),de.destroyNode(i)},readlink(e){var t=de.lookupPath(e).node;if(!t)throw new de.ErrnoError(44);if(!t.node_ops.readlink)throw new de.ErrnoError(28);return t.node_ops.readlink(t)},stat(e,t){var r=de.lookupPath(e,{follow:!t}).node;return de.checkOpExists(r.node_ops.getattr,63)(r)},fstat(e){var t=de.getStreamChecked(e),r=t.node,i=t.stream_ops.getattr,n=i?t:r;return i??=r.node_ops.getattr,de.checkOpExists(i,63),i(n)},lstat:e=>de.stat(e,!0),doChmod(e,t,r,i){de.doSetAttr(e,t,{mode:4095&r|-4096&t.mode,ctime:Date.now(),dontFollow:i})},chmod(e,t,r){var i;i="string"==typeof e?de.lookupPath(e,{follow:!r}).node:e,de.doChmod(null,i,t,r)},lchmod(e,t){de.chmod(e,t,!0)},fchmod(e,t){var r=de.getStreamChecked(e);de.doChmod(r,r.node,t,!1)},doChown(e,t,r){de.doSetAttr(e,t,{timestamp:Date.now(),dontFollow:r})},chown(e,t,r,i){var n;n="string"==typeof e?de.lookupPath(e,{follow:!i}).node:e,de.doChown(null,n,i)},lchown(e,t,r){de.chown(e,t,r,!0)},fchown(e,t,r){var i=de.getStreamChecked(e);de.doChown(i,i.node,!1)},doTruncate(e,t,r){if(de.isDir(t.mode))throw new de.ErrnoError(31);if(!de.isFile(t.mode))throw new de.ErrnoError(28);var i=de.nodePermissions(t,"w");if(i)throw new de.ErrnoError(i);de.doSetAttr(e,t,{size:r,timestamp:Date.now()})},truncate(e,t){if(t<0)throw new de.ErrnoError(28);var r;r="string"==typeof e?de.lookupPath(e,{follow:!0}).node:e,de.doTruncate(null,r,t)},ftruncate(e,t){var r=de.getStreamChecked(e);if(t<0||!(2097155&r.flags))throw new de.ErrnoError(28);de.doTruncate(r,r.node,t)},utime(e,t,r){var i=de.lookupPath(e,{follow:!0}).node;de.checkOpExists(i.node_ops.setattr,63)(i,{atime:t,mtime:r})},open(e,t,r=438){if(""===e)throw new de.ErrnoError(44);var n,a;if(t="string"==typeof t?(e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof t>"u")throw new Error(`Unknown file open mode: ${e}`);return t})(t):t,r=64&t?4095&r|32768:0,"object"==typeof e)n=e;else{a=e.endsWith("/");var s=de.lookupPath(e,{follow:!(131072&t),noent_okay:!0});n=s.node,e=s.path}var o=!1;if(64&t)if(n){if(128&t)throw new de.ErrnoError(20)}else{if(a)throw new de.ErrnoError(31);n=de.mknod(e,511|r,0),o=!0}if(!n)throw new de.ErrnoError(44);if(de.isChrdev(n.mode)&&(t&=-513),65536&t&&!de.isDir(n.mode))throw new de.ErrnoError(54);if(!o){var c=de.mayOpen(n,t);if(c)throw new de.ErrnoError(c)}512&t&&!o&&de.truncate(n,0),t&=-131713;var _=de.createStream({node:n,path:de.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return _.stream_ops.open&&_.stream_ops.open(_),o&&de.chmod(n,511&r),i.logReadFiles&&!(1&t)&&(e in de.readFiles||(de.readFiles[e]=1)),_},close(e){if(de.isClosed(e))throw new de.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{de.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek(e,t,r){if(de.isClosed(e))throw new de.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new de.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new de.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read(e,t,r,i,n){if(i<0||n<0)throw new de.ErrnoError(28);if(de.isClosed(e))throw new de.ErrnoError(8);if(1==(2097155&e.flags))throw new de.ErrnoError(8);if(de.isDir(e.node.mode))throw new de.ErrnoError(31);if(!e.stream_ops.read)throw new de.ErrnoError(28);var a=typeof n<"u";if(a){if(!e.seekable)throw new de.ErrnoError(70)}else n=e.position;var s=e.stream_ops.read(e,t,r,i,n);return a||(e.position+=s),s},write(e,t,r,i,n,a){if(i<0||n<0)throw new de.ErrnoError(28);if(de.isClosed(e))throw new de.ErrnoError(8);if(!(2097155&e.flags))throw new de.ErrnoError(8);if(de.isDir(e.node.mode))throw new de.ErrnoError(31);if(!e.stream_ops.write)throw new de.ErrnoError(28);e.seekable&&1024&e.flags&&de.llseek(e,0,2);var s=typeof n<"u";if(s){if(!e.seekable)throw new de.ErrnoError(70)}else n=e.position;var o=e.stream_ops.write(e,t,r,i,n,a);return s||(e.position+=o),o},mmap(e,t,r,i,n){if(2&i&&!(2&n)&&2!=(2097155&e.flags))throw new de.ErrnoError(2);if(1==(2097155&e.flags))throw new de.ErrnoError(2);if(!e.stream_ops.mmap)throw new de.ErrnoError(43);if(!t)throw new de.ErrnoError(28);return e.stream_ops.mmap(e,t,r,i,n)},msync:(e,t,r,i,n)=>e.stream_ops.msync?e.stream_ops.msync(e,t,r,i,n):0,ioctl(e,t,r){if(!e.stream_ops.ioctl)throw new de.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error(`Invalid encoding type "${t.encoding}"`);var r,i=de.open(e,t.flags),n=de.stat(e).size,a=new Uint8Array(n);return de.read(i,a,0,n,0),"utf8"===t.encoding?r=ne(a):"binary"===t.encoding&&(r=a),de.close(i),r},writeFile(e,t,r={}){r.flags=r.flags||577;var i=de.open(e,r.flags,r.mode);if("string"==typeof t){var n=new Uint8Array(se(t)+1),a=oe(t,n,0,n.length);de.write(i,n,0,a,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");de.write(i,t,0,t.byteLength,void 0,r.canOwn)}de.close(i)},cwd:()=>de.currentPath,chdir(e){var t=de.lookupPath(e,{follow:!0});if(null===t.node)throw new de.ErrnoError(44);if(!de.isDir(t.node.mode))throw new de.ErrnoError(54);var r=de.nodePermissions(t.node,"x");if(r)throw new de.ErrnoError(r);de.currentPath=t.path},createDefaultDirectories(){de.mkdir("/tmp"),de.mkdir("/home"),de.mkdir("/home/web_user")},createDefaultDevices(){de.mkdir("/dev"),de.registerDevice(de.makedev(1,3),{read:()=>0,write:(e,t,r,i,n)=>i,llseek:()=>0}),de.mkdev("/dev/null",de.makedev(1,3)),_e.register(de.makedev(5,0),_e.default_tty_ops),_e.register(de.makedev(6,0),_e.default_tty1_ops),de.mkdev("/dev/tty",de.makedev(5,0)),de.mkdev("/dev/tty1",de.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(0===t&&(te(e),t=e.byteLength),e[--t]);de.createDevice("/dev","random",r),de.createDevice("/dev","urandom",r),de.mkdir("/dev/shm"),de.mkdir("/dev/shm/tmp")},createSpecialDirectories(){de.mkdir("/proc");var e=de.mkdir("/proc/self");de.mkdir("/proc/self/fd"),de.mount({mount(){var t=de.createNode(e,"fd",16895,73);return t.stream_ops={llseek:he.stream_ops.llseek},t.node_ops={lookup(e,t){var r=+t,i=de.getStreamChecked(r),n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path},id:r+1};return n.parent=n,n},readdir:()=>Array.from(de.streams.entries()).filter((([e,t])=>t)).map((([e,t])=>e.toString()))},t}},{},"/proc/self/fd")},createStandardStreams(e,t,r){e?de.createDevice("/dev","stdin",e):de.symlink("/dev/tty","/dev/stdin"),t?de.createDevice("/dev","stdout",null,t):de.symlink("/dev/tty","/dev/stdout"),r?de.createDevice("/dev","stderr",null,r):de.symlink("/dev/tty1","/dev/stderr"),de.open("/dev/stdin",0),de.open("/dev/stdout",1),de.open("/dev/stderr",1)},staticInit(){de.nameTable=new Array(4096),de.mount(he,{},"/"),de.createDefaultDirectories(),de.createDefaultDevices(),de.createSpecialDirectories(),de.filesystems={MEMFS:he}},init(e,t,r){de.initialized=!0,e??=i.stdin,t??=i.stdout,r??=i.stderr,de.createStandardStreams(e,t,r)},quit(){for(var e of(de.initialized=!1,de.streams))e&&de.close(e)},findObject(e,t){var r=de.analyzePath(e,t);return r.exists?r.object:null},analyzePath(e,t){try{e=(i=de.lookupPath(e,{follow:!t})).path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=de.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=i.path,r.parentObject=i.node,r.name=ee.basename(e),i=de.lookupPath(e,{follow:!t}),r.exists=!0,r.path=i.path,r.object=i.node,r.name=i.node.name,r.isRoot="/"===i.path}catch(e){r.error=e.errno}return r},createPath(e,t,r,i){e="string"==typeof e?e:de.getPath(e);for(var n=t.split("/").reverse();n.length;){var a=n.pop();if(a){var s=ee.join2(e,a);try{de.mkdir(s)}catch(e){if(20!=e.errno)throw e}e=s}}return s},createFile(e,t,r,i,n){var a=ee.join2("string"==typeof e?e:de.getPath(e),t),s=pe(i,n);return de.create(a,s)},createDataFile(e,t,r,i,n,a){var s=t;e&&(e="string"==typeof e?e:de.getPath(e),s=t?ee.join2(e,t):e);var o=pe(i,n),c=de.create(s,o);if(r){if("string"==typeof r){for(var _=new Array(r.length),l=0,g=r.length;l<g;++l)_[l]=r.charCodeAt(l);r=_}de.chmod(c,146|o);var h=de.open(c,577);de.write(h,r,0,r.length,0,a),de.close(h),de.chmod(c,o)}},createDevice(e,t,r,i){var n=ee.join2("string"==typeof e?e:de.getPath(e),t),a=pe(!!r,!!i);de.createDevice.major??=64;var s=de.makedev(de.createDevice.major++,0);return de.registerDevice(s,{open(e){e.seekable=!1},close(e){i?.buffer?.length&&i(10)},read(e,t,i,n,a){for(var s=0,o=0;o<n;o++){var c;try{c=r()}catch{throw new de.ErrnoError(29)}if(void 0===c&&0===s)throw new de.ErrnoError(6);if(null==c)break;s++,t[i+o]=c}return s&&(e.node.atime=Date.now()),s},write(e,t,r,n,a){for(var s=0;s<n;s++)try{i(t[r+s])}catch{throw new de.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),s}}),de.mkdev(n,a,s)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=c(e.url),e.usedBytes=e.contents.length}catch{throw new de.ErrnoError(29)}},createLazyFile(e,t,r,i,n){class a{lengthKnown=!1;chunks=[];get(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}}setDataGetter(e){this.getter=e}cacheLength(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,i=Number(e.getResponseHeader("Content-length")),n=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,s=1048576;n||(s=i);var o=this;o.setDataGetter((e=>{var t=e*s,n=(e+1)*s-1;if(n=Math.min(n,i-1),typeof o.chunks[e]>"u"&&(o.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>i-1)throw new Error("only "+i+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",r,!1),i!==s&&n.setRequestHeader("Range","bytes="+e+"-"+t),n.responseType="arraybuffer",n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw new Error("Couldn't load "+r+". Status: "+n.status);return void 0!==n.response?new Uint8Array(n.response||[]):ce(n.responseText||"")})(t,n)),typeof o.chunks[e]>"u")throw new Error("doXHR failed!");return o.chunks[e]})),(a||!i)&&(s=i=1,i=this.getter(0).length,s=i,v("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=i,this._chunkSize=s,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!s)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o={isDevice:!1,contents:new a}}else o={isDevice:!1,url:r};var c=de.createFile(e,t,o,i,n);o.contents?c.contents=o.contents:o.url&&(c.contents=null,c.url=o.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var _={};function l(e,t,r,i,n){var a=e.node.contents;if(n>=a.length)return 0;var s=Math.min(a.length-n,i);if(a.slice)for(var o=0;o<s;o++)t[r+o]=a[n+o];else for(o=0;o<s;o++)t[r+o]=a.get(n+o);return s}return Object.keys(c.stream_ops).forEach((e=>{var t=c.stream_ops[e];_[e]=(...e)=>(de.forceLoadFile(c),t(...e))})),_.read=(e,t,r,i,n)=>(de.forceLoadFile(c),l(e,t,r,i,n)),_.mmap=(e,t,r,i,n)=>{de.forceLoadFile(c);var a=ge(t);if(!a)throw new de.ErrnoError(48);return l(e,u,a,t,r),{ptr:a,allocated:!0}},c.stream_ops=_,c}},me=(e,t)=>(e>>>=0)?ne(p,e,t):"",fe={DEFAULT_POLLMASK:5,calculateAt(e,t,r){if(ee.isAbs(t))return t;var i;if(i=-100===e?de.cwd():fe.getStreamFromFD(e).path,0==t.length){if(!r)throw new de.ErrnoError(44);return i}return i+"/"+t},writeStat(e,t){f[e>>>2>>>0]=t.dev,f[e+4>>>2>>>0]=t.mode,w[e+8>>>2>>>0]=t.nlink,f[e+12>>>2>>>0]=t.uid,f[e+16>>>2>>>0]=t.gid,f[e+20>>>2>>>0]=t.rdev,k[e+24>>>3]=BigInt(t.size),f[e+32>>>2>>>0]=4096,f[e+36>>>2>>>0]=t.blocks;var r=t.atime.getTime(),i=t.mtime.getTime(),n=t.ctime.getTime();return k[e+40>>>3]=BigInt(Math.floor(r/1e3)),w[e+48>>>2>>>0]=r%1e3*1e3*1e3,k[e+56>>>3]=BigInt(Math.floor(i/1e3)),w[e+64>>>2>>>0]=i%1e3*1e3*1e3,k[e+72>>>3]=BigInt(Math.floor(n/1e3)),w[e+80>>>2>>>0]=n%1e3*1e3*1e3,k[e+88>>>3]=BigInt(t.ino),0},writeStatFs(e,t){f[e+4>>>2>>>0]=t.bsize,f[e+40>>>2>>>0]=t.bsize,f[e+8>>>2>>>0]=t.blocks,f[e+12>>>2>>>0]=t.bfree,f[e+16>>>2>>>0]=t.bavail,f[e+20>>>2>>>0]=t.files,f[e+24>>>2>>>0]=t.ffree,f[e+28>>>2>>>0]=t.fsid,f[e+44>>>2>>>0]=t.flags,f[e+36>>>2>>>0]=t.namelen},doMsync(e,t,r,i,n){if(!de.isFile(t.node.mode))throw new de.ErrnoError(43);if(2&i)return 0;var a=p.slice(e,e+r);de.msync(t,a,n,r,i)},getStreamFromFD:e=>de.getStreamChecked(e),varargs:void 0,getStr:e=>me(e)},we=()=>{var e=f[+fe.varargs>>>2>>>0];return fe.varargs+=4,e},Me=we,ke=(e,t,r)=>oe(e,p,t,r),ye={},Se=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function ve(e){return this.fromWireType(w[e>>>2>>>0])}var Ce,Ie={},Pe={},De={},Ee=i.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},be=e=>{throw new Ee(e)},Te=(e,t,r)=>{function i(t){var i=r(t);i.length!==e.length&&be("Mismatched type converter count");for(var n=0;n<e.length;++n)Fe(e[n],i[n])}e.forEach((e=>De[e]=t));var n=new Array(t.length),a=[],s=0;t.forEach(((e,t)=>{Pe.hasOwnProperty(e)?n[t]=Pe[e]:(a.push(e),Ie.hasOwnProperty(e)||(Ie[e]=[]),Ie[e].push((()=>{n[t]=Pe[e],++s===a.length&&i(n)})))})),0===a.length&&i(n)},Ae=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},xe=e=>{for(var t="",r=e;p[r>>>0];)t+=Ce[p[r++>>>0]];return t},Ge=i.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Re=e=>{throw new Ge(e)};function Fe(e,t,r={}){return function(e,t,r={}){var i=t.name;if(e||Re(`type "${i}" must have a positive integer typeid pointer`),Pe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Re(`Cannot register type '${i}' twice`)}if(Pe[e]=t,delete De[e],Ie.hasOwnProperty(e)){var n=Ie[e];delete Ie[e],n.forEach((e=>e()))}}(e,t,r)}var Le=(e,t,r)=>{switch(t){case 1:return r?e=>u[e>>>0]:e=>p[e>>>0];case 2:return r?e=>d[e>>>1>>>0]:e=>m[e>>>1>>>0];case 4:return r?e=>f[e>>>2>>>0]:e=>w[e>>>2>>>0];case 8:return r?e=>k[e>>>3]:e=>y[e>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},We=8,Be=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Oe=e=>{Re(e.$$.ptrType.registeredClass.name+" instance already deleted")},Ne=!1,ze=e=>{},$e=e=>{e.count.value-=1,0===e.count.value&&(e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)})(e)},He=e=>typeof FinalizationRegistry>"u"?(He=e=>e,e):(Ne=new FinalizationRegistry((e=>{$e(e.$$)})),ze=e=>Ne.unregister(e),(He=e=>{var t=e.$$;if(t.smartPtr){var r={$$:t};Ne.register(e,r,e)}return e})(e));function Ue(){}var je=(e,t)=>Object.defineProperty(t,"name",{value:e}),Ye={},Ve=(e,t,r)=>{if(void 0===e[t].overloadTable){var i=e[t];e[t]=function(...i){return e[t].overloadTable.hasOwnProperty(i.length)||Re(`Function '${r}' called with an invalid number of arguments (${i.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[i.length].apply(this,i)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}},Xe=(e,t,r)=>{i.hasOwnProperty(e)?((void 0===r||void 0!==i[e].overloadTable&&void 0!==i[e].overloadTable[r])&&Re(`Cannot register public name '${e}' twice`),Ve(i,e,e),i[e].overloadTable.hasOwnProperty(r)&&Re(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),i[e].overloadTable[r]=t):(i[e]=t,i[e].argCount=r)};function qe(e,t,r,i,n,a,s,o){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=i,this.baseClass=n,this.getActualType=a,this.upcast=s,this.downcast=o,this.pureVirtualFunctions=[]}var Ke=(e,t,r)=>{for(;t!==r;)t.upcast||Re(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Qe(e,t){if(null===t)return this.isReference&&Re(`null is not a valid ${this.name}`),0;t.$$||Re(`Cannot pass "${Ae(t)}" as a ${this.name}`),t.$$.ptr||Re(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass;return Ke(t.$$.ptr,r,this.registeredClass)}function Je(e,t){var r;if(null===t)return this.isReference&&Re(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&Re(`Cannot pass "${Ae(t)}" as a ${this.name}`),t.$$.ptr||Re(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&Re(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;if(r=Ke(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Re("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Re(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var n=t.clone();r=this.rawShare(r,wt.toHandle((()=>n.delete()))),null!==e&&e.push(this.rawDestructor,r)}break;default:Re("Unsupporting sharing policy")}return r}function Ze(e,t){if(null===t)return this.isReference&&Re(`null is not a valid ${this.name}`),0;t.$$||Re(`Cannot pass "${Ae(t)}" as a ${this.name}`),t.$$.ptr||Re(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&Re(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass;return Ke(t.$$.ptr,r,this.registeredClass)}var tt=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var i=tt(e,t,r.baseClass);return null===i?null:r.downcast(i)},rt={},it=(e,t)=>(t=((e,t)=>{for(void 0===t&&Re("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t})(e,t),rt[t]),nt=(e,t)=>((!t.ptrType||!t.ptr)&&be("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&be("Both smartPtrType and smartPtr must be specified"),t.count={value:1},He(Object.create(e,{$$:{value:t,writable:!0}})));function at(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=it(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var i=r.clone();return this.destructor(e),i}function n(){return this.isSmartPointer?nt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):nt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a,s=this.registeredClass.getActualType(t),o=Ye[s];if(!o)return n.call(this);a=this.isConst?o.constPointerType:o.pointerType;var c=tt(t,this.registeredClass,a.registeredClass);return null===c?n.call(this):this.isSmartPointer?nt(a.registeredClass.instancePrototype,{ptrType:a,ptr:c,smartPtrType:this,smartPtr:e}):nt(a.registeredClass.instancePrototype,{ptrType:a,ptr:c})}function st(e,t,r,i,n,a,s,o,c,_,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=i,this.isSmartPointer=n,this.pointeeType=a,this.sharingPolicy=s,this.rawGetPointee=o,this.rawConstructor=c,this.rawShare=_,this.rawDestructor=l,n||void 0!==t.baseClass?this.toWireType=Je:i?(this.toWireType=Qe,this.destructorFunction=null):(this.toWireType=Ze,this.destructorFunction=null)}var ot=(e,t,r)=>{i.hasOwnProperty(e)||be("Replacing nonexistent public symbol"),void 0!==i[e].overloadTable&&void 0!==r?i[e].overloadTable[r]=t:(i[e]=t,i[e].argCount=r)},ct=(e,t,r=!1)=>(...r)=>((e,t,r=[])=>{var i=K(t)(...r);return"p"==e[0]?i>>>0:i})(e,t,r),_t=(e,t,r=!1)=>{var i=(e=xe(e)).includes("p")?ct(e,t,r):K(t);return"function"!=typeof i&&Re(`unknown function pointer with signature ${e}: ${t}`),i};class lt extends Error{}var gt=e=>{var t=tr(e),r=xe(t);return ir(t),r},ht=(e,t)=>{var r=[],i={};throw t.forEach((function e(t){if(!i[t]&&!Pe[t]){if(De[t])return void De[t].forEach(e);r.push(t),i[t]=!0}})),new lt(`${e}: `+r.map(gt).join([", "]))},ut=[],pt=[];function dt(e){(e>>>=0)>9&&0==--pt[e+1]&&(pt[e]=void 0,ut.push(e))}var mt,ft=()=>pt.length/2-5-ut.length,wt={toValue:e=>(e||Re(`Cannot use deleted val. handle = ${e}`),pt[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=ut.pop()||pt.length;return pt[t]=e,pt[t+1]=1,t}}}},Mt={name:"emscripten::val",fromWireType:e=>{var t=wt.toValue(e);return dt(e),t},toWireType:(e,t)=>wt.toHandle(t),argPackAdvance:We,readValueFromPointer:ve,destructorFunction:null},kt=(e,t,r)=>{switch(t){case 1:return r?function(e){return this.fromWireType(u[e>>>0])}:function(e){return this.fromWireType(p[e>>>0])};case 2:return r?function(e){return this.fromWireType(d[e>>>1>>>0])}:function(e){return this.fromWireType(m[e>>>1>>>0])};case 4:return r?function(e){return this.fromWireType(f[e>>>2>>>0])}:function(e){return this.fromWireType(w[e>>>2>>>0])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},yt=(e,t)=>{var r=Pe[e];return void 0===r&&Re(`${t} has unknown type ${gt(e)}`),r},St=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(M[e>>>2>>>0])};case 8:return function(e){return this.fromWireType(S[e>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},vt={ftf:function(e,t,r,i,n,a,s){return function(){var e=r(i);return a.fromWireType(e)}},ftft:function(e,t,r,i,n,a,s,o,c){return function(e){var t=o.toWireType(null,e),n=r(i,t);return c(t),a.fromWireType(n)}},fffn:function(e,t,r,i,n,a,s,o){return function(e){var t=o.toWireType(null,e);r(i,t)}},ftfn:function(e,t,r,i,n,a,s,o){return function(e){var t=o.toWireType(null,e),n=r(i,t);return a.fromWireType(n)}},ftfnn:function(e,t,r,i,n,a,s,o,c){return function(e,t){var n=o.toWireType(null,e),s=c.toWireType(null,t),_=r(i,n,s);return a.fromWireType(_)}},ftfnnn:function(e,t,r,i,n,a,s,o,c,_){return function(e,t,n){var s=o.toWireType(null,e),l=c.toWireType(null,t),g=_.toWireType(null,n),h=r(i,s,l,g);return a.fromWireType(h)}},ftfnt:function(e,t,r,i,n,a,s,o,c,_){return function(e,t){var n=o.toWireType(null,e),s=c.toWireType(null,t),l=r(i,n,s);return _(s),a.fromWireType(l)}}},Ct=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,It=(e,t)=>{for(var r=e,i=r>>1,n=i+t/2;!(i>=n)&&m[i>>>0];)++i;if((r=i<<1)-e>32&&Ct)return Ct.decode(p.subarray(e>>>0,r>>>0));for(var a="",s=0;!(s>=t/2);++s){var o=d[e+2*s>>>1>>>0];if(0==o)break;a+=String.fromCharCode(o)}return a},Pt=(e,t,r)=>{if(r??=2147483647,r<2)return 0;for(var i=t,n=(r-=2)<2*e.length?r/2:e.length,a=0;a<n;++a){var s=e.charCodeAt(a);d[t>>>1>>>0]=s,t+=2}return d[t>>>1>>>0]=0,t-i},Dt=e=>2*e.length,Et=(e,t)=>{for(var r=0,i="";!(r>=t/4);){var n=f[e+4*r>>>2>>>0];if(0==n)break;if(++r,n>=65536){var a=n-65536;i+=String.fromCharCode(55296|a>>10,56320|1023&a)}else i+=String.fromCharCode(n)}return i},bt=(e,t,r)=>{if(t>>>=0,r??=2147483647,r<4)return 0;for(var i=t,n=i+r-4,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),f[t>>>2>>>0]=s,(t+=4)+4>n)break}return f[t>>>2>>>0]=0,t-i},Tt=e=>{for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=55296&&i<=57343&&++r,t+=4}return t},At=0,xt={},Gt=e=>{var t=xt[e];return void 0===t?xe(e):t},Rt=[],Ft=Reflect.construct,Lt=[0,31,60,91,121,152,182,213,244,274,305,335],Wt=[0,31,59,90,120,151,181,212,243,273,304,334],Bt=e=>((e=>e%4==0&&(e%100!=0||e%400==0))(e.getFullYear())?Lt:Wt)[e.getMonth()]+e.getDate()-1,Ot=()=>performance.now(),Nt=()=>Date.now(),zt=e=>{var t=(e-h.buffer.byteLength+65535)/65536|0;try{return h.grow(t),E(),1}catch{}},$t={},Ht=()=>{if(!Ht.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(var t in $t)void 0===$t[t]?delete e[t]:e[t]=$t[t];var r=[];for(var t in e)r.push(`${t}=${e[t]}`);Ht.strings=r}return Ht.strings},Ut=e=>{j||At>0||(i.onExit?.(e),P=!0),((e,t)=>{throw t})(0,new B(e))},jt=(e,t)=>{Ut(e)},Yt=(e,t,r,i)=>{for(var n=0,a=0;a<r;a++){var s=w[t>>>2>>>0],o=w[t+4>>>2>>>0];t+=8;var c=de.read(e,u,s,o,i);if(c<0)return-1;if(n+=c,c<o)break;typeof i<"u"&&(i+=c)}return n},Vt=(e,t,r,i)=>{for(var n=0,a=0;a<r;a++){var s=w[t>>>2>>>0],o=w[t+4>>>2>>>0];t+=8;var c=de.write(e,u,s,o,i);if(c<0)return-1;if(n+=c,c<o)break;typeof i<"u"&&(i+=c)}return n},Xt=(e,t)=>{e<128?t.push(e):t.push(e%128|128,e>>7)},qt=(e,t)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((e=>{for(var t={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},i=1;i<e.length;++i)r.parameters.push(t[e[i]]);return r})(t),e);var r=[1];((e,t)=>{var r=e.slice(0,1),i=e.slice(1),n={i:127,p:127,j:126,f:125,d:124,e:111};for(var a of(t.push(96),Xt(i.length,t),i))t.push(n[a]);"v"==r?t.push(0):t.push(1,n[r])})(t,r);var i=[0,97,115,109,1,0,0,0,1];Xt(r.length,i),i.push(...r),i.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var n=new WebAssembly.Module(new Uint8Array(i));return new WebAssembly.Instance(n,{e:{f:e}}).exports.f},Kt=e=>(mt||(mt=new WeakMap,((e,t)=>{if(mt)for(var r=e;r<e+t;r++){var i=K(r);i&&mt.set(i,r)}})(0,O.length)),mt.get(e)||0),Qt=[],Jt=(e,t)=>{O.set(e,t),q[e]=O.get(e)};de.createPreloadedFile=(e,t,r,i,n,a,s,c,_,l)=>{var g=t?re.resolve(ee.join2(e,t)):e;function h(r){function o(r){l?.(),c||((e,t,r,i,n,a)=>{de.createDataFile(e,t,r,i,n,a)})(e,t,r,i,n,_),a?.(),G()}((e,t,r,i)=>{typeof Browser<"u"&&Browser.init();var n=!1;return ue.forEach((a=>{n||a.canHandle(t)&&(a.handle(e,t,r,i),n=!0)})),n})(r,g,o,(()=>{s?.(),G()}))||o(r)}x(),"string"==typeof r?(async e=>{var t=await o(e);return new Uint8Array(t)})(r).then(h,s):h(r)},de.staticInit(),he.doesNotExistError=new de.ErrnoError(44),he.doesNotExistError.stack="<generic error, no stack>",(()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ce=e})(),(()=>{let e=Ue.prototype;Object.assign(e,{isAliasOf(e){if(!(this instanceof Ue&&e instanceof Ue))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var i=e.$$.ptrType.registeredClass,n=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;i.baseClass;)n=i.upcast(n),i=i.baseClass;return t===i&&r===n},clone(){if(this.$$.ptr||Oe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=He(Object.create(Object.getPrototypeOf(this),{$$:{value:Be(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Oe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Re("Object already scheduled for deletion"),ze(this),$e(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Oe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Re("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const t=Symbol.dispose;t&&(e[t]=e.delete)})(),Object.assign(st.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:We,readValueFromPointer:ve,fromWireType:at}),pt.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=ft,i.noExitRuntime&&(j=i.noExitRuntime),i.preloadPlugins&&(ue=i.preloadPlugins),i.print&&(v=i.print),i.printErr&&(I=i.printErr),i.wasmBinary&&(g=i.wasmBinary),i.arguments&&i.arguments,i.thisProgram&&(_=i.thisProgram),i.addFunction=(e,t)=>{var r=Kt(e);if(r)return r;var i=(()=>{if(Qt.length)return Qt.pop();try{O.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return O.length-1})();try{Jt(i,e)}catch(r){if(!(r instanceof TypeError))throw r;var n=qt(e,t);Jt(i,n)}return mt.set(e,i),i},i.setValue=function(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":u[e>>>0]=t;break;case"i16":d[e>>>1>>>0]=t;break;case"i32":f[e>>>2>>>0]=t;break;case"i64":k[e>>>3]=BigInt(t);break;case"float":M[e>>>2>>>0]=t;break;case"double":S[e>>>3>>>0]=t;break;case"*":w[e>>>2>>>0]=t;break;default:R(`invalid type for setValue: ${r}`)}},i.getValue=function(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return u[e>>>0];case"i16":return d[e>>>1>>>0];case"i32":return f[e>>>2>>>0];case"i64":return k[e>>>3];case"float":return M[e>>>2>>>0];case"double":return S[e>>>3>>>0];case"*":return w[e>>>2>>>0];default:R(`invalid type for getValue: ${t}`)}},i.UTF8ToString=me,i.stringToUTF8=ke,i.lengthBytesUTF8=se,i.FS=de;var Zt={Z:function(e,t){return K(e>>>=0)(t)},B:function(){return(e=>{var t=Q;if(!t)return Z(0),0;var r=new J(t);r.set_adjusted_ptr(t);var i=r.get_type();if(!i)return Z(0),t;for(var n of e){if(0===n||n===i)break;var a=r.ptr+16;if(_r(n,i,a))return Z(n),t}return Z(i),t})([])},a:function(e,t,r){throw t>>>=0,r>>>=0,new J(e>>>=0).init(t,r),Q=e},A:function(e){throw Q||(Q=e>>>=0),Q},ua:function(e,t){e>>>=0;try{return e=fe.getStr(e),de.chmod(e,t),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},sa:function(e){try{var t=fe.getStreamFromFD(e);return de.dupStream(t).fd}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},va:function(e,t,r,i){t>>>=0;try{if(t=fe.getStr(t),t=fe.calculateAt(e,t),-8&r)return-28;var n=de.lookupPath(t,{follow:!0}).node;if(!n)return-44;var a="";return 4&r&&(a+="r"),2&r&&(a+="w"),1&r&&(a+="x"),a&&de.nodePermissions(n,a)?-2:0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ba:function(e,t,r,i){r=X(r),i=X(i);try{if(isNaN(r))return 61;if(0!=t)return-138;if(r<0||i<0)return-28;var n=de.fstat(e).size,a=r+i;return a>n&&de.ftruncate(e,a),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ra:function(e,t){try{return de.fchmod(e,t),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},F:function(e,t,r){r>>>=0,fe.varargs=r;try{var i=fe.getStreamFromFD(e);switch(t){case 0:if((n=we())<0)return-28;for(;de.streams[n];)n++;return de.dupStream(i,n).fd;case 1:case 2:case 13:case 14:return 0;case 3:return i.flags;case 4:var n=we();return i.flags|=n,0;case 12:return n=Me(),d[n+0>>>1>>>0]=2,0}return-28}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},qa:function(e,t){t>>>=0;try{return fe.writeStat(t,de.fstat(e))}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},la:function(e,t){e>>>=0,t>>>=0;try{if(0===t)return-28;var r=de.cwd(),i=se(r)+1;return t<i?-68:(ke(r,e,t),i)}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},Y:function(e,t,r){t>>>=0,r>>>=0;try{var i=fe.getStreamFromFD(e);i.getdents||=de.readdir(i.path);for(var n=280,a=0,s=de.llseek(i,0,1),o=Math.floor(s/n),c=Math.min(i.getdents.length,o+Math.floor(r/n)),_=o;_<c;_++){var l,g,h=i.getdents[_];if("."===h)l=i.node.id,g=4;else if(".."===h)l=de.lookupPath(i.path,{parent:!0}).node.id,g=4;else{var p;try{p=de.lookupNode(i.node,h)}catch(e){if(28===e?.errno)continue;throw e}l=p.id,g=de.isChrdev(p.mode)?2:de.isDir(p.mode)?4:de.isLink(p.mode)?10:8}k[t+a>>>3]=BigInt(l),k[t+a+8>>>3]=BigInt((_+1)*n),d[t+a+16>>>1>>>0]=280,u[t+a+18>>>0]=g,ke(h,t+a+19,256),a+=n}return de.llseek(i,_*n,0),a}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ya:function(e,t,r){r>>>=0,fe.varargs=r;try{var i=fe.getStreamFromFD(e);switch(t){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return i.tty?0:-59;case 21505:if(!i.tty)return-59;if(i.tty.ops.ioctl_tcgets){var n=i.tty.ops.ioctl_tcgets(i),a=Me();f[a>>>2>>>0]=n.c_iflag||0,f[a+4>>>2>>>0]=n.c_oflag||0,f[a+8>>>2>>>0]=n.c_cflag||0,f[a+12>>>2>>>0]=n.c_lflag||0;for(var s=0;s<32;s++)u[a+s+17>>>0]=n.c_cc[s]||0;return 0}return 0;case 21506:case 21507:case 21508:if(!i.tty)return-59;if(i.tty.ops.ioctl_tcsets){a=Me();var o=f[a>>>2>>>0],c=f[a+4>>>2>>>0],_=f[a+8>>>2>>>0],l=f[a+12>>>2>>>0],g=[];for(s=0;s<32;s++)g.push(u[a+s+17>>>0]);return i.tty.ops.ioctl_tcsets(i.tty,t,{c_iflag:o,c_oflag:c,c_cflag:_,c_lflag:l,c_cc:g})}return 0;case 21519:return i.tty?(a=Me(),f[a>>>2>>>0]=0,0):-59;case 21520:return i.tty?-28:-59;case 21531:return a=Me(),de.ioctl(i,t,a);case 21523:if(!i.tty)return-59;if(i.tty.ops.ioctl_tiocgwinsz){var h=i.tty.ops.ioctl_tiocgwinsz(i.tty);a=Me(),d[a>>>1>>>0]=h[0],d[a+2>>>1>>>0]=h[1]}return 0;default:return-28}}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},na:function(e,t){e>>>=0,t>>>=0;try{return e=fe.getStr(e),fe.writeStat(t,de.lstat(e))}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},oa:function(e,t,r,i){t>>>=0,r>>>=0;try{t=fe.getStr(t);var n=256&i,a=4096&i;return i&=-6401,t=fe.calculateAt(e,t,a),fe.writeStat(r,n?de.lstat(t):de.stat(t))}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},D:function(e,t,r,i){t>>>=0,i>>>=0,fe.varargs=i;try{t=fe.getStr(t),t=fe.calculateAt(e,t);var n=i?we():0;return de.open(t,r,n).fd}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ab:function(e,t,r,i){t>>>=0,r>>>=0,i>>>=0;try{if(t=fe.getStr(t),t=fe.calculateAt(e,t),i<=0)return-28;var n=de.readlink(t),a=Math.min(i,se(n)),s=u[r+a>>>0];return ke(n,r,i+1),u[r+a>>>0]=s,a}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},_a:function(e,t,r,i){t>>>=0,i>>>=0;try{return t=fe.getStr(t),i=fe.getStr(i),t=fe.calculateAt(e,t),i=fe.calculateAt(r,i),de.rename(t,i),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},$a:function(e){e>>>=0;try{return e=fe.getStr(e),de.rmdir(e),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},pa:function(e,t){e>>>=0,t>>>=0;try{return e=fe.getStr(e),fe.writeStat(t,de.stat(e))}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},Za:function(e,t,r){e>>>=0,r>>>=0;try{return e=fe.getStr(e),r=fe.getStr(r),r=fe.calculateAt(t,r),de.symlink(e,r),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},X:function(e,t,r){t>>>=0;try{return t=fe.getStr(t),t=fe.calculateAt(e,t),0===r?de.unlink(t):512===r?de.rmdir(t):R("Invalid flags passed to unlinkat"),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},wa:()=>R(""),Na:function(e){var t=ye[e>>>=0];delete ye[e];var r=t.rawConstructor,i=t.rawDestructor,n=t.fields,a=n.map((e=>e.getterReturnType)).concat(n.map((e=>e.setterArgumentType)));Te([e],a,(e=>{var a={};return n.forEach(((t,r)=>{var i=t.fieldName,s=e[r],o=e[r].optional,c=t.getter,_=t.getterContext,l=e[r+n.length],g=t.setter,h=t.setterContext;a[i]={read:e=>s.fromWireType(c(_,e)),write:(e,t)=>{var r=[];g(h,e,l.toWireType(r,t)),Se(r)},optional:o}})),[{name:t.name,fromWireType:e=>{var t={};for(var r in a)t[r]=a[r].read(e);return i(e),t},toWireType:(e,t)=>{for(var n in a)if(!(n in t)&&!a[n].optional)throw new TypeError(`Missing field: "${n}"`);var s=r();for(n in a)a[n].write(s,t[n]);return null!==e&&e.push(i,s),s},argPackAdvance:We,readValueFromPointer:ve,destructorFunction:i}]}))},P:function(e,t,r,i,n){e>>>=0,r>>>=0;var a=-1!=(t=xe(t>>>=0)).indexOf("u");Fe(e,{name:t,fromWireType:e=>e,toWireType:function(e,t){if("bigint"!=typeof t&&"number"!=typeof t)throw new TypeError(`Cannot convert "${Ae(t)}" to ${this.name}`);return"number"==typeof t&&(t=BigInt(t)),t},argPackAdvance:We,readValueFromPointer:Le(t,r,!a),destructorFunction:null})},Ha:function(e,t,r,i){Fe(e>>>=0,{name:t=xe(t>>>=0),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:We,readValueFromPointer:function(e){return this.fromWireType(p[e>>>0])},destructorFunction:null})},I:function(e,t,r,i,n,a,s,o,c,_,l,g,h){e>>>=0,t>>>=0,r>>>=0,i>>>=0,n>>>=0,a>>>=0,s>>>=0,o>>>=0,c>>>=0,_>>>=0,g>>>=0,h>>>=0,l=xe(l>>>=0),a=_t(n,a),o&&=_t(s,o),_&&=_t(c,_),h=_t(g,h);var u=(e=>{var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?`_${e}`:e})(l);Xe(u,(function(){ht(`Cannot construct ${l} due to unbound types`,[i])})),Te([e,t,r],i?[i]:[],(t=>{var r,n;t=t[0],n=i?(r=t.registeredClass).instancePrototype:Ue.prototype;var s=je(l,(function(...e){if(Object.getPrototypeOf(this)!==c)throw new Ge(`Use 'new' to construct ${l}`);if(void 0===g.constructor_body)throw new Ge(`${l} has no accessible constructor`);var t=g.constructor_body[e.length];if(void 0===t)throw new Ge(`Tried to invoke ctor of ${l} with invalid number of parameters (${e.length}) - expected (${Object.keys(g.constructor_body).toString()}) parameters instead!`);return t.apply(this,e)})),c=Object.create(n,{constructor:{value:s}});s.prototype=c;var g=new qe(l,s,c,h,r,a,o,_);g.baseClass&&(g.baseClass.__derivedClasses??=[],g.baseClass.__derivedClasses.push(g));var p=new st(l,g,!0,!1,!1),d=new st(l+"*",g,!1,!1,!1),m=new st(l+" const*",g,!1,!0,!1);return Ye[e]={pointerType:d,constPointerType:m},ot(u,s),[p,d,m]}))},Fa:function(e){return Fe(e>>>=0,Mt)},w:function(e,t,r,i){function n(){}e>>>=0,r>>>=0,t=xe(t>>>=0),n.values={},Fe(e,{name:t,constructor:n,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,argPackAdvance:We,readValueFromPointer:kt(t,r,i),destructorFunction:null}),Xe(t,n)},e:function(e,t,r){t>>>=0;var i=yt(e>>>=0,"enum");t=xe(t);var n=i.constructor,a=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:je(`${i.name}_${t}`,(function(){}))}});n.values[r]=a,n[t]=a},O:function(e,t,r){r>>>=0,Fe(e>>>=0,{name:t=xe(t>>>=0),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:We,readValueFromPointer:St(t,r),destructorFunction:null})},p:function(e,t,r,i,n,a,s,o){e>>>=0,i>>>=0,n>>>=0,a>>>=0;var c=((e,t)=>{for(var r=[],i=0;i<e;i++)r.push(w[t+4*i>>>2>>>0]);return r})(t,r>>>=0);e=(e=>{const t=(e=e.trim()).indexOf("(");return-1===t?e:e.slice(0,t)})(e=xe(e)),n=_t(i,n,s),Xe(e,(function(){ht(`Cannot call ${e} due to unbound types`,c)}),t-1),Te([],c,(r=>{var i=[r[0],null].concat(r.slice(1));return ot(e,function(e,t,r,i,n,a){var s=t.length;s<2&&Re("argTypes array size mismatch! Must at least get return value and 'this' types!"),t[1];for(var o=function(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}(t),c="void"!==t[0].name,_=[e,Re,i,n,Se,t[0],t[1]],l=0;l<s-2;++l)_.push(t[l+2]);if(!o)for(l=2;l<t.length;++l)null!==t[l].destructorFunction&&_.push(t[l].destructorFunction);var g=function(e,t,r,i){const n=["f",r?"t":"f",i?"t":"f"];for(let t=2;t<e.length;++t){const r=e[t];let i="";i=void 0===r.destructorFunction?"u":null===r.destructorFunction?"n":"t",n.push(i)}return n.join("")}(t,0,c,a),h=vt[g](..._);return je(e,h)}(e,i,0,n,a,s),t-1),[]}))},v:function(e,t,r,i,n){e>>>=0,r>>>=0,t=xe(t>>>=0);var a=e=>e;if(0===i){var s=32-8*r;a=e=>e<<s>>>s}var o=t.includes("unsigned");Fe(e,{name:t,fromWireType:a,toWireType:o?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:We,readValueFromPointer:Le(t,r,0!==i),destructorFunction:null})},n:function(e,t,r){r>>>=0;var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];function n(e){var t=w[e>>>2>>>0],r=w[e+4>>>2>>>0];return new i(u.buffer,r,t)}Fe(e>>>=0,{name:r=xe(r),fromWireType:n,argPackAdvance:We,readValueFromPointer:n},{ignoreDuplicateRegistrations:!0})},Ga:function(e,t){Fe(e>>>=0,{name:t=xe(t>>>=0),fromWireType(e){for(var t,r=w[e>>>2>>>0],i=e+4,n=i,a=0;a<=r;++a){var s=i+a;if(a==r||0==p[s>>>0]){var o=me(n,s-n);void 0===t?t=o:(t+="\0",t+=o),n=s+1}}return ir(e),t},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i="string"==typeof t;i||ArrayBuffer.isView(t)&&1==t.BYTES_PER_ELEMENT||Re("Cannot pass non-string to std::string"),r=i?se(t):t.length;var n=rr(4+r+1),a=n+4;return w[n>>>2>>>0]=r,i?ke(t,a,r+1):p.set(t,a>>>0),null!==e&&e.push(ir,n),n},argPackAdvance:We,readValueFromPointer:ve,destructorFunction(e){ir(e)}})},G:function(e,t,r){var i,n,a,s;e>>>=0,t>>>=0,r=xe(r>>>=0),2===t?(i=It,n=Pt,s=Dt,a=e=>m[e>>>1>>>0]):4===t&&(i=Et,n=bt,s=Tt,a=e=>w[e>>>2>>>0]),Fe(e,{name:r,fromWireType:e=>{for(var r,n=w[e>>>2>>>0],s=e+4,o=0;o<=n;++o){var c=e+4+o*t;if(o==n||0==a(c)){var _=i(s,c-s);void 0===r?r=_:(r+="\0",r+=_),s=c+t}}return ir(e),r},toWireType:(e,i)=>{"string"!=typeof i&&Re(`Cannot pass non-string to C++ string type ${r}`);var a=s(i),o=rr(4+a+t);return w[o>>>2>>>0]=a/t,n(i,o+4,a+t),null!==e&&e.push(ir,o),o},argPackAdvance:We,readValueFromPointer:ve,destructorFunction(e){ir(e)}})},Oa:function(e,t,r,i,n,a){t>>>=0,r>>>=0,i>>>=0,n>>>=0,a>>>=0,ye[e>>>=0]={name:xe(t),rawConstructor:_t(r,i),rawDestructor:_t(n,a),fields:[]}},H:function(e,t,r,i,n,a,s,o,c,_){t>>>=0,r>>>=0,i>>>=0,n>>>=0,a>>>=0,s>>>=0,o>>>=0,c>>>=0,_>>>=0,ye[e>>>=0].fields.push({fieldName:xe(t),getterReturnType:r,getter:_t(i,n),getterContext:a,setterArgumentType:s,setter:_t(o,c),setterContext:_})},Ia:function(e,t){Fe(e>>>=0,{isVoid:!0,name:t=xe(t>>>=0),argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},_:()=>{j=!1,At=0},Xa:function(e){return(e>>>=0)?-52:0},Va:()=>{throw 1/0},Ka:function(e,t,r,i,n){return t>>>=0,r>>>=0,i>>>=0,n>>>=0,(e=Rt[e>>>=0])(t=wt.toValue(t),t[r=Gt(r)],i,n)},l:dt,La:function(e,t,r){var i=((e,t)=>{for(var r=new Array(e),i=0;i<e;++i)r[i]=yt(w[t+4*i>>>2>>>0],`parameter ${i}`);return r})(e,t>>>=0),n=i.shift();e--;var a=new Array(e),s=`methodCaller<(${i.map((e=>e.name)).join(", ")}) => ${n.name}>`;return(e=>{var t=Rt.length;return Rt.push(e),t})(je(s,((t,s,o,c)=>{for(var _=0,l=0;l<e;++l)a[l]=i[l].readValueFromPointer(c+_),_+=i[l].argPackAdvance;var g=1===r?Ft(s,a):s.apply(t,a);return((e,t,r)=>{var i=[],n=e.toWireType(i,r);return i.length&&(w[t>>>2>>>0]=wt.toHandle(i)),n})(n,o,g)})))},Ma:function(e){(e>>>=0)>9&&(pt[e+1]+=1)},Q:function(){return wt.toHandle([])},s:function(e){return e>>>=0,wt.toHandle(Gt(e))},z:function(){return wt.toHandle({})},Ja:function(e){e>>>=0;var t=wt.toValue(e);Se(t),dt(e)},q:function(e,t,r){e>>>=0,t>>>=0,r>>>=0,e=wt.toValue(e),t=wt.toValue(t),r=wt.toValue(r),e[t]=r},o:function(e,t){t>>>=0;var r=(e=yt(e>>>=0,"_emval_take_value")).readValueFromPointer(t);return wt.toHandle(r)},ea:function(e,t){e=X(e),t>>>=0;var r=new Date(1e3*e);f[t>>>2>>>0]=r.getUTCSeconds(),f[t+4>>>2>>>0]=r.getUTCMinutes(),f[t+8>>>2>>>0]=r.getUTCHours(),f[t+12>>>2>>>0]=r.getUTCDate(),f[t+16>>>2>>>0]=r.getUTCMonth(),f[t+20>>>2>>>0]=r.getUTCFullYear()-1900,f[t+24>>>2>>>0]=r.getUTCDay();var i=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),n=(r.getTime()-i)/864e5|0;f[t+28>>>2>>>0]=n},fa:function(e,t){e=X(e),t>>>=0;var r=new Date(1e3*e);f[t>>>2>>>0]=r.getSeconds(),f[t+4>>>2>>>0]=r.getMinutes(),f[t+8>>>2>>>0]=r.getHours(),f[t+12>>>2>>>0]=r.getDate(),f[t+16>>>2>>>0]=r.getMonth(),f[t+20>>>2>>>0]=r.getFullYear()-1900,f[t+24>>>2>>>0]=r.getDay();var i=0|Bt(r);f[t+28>>>2>>>0]=i,f[t+36>>>2>>>0]=-60*r.getTimezoneOffset();var n=new Date(r.getFullYear(),0,1),a=new Date(r.getFullYear(),6,1).getTimezoneOffset(),s=n.getTimezoneOffset(),o=0|(a!=s&&r.getTimezoneOffset()==Math.min(s,a));f[t+32>>>2>>>0]=o},ha:function(e){e>>>=0;var t=(()=>{var t=new Date(f[e+20>>>2>>>0]+1900,f[e+16>>>2>>>0],f[e+12>>>2>>>0],f[e+8>>>2>>>0],f[e+4>>>2>>>0],f[e>>>2>>>0],0),r=f[e+32>>>2>>>0],i=t.getTimezoneOffset(),n=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=n.getTimezoneOffset(),o=Math.min(s,a);if(r<0)f[e+32>>>2>>>0]=+(a!=s&&o==i);else if(r>0!=(o==i)){var c=Math.max(s,a),_=r>0?o:c;t.setTime(t.getTime()+6e4*(_-i))}f[e+24>>>2>>>0]=t.getDay();var l=0|Bt(t);f[e+28>>>2>>>0]=l,f[e>>>2>>>0]=t.getSeconds(),f[e+4>>>2>>>0]=t.getMinutes(),f[e+8>>>2>>>0]=t.getHours(),f[e+12>>>2>>>0]=t.getDate(),f[e+16>>>2>>>0]=t.getMonth(),f[e+20>>>2>>>0]=t.getYear();var g=t.getTime();return isNaN(g)?-1:g/1e3})();return BigInt(t)},ca:function(e,t,r,i,n,a,s){e>>>=0,n=X(n),a>>>=0,s>>>=0;try{if(isNaN(n))return 61;var o=fe.getStreamFromFD(i),c=de.mmap(o,e,n,t,r),_=c.ptr;return f[a>>>2>>>0]=c.allocated,w[s>>>2>>>0]=_,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},da:function(e,t,r,i,n,a){e>>>=0,t>>>=0,a=X(a);try{var s=fe.getStreamFromFD(n);2&r&&fe.doMsync(e,s,t,i,a)}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ia:function(e,t,r,i){e>>>=0,t>>>=0,r>>>=0,i>>>=0;var n=(new Date).getFullYear(),a=new Date(n,0,1),s=new Date(n,6,1),o=a.getTimezoneOffset(),c=s.getTimezoneOffset(),_=Math.max(o,c);w[e>>>2>>>0]=60*_,f[t>>>2>>>0]=+(o!=c);var l=e=>{var t=e>=0?"-":"+",r=Math.abs(e);return`UTC${t}${String(Math.floor(r/60)).padStart(2,"0")}${String(r%60).padStart(2,"0")}`},g=l(o),h=l(c);c<o?(ke(g,r,17),ke(h,i,17)):(ke(g,i,17),ke(h,r,17))},ta:function(e,t,r){if(r>>>=0,!(e=>e>=0&&e<=3)(e))return 28;var i;i=0===e?Nt():Ot();var n=Math.round(1e3*i*1e3);return k[r>>>3]=BigInt(n),0},L:Nt,Ya:function(){return 4294901760},C:Ot,Wa:function(e){e>>>=0;var t=p.length,r=4294901760;if(e>r)return!1;for(var i=1;i<=4;i*=2){var n=t*(1+.2/i);n=Math.min(n,e+100663296);var a=Math.min(r,le(Math.max(e,n),65536));if(zt(a))return!0}return!1},za:function(e,t){e>>>=0,t>>>=0;var r=0,i=0;for(var n of Ht()){var a=t+r;w[e+i>>>2>>>0]=a,r+=ke(n,a,1/0)+1,i+=4}return 0},Aa:function(e,t){e>>>=0,t>>>=0;var r=Ht();w[e>>>2>>>0]=r.length;var i=0;for(var n of r)i+=se(n)+1;return w[t>>>2>>>0]=i,0},x:jt,y:function(e){try{var t=fe.getStreamFromFD(e);return de.close(t),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},K:function(e,t){t>>>=0;try{var r=fe.getStreamFromFD(e),i=r.tty?2:de.isDir(r.mode)?3:de.isLink(r.mode)?7:4;return u[t>>>0]=i,d[t+2>>>1>>>0]=0,k[t+8>>>3]=BigInt(0),k[t+16>>>3]=BigInt(0),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},aa:function(e,t,r,i,n){t>>>=0,r>>>=0,i=X(i),n>>>=0;try{if(isNaN(i))return 61;var a=fe.getStreamFromFD(e),s=Yt(a,t,r,i);return w[n>>>2>>>0]=s,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},$:function(e,t,r,i,n){t>>>=0,r>>>=0,i=X(i),n>>>=0;try{if(isNaN(i))return 61;var a=fe.getStreamFromFD(e),s=Vt(a,t,r,i);return w[n>>>2>>>0]=s,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},M:function(e,t,r,i){t>>>=0,r>>>=0,i>>>=0;try{var n=fe.getStreamFromFD(e),a=Yt(n,t,r);return w[i>>>2>>>0]=a,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},ja:function(e,t,r,i){t=X(t),i>>>=0;try{if(isNaN(t))return 61;var n=fe.getStreamFromFD(e);return de.llseek(n,t,r),k[i>>>3]=BigInt(n.position),n.getdents&&0===t&&0===r&&(n.getdents=null),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},ma:function(e){try{var t=fe.getStreamFromFD(e);return t.stream_ops?.fsync?t.stream_ops.fsync(t):0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},E:function(e,t,r,i){t>>>=0,r>>>=0,i>>>=0;try{var n=fe.getStreamFromFD(e),a=Vt(n,t,r);return w[i>>>2>>>0]=a,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},Sa:function(e,t,r){var i=V();try{return K(e)(t,r)}catch(e){if(Y(i),e!==e+0)throw e;ar(1,0)}},J:function(e){var t=V();try{return K(e)()}catch(e){if(Y(t),e!==e+0)throw e;ar(1,0)}},c:function(e,t){var r=V();try{return K(e)(t)}catch(e){if(Y(r),e!==e+0)throw e;ar(1,0)}},d:function(e,t,r){var i=V();try{return K(e)(t,r)}catch(e){if(Y(i),e!==e+0)throw e;ar(1,0)}},f:function(e,t,r,i){var n=V();try{return K(e)(t,r,i)}catch(e){if(Y(n),e!==e+0)throw e;ar(1,0)}},i:function(e,t,r,i,n){var a=V();try{return K(e)(t,r,i,n)}catch(e){if(Y(a),e!==e+0)throw e;ar(1,0)}},W:function(e,t,r,i,n,a){var s=V();try{return K(e)(t,r,i,n,a)}catch(e){if(Y(s),e!==e+0)throw e;ar(1,0)}},b:function(e,t,r,i,n,a,s){var o=V();try{return K(e)(t,r,i,n,a,s)}catch(e){if(Y(o),e!==e+0)throw e;ar(1,0)}},U:function(e,t,r,i,n,a,s,o){var c=V();try{return K(e)(t,r,i,n,a,s,o)}catch(e){if(Y(c),e!==e+0)throw e;ar(1,0)}},m:function(e,t,r,i,n,a,s,o,c){var _=V();try{return K(e)(t,r,i,n,a,s,o,c)}catch(e){if(Y(_),e!==e+0)throw e;ar(1,0)}},Ra:function(e,t,r,i,n,a,s,o,c,_){var l=V();try{return K(e)(t,r,i,n,a,s,o,c,_)}catch(e){if(Y(l),e!==e+0)throw e;ar(1,0)}},Qa:function(e,t,r,i,n,a,s,o,c,_,l){var g=V();try{return K(e)(t,r,i,n,a,s,o,c,_,l)}catch(e){if(Y(g),e!==e+0)throw e;ar(1,0)}},Ea:function(e,t,r,i,n,a,s,o,c,_,l,g){var h=V();try{return K(e)(t,r,i,n,a,s,o,c,_,l,g)}catch(e){if(Y(h),e!==e+0)throw e;ar(1,0)}},Da:function(e,t,r,i,n,a){var s=V();try{return K(e)(t,r,i,n,a)}catch(e){if(Y(s),e!==e+0)throw e;ar(1,0)}},r:function(e,t,r,i,n){var a=V();try{return K(e)(t,r,i,n)}catch(e){if(Y(a),e!==e+0)throw e;ar(1,0)}},Ua:function(e,t,r){var i=V();try{return K(e)(t,r)}catch(e){if(Y(i),e!==e+0)throw e;ar(1,0)}},u:function(e,t){var r=V();try{return K(e)(t)}catch(e){if(Y(r),e!==e+0)throw e;return ar(1,0),0n}},ga:function(e,t,r,i){var n=V();try{return K(e)(t,r,i)}catch(e){if(Y(n),e!==e+0)throw e;return ar(1,0),0n}},V:function(e){var t=V();try{K(e)()}catch(e){if(Y(t),e!==e+0)throw e;ar(1,0)}},k:function(e,t){var r=V();try{K(e)(t)}catch(e){if(Y(r),e!==e+0)throw e;ar(1,0)}},h:function(e,t,r){var i=V();try{K(e)(t,r)}catch(e){if(Y(i),e!==e+0)throw e;ar(1,0)}},T:function(e,t,r,i){var n=V();try{K(e)(t,r,i)}catch(e){if(Y(n),e!==e+0)throw e;ar(1,0)}},S:function(e,t,r,i,n,a,s,o,c,_,l){var g=V();try{K(e)(t,r,i,n,a,s,o,c,_,l)}catch(e){if(Y(g),e!==e+0)throw e;ar(1,0)}},j:function(e,t,r,i){var n=V();try{K(e)(t,r,i)}catch(e){if(Y(n),e!==e+0)throw e;ar(1,0)}},g:function(e,t,r,i,n){var a=V();try{K(e)(t,r,i,n)}catch(e){if(Y(a),e!==e+0)throw e;ar(1,0)}},t:function(e,t,r,i,n,a){var s=V();try{K(e)(t,r,i,n,a)}catch(e){if(Y(s),e!==e+0)throw e;ar(1,0)}},Pa:function(e,t,r,i,n,a,s){var o=V();try{K(e)(t,r,i,n,a,s)}catch(e){if(Y(o),e!==e+0)throw e;ar(1,0)}},N:function(e,t,r,i,n,a,s,o){var c=V();try{K(e)(t,r,i,n,a,s,o)}catch(e){if(Y(c),e!==e+0)throw e;ar(1,0)}},Ca:function(e,t,r,i,n,a,s,o,c){var _=V();try{K(e)(t,r,i,n,a,s,o,c)}catch(e){if(Y(_),e!==e+0)throw e;ar(1,0)}},R:function(e,t,r,i,n,a,s,o,c,_){var l=V();try{K(e)(t,r,i,n,a,s,o,c,_)}catch(e){if(Y(l),e!==e+0)throw e;ar(1,0)}},Ba:function(e,t,r,i,n,a,s,o,c,_,l,g){var h=V();try{K(e)(t,r,i,n,a,s,o,c,_,l,g)}catch(e){if(Y(h),e!==e+0)throw e;ar(1,0)}},Ta:function(e,t,r){var i=V();try{K(e)(t,r)}catch(e){if(Y(i),e!==e+0)throw e;ar(1,0)}},xa:Ut,ka:function(e,t){e>>>=0,t>>>=0;try{return te(p.subarray(e>>>0,e+t>>>0)),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}}},er=await async function(){function e(e,t){return er=function(e){e=Object.assign({},e);var t=e=>t=>e(t)>>>0,r=e=>(t,r)=>e(t,r)>>>0,i=e=>()=>e()>>>0;return e.db=t(e.db),e.Tj=t(e.Tj),e.eo=r(e.eo),e._emscripten_stack_alloc=t(e._emscripten_stack_alloc),e.io=i(e.io),e}(er=e.exports),h=er.bb,E(),O=er.wb,G(),er}x();var t,n={a:Zt};if(i.instantiateWasm)return new Promise(((t,r)=>{i.instantiateWasm(n,((r,i)=>{t(e(r))}))}));b??=F();try{var a=await W(g,b,n);return e((t=a).instance)}catch(t){return r(t),Promise.reject(t)}}();er.cb;var tr=er.db;i._MagickColor_Create=er.eb,i._MagickColor_Dispose=er.fb,i._MagickColor_Count_Get=er.gb,i._MagickColor_Red_Get=er.hb,i._MagickColor_Red_Set=er.ib,i._MagickColor_Green_Get=er.jb,i._MagickColor_Green_Set=er.kb,i._MagickColor_Blue_Get=er.lb,i._MagickColor_Blue_Set=er.mb,i._MagickColor_Alpha_Get=er.nb,i._MagickColor_Alpha_Set=er.ob,i._MagickColor_Black_Get=er.pb,i._MagickColor_Black_Set=er.qb,i._MagickColor_IsCMYK_Get=er.rb,i._MagickColor_IsCMYK_Set=er.sb,i._MagickColor_Clone=er.tb,i._MagickColor_FuzzyEquals=er.ub,i._MagickColor_Initialize=er.vb,i._MagickColorCollection_DisposeList=er.xb,i._MagickColorCollection_GetInstance=er.yb,i._DrawingWand_Create=er.zb,i._DrawingWand_Dispose=er.Ab,i._DrawingWand_Affine=er.Bb,i._DrawingWand_Alpha=er.Cb,i._DrawingWand_Arc=er.Db,i._DrawingWand_Bezier=er.Eb,i._DrawingWand_BorderColor=er.Fb,i._DrawingWand_Circle=er.Gb,i._DrawingWand_ClipPath=er.Hb,i._DrawingWand_ClipRule=er.Ib,i._DrawingWand_ClipUnits=er.Jb,i._DrawingWand_Color=er.Kb,i._DrawingWand_Composite=er.Lb,i._DrawingWand_Density=er.Mb,i._DrawingWand_Ellipse=er.Nb,i._DrawingWand_FillColor=er.Ob,i._DrawingWand_FillOpacity=er.Pb,i._DrawingWand_FillPatternUrl=er.Qb,i._DrawingWand_FillRule=er.Rb,i._DrawingWand_Font=er.Sb,i._DrawingWand_FontFamily=er.Tb,i._DrawingWand_FontPointSize=er.Ub,i._DrawingWand_FontTypeMetrics=er.Vb,i._TypeMetric_Create=er.Wb,i._DrawingWand_Gravity=er.Xb,i._DrawingWand_Line=er.Yb,i._DrawingWand_PathArcAbs=er.Zb,i._DrawingWand_PathArcRel=er._b,i._DrawingWand_PathClose=er.$b,i._DrawingWand_PathCurveToAbs=er.ac,i._DrawingWand_PathCurveToRel=er.bc,i._DrawingWand_PathFinish=er.cc,i._DrawingWand_PathLineToAbs=er.dc,i._DrawingWand_PathLineToHorizontalAbs=er.ec,i._DrawingWand_PathLineToHorizontalRel=er.fc,i._DrawingWand_PathLineToRel=er.gc,i._DrawingWand_PathLineToVerticalAbs=er.hc,i._DrawingWand_PathLineToVerticalRel=er.ic,i._DrawingWand_PathMoveToAbs=er.jc,i._DrawingWand_PathMoveToRel=er.kc,i._DrawingWand_PathQuadraticCurveToAbs=er.lc,i._DrawingWand_PathQuadraticCurveToRel=er.mc,i._DrawingWand_PathSmoothCurveToAbs=er.nc,i._DrawingWand_PathSmoothCurveToRel=er.oc,i._DrawingWand_PathSmoothQuadraticCurveToAbs=er.pc,i._DrawingWand_PathSmoothQuadraticCurveToRel=er.qc,i._DrawingWand_PathStart=er.rc,i._DrawingWand_Point=er.sc,i._DrawingWand_Polygon=er.tc,i._DrawingWand_Polyline=er.uc,i._DrawingWand_PopClipPath=er.vc,i._DrawingWand_PopGraphicContext=er.wc,i._DrawingWand_PopPattern=er.xc,i._DrawingWand_PushClipPath=er.yc,i._DrawingWand_PushGraphicContext=er.zc,i._DrawingWand_PushPattern=er.Ac,i._DrawingWand_Rectangle=er.Bc,i._DrawingWand_Render=er.Cc,i._DrawingWand_Rotation=er.Dc,i._DrawingWand_RoundRectangle=er.Ec,i._DrawingWand_Scaling=er.Fc,i._DrawingWand_SkewX=er.Gc,i._DrawingWand_SkewY=er.Hc,i._DrawingWand_StrokeAntialias=er.Ic,i._DrawingWand_StrokeColor=er.Jc,i._DrawingWand_StrokeDashArray=er.Kc,i._DrawingWand_StrokeDashOffset=er.Lc,i._DrawingWand_StrokeLineCap=er.Mc,i._DrawingWand_StrokeLineJoin=er.Nc,i._DrawingWand_StrokeMiterLimit=er.Oc,i._DrawingWand_StrokeOpacity=er.Pc,i._DrawingWand_StrokePatternUrl=er.Qc,i._DrawingWand_StrokeWidth=er.Rc,i._DrawingWand_Text=er.Sc,i._DrawingWand_TextAlignment=er.Tc,i._DrawingWand_TextAntialias=er.Uc,i._DrawingWand_TextDecoration=er.Vc,i._DrawingWand_TextDirection=er.Wc,i._DrawingWand_TextEncoding=er.Xc,i._DrawingWand_TextInterlineSpacing=er.Yc,i._DrawingWand_TextInterwordSpacing=er.Zc,i._DrawingWand_TextKerning=er._c,i._DrawingWand_TextUnderColor=er.$c,i._DrawingWand_Translation=er.ad,i._DrawingWand_Viewbox=er.bd,i._MagickExceptionHelper_Description=er.cd,i._MagickExceptionHelper_Dispose=er.dd,i._MagickExceptionHelper_Related=er.ed,i._MagickExceptionHelper_RelatedCount=er.fd,i._MagickExceptionHelper_Message=er.gd,i._MagickExceptionHelper_Severity=er.hd,i._PdfInfo_PageCount=er.id,i._Environment_Initialize=er.jd,i._Environment_GetEnv=er.kd,i._Environment_SetEnv=er.ld,i._MagickMemory_Relinquish=er.md,i._Magick_Delegates_Get=er.nd,i._Magick_Features_Get=er.od,i._Magick_ImageMagickVersion_Get=er.pd,i._Magick_GetFonts=er.qd,i._Magick_GetFontFamily=er.rd,i._Magick_GetFontName=er.sd,i._Magick_DisposeFonts=er.td,i._Magick_ResetRandomSeed=er.ud,i._Magick_SetDefaultFontFile=er.vd,i._Magick_SetRandomSeed=er.wd,i._Magick_SetLogDelegate=er.xd,i._Magick_SetLogEvents=er.yd,i._MagickFormatInfo_CreateList=er.zd,i._MagickFormatInfo_DisposeList=er.Ad,i._MagickFormatInfo_CanReadMultithreaded_Get=er.Bd,i._MagickFormatInfo_CanWriteMultithreaded_Get=er.Cd,i._MagickFormatInfo_Description_Get=er.Dd,i._MagickFormatInfo_Format_Get=er.Ed,i._MagickFormatInfo_MimeType_Get=er.Fd,i._MagickFormatInfo_Module_Get=er.Gd,i._MagickFormatInfo_SupportsMultipleFrames_Get=er.Hd,i._MagickFormatInfo_SupportsReading_Get=er.Id,i._MagickFormatInfo_SupportsWriting_Get=er.Jd,i._MagickFormatInfo_GetInfo=er.Kd,i._MagickFormatInfo_GetInfoByName=er.Ld,i._MagickFormatInfo_GetInfoWithBlob=er.Md,i._MagickFormatInfo_Unregister=er.Nd,i._MagickImage_Create=er.Od,i._MagickImage_Dispose=er.Pd,i._MagickImage_AnimationDelay_Get=er.Qd,i._MagickImage_AnimationDelay_Set=er.Rd,i._MagickImage_AnimationIterations_Get=er.Sd,i._MagickImage_AnimationIterations_Set=er.Td,i._MagickImage_AnimationTicksPerSecond_Get=er.Ud,i._MagickImage_AnimationTicksPerSecond_Set=er.Vd,i._MagickImage_BackgroundColor_Get=er.Wd,i._MagickImage_BackgroundColor_Set=er.Xd,i._MagickImage_BaseHeight_Get=er.Yd,i._MagickImage_BaseWidth_Get=er.Zd,i._MagickImage_BlackPointCompensation_Get=er._d,i._MagickImage_BlackPointCompensation_Set=er.$d,i._MagickImage_BorderColor_Get=er.ae,i._MagickImage_BorderColor_Set=er.be,i._MagickImage_BoundingBox_Get=er.ce,i._MagickRectangle_Create=er.de,i._MagickImage_ChannelCount_Get=er.ee,i._MagickImage_ChromaBlue_Get=er.fe,i._PrimaryInfo_Create=er.ge,i._MagickImage_ChromaBlue_Set=er.he,i._MagickImage_ChromaGreen_Get=er.ie,i._MagickImage_ChromaGreen_Set=er.je,i._MagickImage_ChromaRed_Get=er.ke,i._MagickImage_ChromaRed_Set=er.le,i._MagickImage_ChromaWhite_Get=er.me,i._MagickImage_ChromaWhite_Set=er.ne,i._MagickImage_ClassType_Get=er.oe,i._MagickImage_ClassType_Set=er.pe,i._QuantizeSettings_Create=er.qe,i._QuantizeSettings_Dispose=er.re,i._MagickImage_ColorFuzz_Get=er.se,i._MagickImage_ColorFuzz_Set=er.te,i._MagickImage_ColormapSize_Get=er.ue,i._MagickImage_ColormapSize_Set=er.ve,i._MagickImage_ColorSpace_Get=er.we,i._MagickImage_ColorSpace_Set=er.xe,i._MagickImage_ColorType_Get=er.ye,i._MagickImage_ColorType_Set=er.ze,i._MagickImage_Compose_Get=er.Ae,i._MagickImage_Compose_Set=er.Be,i._MagickImage_Compression_Get=er.Ce,i._MagickImage_Compression_Set=er.De,i._MagickImage_Depth_Get=er.Ee,i._MagickImage_Depth_Set=er.Fe,i._MagickImage_EncodingGeometry_Get=er.Ge,i._MagickImage_Endian_Get=er.He,i._MagickImage_Endian_Set=er.Ie,i._MagickImage_FileName_Get=er.Je,i._MagickImage_FileName_Set=er.Ke,i._MagickImage_FilterType_Get=er.Le,i._MagickImage_FilterType_Set=er.Me,i._MagickImage_Format_Get=er.Ne,i._MagickImage_Format_Set=er.Oe,i._MagickImage_Gamma_Get=er.Pe,i._MagickImage_GifDisposeMethod_Get=er.Qe,i._MagickImage_GifDisposeMethod_Set=er.Re,i._MagickImage_HasAlpha_Get=er.Se,i._MagickImage_HasAlpha_Set=er.Te,i._MagickImage_Height_Get=er.Ue,i._MagickImage_Interlace_Get=er.Ve,i._MagickImage_Interlace_Set=er.We,i._MagickImage_Interpolate_Get=er.Xe,i._MagickImage_Interpolate_Set=er.Ye,i._MagickImage_IsOpaque_Get=er.Ze,i._MagickImage_MatteColor_Get=er._e,i._MagickImage_MatteColor_Set=er.$e,i._MagickImage_MeanErrorPerPixel_Get=er.af,i._MagickImage_MetaChannelCount_Get=er.bf,i._MagickImage_MetaChannelCount_Set=er.cf,i._MagickImage_NormalizedMaximumError_Get=er.df,i._MagickImage_NormalizedMeanError_Get=er.ef,i._MagickImage_Orientation_Get=er.ff,i._MagickImage_Orientation_Set=er.gf,i._MagickImage_Page_Get=er.hf,i._MagickImage_Page_Set=er.jf,i._MagickImage_Quality_Get=er.kf,i._MagickImage_Quality_Set=er.lf,i._MagickImage_RenderingIntent_Get=er.mf,i._MagickImage_RenderingIntent_Set=er.nf,i._MagickImage_ResolutionUnits_Get=er.of,i._MagickImage_ResolutionUnits_Set=er.pf,i._MagickImage_ResolutionX_Get=er.qf,i._MagickImage_ResolutionX_Set=er.rf,i._MagickImage_ResolutionY_Get=er.sf,i._MagickImage_ResolutionY_Set=er.tf,i._MagickImage_Signature_Get=er.uf,i._MagickImage_TotalColors_Get=er.vf,i._MagickImage_VirtualPixelMethod_Get=er.wf,i._MagickImage_VirtualPixelMethod_Set=er.xf,i._MagickImage_Width_Get=er.yf,i._MagickImage_AdaptiveBlur=er.zf,i._MagickImage_AdaptiveResize=er.Af,i._MagickImage_AdaptiveSharpen=er.Bf,i._MagickImage_AdaptiveThreshold=er.Cf,i._MagickImage_AddNoise=er.Df,i._MagickImage_AffineTransform=er.Ef,i._MagickImage_Annotate=er.Ff,i._MagickImage_AutoGamma=er.Gf,i._MagickImage_AutoLevel=er.Hf,i._MagickImage_AutoOrient=er.If,i._MagickImage_AutoThreshold=er.Jf,i._MagickImage_BilateralBlur=er.Kf,i._MagickImage_BlackThreshold=er.Lf,i._MagickImage_BlueShift=er.Mf,i._MagickImage_Blur=er.Nf,i._MagickImage_Border=er.Of,i._MagickImage_BrightnessContrast=er.Pf,i._MagickImage_CannyEdge=er.Qf,i._MagickImage_ChannelOffset=er.Rf,i._MagickImage_Charcoal=er.Sf,i._MagickImage_Chop=er.Tf,i._MagickImage_Clahe=er.Uf,i._MagickImage_Clamp=er.Vf,i._MagickImage_ClipPath=er.Wf,i._MagickImage_Clone=er.Xf,i._MagickImage_CloneArea=er.Yf,i._MagickImage_Clut=er.Zf,i._MagickImage_ColorDecisionList=er._f,i._MagickImage_Colorize=er.$f,i._MagickImage_ColorMatrix=er.ag,i._MagickImage_ColorThreshold=er.bg,i._MagickImage_Compare=er.cg,i._MagickImage_CompareDistortion=er.dg,i._MagickImage_Composite=er.eg,i._MagickImage_CompositeGravity=er.fg,i._MagickImage_ConnectedComponents=er.gg,i._MagickImage_Contrast=er.hg,i._MagickImage_ContrastStretch=er.ig,i._MagickImage_ConvexHull=er.jg,i._MagickImage_Convolve=er.kg,i._MagickImage_CopyPixels=er.lg,i._MagickImage_Crop=er.mg,i._MagickImage_CropToTiles=er.ng,i._MagickImage_CycleColormap=er.og,i._MagickImage_Decipher=er.pg,i._MagickImage_Deskew=er.qg,i._MagickImage_Despeckle=er.rg,i._MagickImage_DetermineBitDepth=er.sg,i._MagickImage_DetermineColorType=er.tg,i._MagickImage_Distort=er.ug,i._MagickImage_Edge=er.vg,i._MagickImage_Emboss=er.wg,i._MagickImage_Encipher=er.xg,i._MagickImage_Enhance=er.yg,i._MagickImage_Equalize=er.zg,i._MagickImage_Equals=er.Ag,i._MagickImage_EvaluateFunction=er.Bg,i._MagickImage_EvaluateGeometry=er.Cg,i._MagickImage_EvaluateOperator=er.Dg,i._MagickImage_Extent=er.Eg,i._MagickImage_Flip=er.Fg,i._MagickImage_FloodFill=er.Gg,i._MagickImage_Flop=er.Hg,i._MagickImage_FontTypeMetrics=er.Ig,i._MagickImage_FormatExpression=er.Jg,i._MagickImage_Frame=er.Kg,i._MagickImage_Fx=er.Lg,i._MagickImage_GammaCorrect=er.Mg,i._MagickImage_GaussianBlur=er.Ng,i._MagickImage_GetArtifact=er.Og,i._MagickImage_GetAttribute=er.Pg,i._MagickImage_GetColormapColor=er.Qg,i._MagickImage_GetNext=er.Rg,i._MagickImage_GetNextArtifactName=er.Sg,i._MagickImage_GetNextAttributeName=er.Tg,i._MagickImage_GetNextProfileName=er.Ug,i._MagickImage_GetProfile=er.Vg,i._MagickImage_GetReadMask=er.Wg,i._MagickImage_GetWriteMask=er.Xg,i._MagickImage_Grayscale=er.Yg,i._MagickImage_HaldClut=er.Zg,i._MagickImage_HasChannel=er._g,i._MagickImage_HasProfile=er.$g,i._MagickImage_Histogram=er.ah,i._MagickImage_HoughLine=er.bh,i._MagickImage_Implode=er.ch,i._MagickImage_ImportPixels=er.dh,i._MagickImage_Integral=er.eh,i._MagickImage_InterpolativeResize=er.fh,i._MagickImage_InverseLevel=er.gh,i._MagickImage_Kmeans=er.hh,i._MagickImage_Kuwahara=er.ih,i._MagickImage_Level=er.jh,i._MagickImage_LevelColors=er.kh,i._MagickImage_LinearStretch=er.lh,i._MagickImage_LiquidRescale=er.mh,i._MagickImage_LocalContrast=er.nh,i._MagickImage_Magnify=er.oh,i._MagickImage_MeanShift=er.ph,i._MagickImage_Minify=er.qh,i._MagickImage_MinimumBoundingBox=er.rh,i._MagickImage_Modulate=er.sh,i._MagickImage_Moments=er.th,i._MagickImage_Morphology=er.uh,i._MagickImage_MotionBlur=er.vh,i._MagickImage_Negate=er.wh,i._MagickImage_Normalize=er.xh,i._MagickImage_OilPaint=er.yh,i._MagickImage_Opaque=er.zh,i._MagickImage_OrderedDither=er.Ah,i._MagickImage_Perceptible=er.Bh,i._MagickImage_PerceptualHash=er.Ch,i._MagickImage_Quantize=er.Dh,i._MagickImage_Polaroid=er.Eh,i._MagickImage_Posterize=er.Fh,i._MagickImage_RaiseOrLower=er.Gh,i._MagickImage_RandomThreshold=er.Hh,i._MagickImage_RangeThreshold=er.Ih,i._MagickImage_ReadBlob=er.Jh,i._MagickImage_ReadFile=er.Kh,i._MagickImage_ReadPixels=er.Lh,i._MagickImage_ReadStream=er.Mh,i._MagickImage_RegionMask=er.Nh,i._MagickImage_Remap=er.Oh,i._MagickImage_RemoveArtifact=er.Ph,i._MagickImage_RemoveAttribute=er.Qh,i._MagickImage_RemoveProfile=er.Rh,i._MagickImage_ResetArtifactIterator=er.Sh,i._MagickImage_ResetAttributeIterator=er.Th,i._MagickImage_ResetProfileIterator=er.Uh,i._MagickImage_Resample=er.Vh,i._MagickImage_Resize=er.Wh,i._MagickImage_Roll=er.Xh,i._MagickImage_Rotate=er.Yh,i._MagickImage_RotationalBlur=er.Zh,i._MagickImage_Sample=er._h,i._MagickImage_Scale=er.$h,i._MagickImage_Segment=er.ai,i._MagickImage_SelectiveBlur=er.bi,i._MagickImage_Separate=er.ci,i._MagickImage_SepiaTone=er.di,i._MagickImage_SetAlpha=er.ei,i._MagickImage_SetArtifact=er.fi,i._MagickImage_SetAttribute=er.gi,i._MagickImage_SetBitDepth=er.hi,i._MagickImage_SetClientData=er.ii,i._MagickImage_SetColormapColor=er.ji,i._MagickImage_SetColorMetric=er.ki,i._MagickImage_SetNext=er.li,i._MagickImage_SetProfile=er.mi,i._MagickImage_SetProgressDelegate=er.ni,i._MagickImage_SetReadMask=er.oi,i._MagickImage_SetWriteMask=er.pi,i._MagickImage_Shade=er.qi,i._MagickImage_Shadow=er.ri,i._MagickImage_Sharpen=er.si,i._MagickImage_Shave=er.ti,i._MagickImage_Shear=er.ui,i._MagickImage_SigmoidalContrast=er.vi,i._MagickImage_SparseColor=er.wi,i._MagickImage_Spread=er.xi,i._MagickImage_Sketch=er.yi,i._MagickImage_Solarize=er.zi,i._MagickImage_SortPixels=er.Ai,i._MagickImage_Splice=er.Bi,i._MagickImage_Statistic=er.Ci,i._MagickImage_Statistics=er.Di,i._MagickImage_Stegano=er.Ei,i._MagickImage_Stereo=er.Fi,i._MagickImage_Strip=er.Gi,i._MagickImage_SubImageSearch=er.Hi,i._MagickImage_Swirl=er.Ii,i._MagickImage_Texture=er.Ji,i._MagickImage_Threshold=er.Ki,i._MagickImage_Thumbnail=er.Li,i._MagickImage_Tint=er.Mi,i._MagickImage_Transparent=er.Ni,i._MagickImage_TransparentChroma=er.Oi,i._MagickImage_Transpose=er.Pi,i._MagickImage_Transverse=er.Qi,i._MagickImage_Trim=er.Ri,i._MagickImage_UniqueColors=er.Si,i._MagickImage_UnsharpMask=er.Ti,i._MagickImage_Vignette=er.Ui,i._MagickImage_Wave=er.Vi,i._MagickImage_WaveletDenoise=er.Wi,i._MagickImage_WhiteBalance=er.Xi,i._MagickImage_WhiteThreshold=er.Yi,i._MagickImage_WriteBlob=er.Zi,i._MagickImage_WriteFile=er._i,i._MagickImage_WriteStream=er.$i,i._MagickImageCollection_Append=er.aj,i._MagickImageCollection_Coalesce=er.bj,i._MagickImageCollection_Combine=er.cj,i._MagickImageCollection_Complex=er.dj,i._MagickImageCollection_Deconstruct=er.ej,i._MagickImageCollection_Dispose=er.fj,i._MagickImageCollection_Evaluate=er.gj,i._MagickImageCollection_Fx=er.hj,i._MagickImageCollection_Merge=er.ij,i._MagickImageCollection_Montage=er.jj,i._MagickImageCollection_Morph=er.kj,i._MagickImageCollection_Optimize=er.lj,i._MagickImageCollection_OptimizePlus=er.mj,i._MagickImageCollection_OptimizeTransparency=er.nj,i._MagickImageCollection_Polynomial=er.oj,i._MagickImageCollection_Quantize=er.pj,i._MagickImageCollection_ReadBlob=er.qj,i._MagickImageCollection_ReadFile=er.rj,i._MagickImageCollection_ReadStream=er.sj,i._MagickImageCollection_Remap=er.tj,i._MagickImageCollection_Smush=er.uj,i._MagickImageCollection_WriteFile=er.vj,i._MagickImageCollection_WriteStream=er.wj,i._DoubleMatrix_Create=er.xj,i._DoubleMatrix_Dispose=er.yj,i._OpenCL_GetDevices=er.zj,i._OpenCL_GetDevice=er.Aj,i._OpenCL_GetEnabled=er.Bj,i._OpenCL_SetEnabled=er.Cj,i._OpenCLDevice_DeviceType_Get=er.Dj,i._OpenCLDevice_BenchmarkScore_Get=er.Ej,i._OpenCLDevice_IsEnabled_Get=er.Fj,i._OpenCLDevice_IsEnabled_Set=er.Gj,i._OpenCLDevice_Name_Get=er.Hj,i._OpenCLDevice_Version_Get=er.Ij,i._OpenCLDevice_GetKernelProfileRecords=er.Jj,i._OpenCLDevice_GetKernelProfileRecord=er.Kj,i._OpenCLDevice_SetProfileKernels=er.Lj,i._OpenCLKernelProfileRecord_Count_Get=er.Mj,i._OpenCLKernelProfileRecord_Name_Get=er.Nj,i._OpenCLKernelProfileRecord_MaximumDuration_Get=er.Oj,i._OpenCLKernelProfileRecord_MinimumDuration_Get=er.Pj,i._OpenCLKernelProfileRecord_TotalDuration_Get=er.Qj,i._JpegOptimizer_CompressFile=er.Rj,i._JpegOptimizer_CompressStream=er.Sj;var rr=i._malloc=er.Tj,ir=i._free=er.Uj;i._PixelCollection_Create=er.Vj,i._PixelCollection_Dispose=er.Wj,i._PixelCollection_GetArea=er.Xj,i._PixelCollection_GetReadOnlyArea=er.Yj,i._PixelCollection_SetArea=er.Zj,i._PixelCollection_ToByteArray=er._j,i._PixelCollection_ToShortArray=er.$j,i._Quantum_Depth_Get=er.ak,i._Quantum_Max_Get=er.bk,i._ResourceLimits_Area_Get=er.ck,i._ResourceLimits_Area_Set=er.dk,i._ResourceLimits_Disk_Get=er.ek,i._ResourceLimits_Disk_Set=er.fk,i._ResourceLimits_Height_Get=er.gk,i._ResourceLimits_Height_Set=er.hk,i._ResourceLimits_ListLength_Get=er.ik,i._ResourceLimits_ListLength_Set=er.jk,i._ResourceLimits_MaxMemoryRequest_Get=er.kk,i._ResourceLimits_MaxMemoryRequest_Set=er.lk,i._ResourceLimits_MaxProfileSize_Get=er.mk,i._ResourceLimits_MaxProfileSize_Set=er.nk,i._ResourceLimits_Memory_Get=er.ok,i._ResourceLimits_Memory_Set=er.pk,i._ResourceLimits_Thread_Get=er.qk,i._ResourceLimits_Thread_Set=er.rk,i._ResourceLimits_Throttle_Get=er.sk,i._ResourceLimits_Throttle_Set=er.tk,i._ResourceLimits_Time_Get=er.uk,i._ResourceLimits_Time_Set=er.vk,i._ResourceLimits_Width_Get=er.wk,i._ResourceLimits_Width_Set=er.xk,i._ResourceLimits_LimitMemory=er.yk,i._DrawingSettings_Create=er.zk,i._DrawingSettings_Dispose=er.Ak,i._DrawingSettings_BorderColor_Get=er.Bk,i._DrawingSettings_BorderColor_Set=er.Ck,i._DrawingSettings_FillColor_Get=er.Dk,i._DrawingSettings_FillColor_Set=er.Ek,i._DrawingSettings_FillRule_Get=er.Fk,i._DrawingSettings_FillRule_Set=er.Gk,i._DrawingSettings_Font_Get=er.Hk,i._DrawingSettings_Font_Set=er.Ik,i._DrawingSettings_FontFamily_Get=er.Jk,i._DrawingSettings_FontFamily_Set=er.Kk,i._DrawingSettings_FontPointsize_Get=er.Lk,i._DrawingSettings_FontPointsize_Set=er.Mk,i._DrawingSettings_FontStyle_Get=er.Nk,i._DrawingSettings_FontStyle_Set=er.Ok,i._DrawingSettings_FontWeight_Get=er.Pk,i._DrawingSettings_FontWeight_Set=er.Qk,i._DrawingSettings_StrokeAntiAlias_Get=er.Rk,i._DrawingSettings_StrokeAntiAlias_Set=er.Sk,i._DrawingSettings_StrokeColor_Get=er.Tk,i._DrawingSettings_StrokeColor_Set=er.Uk,i._DrawingSettings_StrokeDashOffset_Get=er.Vk,i._DrawingSettings_StrokeDashOffset_Set=er.Wk,i._DrawingSettings_StrokeLineCap_Get=er.Xk,i._DrawingSettings_StrokeLineCap_Set=er.Yk,i._DrawingSettings_StrokeLineJoin_Get=er.Zk,i._DrawingSettings_StrokeLineJoin_Set=er._k,i._DrawingSettings_StrokeMiterLimit_Get=er.$k,i._DrawingSettings_StrokeMiterLimit_Set=er.al,i._DrawingSettings_StrokeWidth_Get=er.bl,i._DrawingSettings_StrokeWidth_Set=er.cl,i._DrawingSettings_TextAntiAlias_Get=er.dl,i._DrawingSettings_TextAntiAlias_Set=er.el,i._DrawingSettings_TextDirection_Get=er.fl,i._DrawingSettings_TextDirection_Set=er.gl,i._DrawingSettings_TextEncoding_Get=er.hl,i._DrawingSettings_TextEncoding_Set=er.il,i._DrawingSettings_TextGravity_Get=er.jl,i._DrawingSettings_TextGravity_Set=er.kl,i._DrawingSettings_TextInterlineSpacing_Get=er.ll,i._DrawingSettings_TextInterlineSpacing_Set=er.ml,i._DrawingSettings_TextInterwordSpacing_Get=er.nl,i._DrawingSettings_TextInterwordSpacing_Set=er.ol,i._DrawingSettings_TextKerning_Get=er.pl,i._DrawingSettings_TextKerning_Set=er.ql,i._DrawingSettings_TextUnderColor_Get=er.rl,i._DrawingSettings_TextUnderColor_Set=er.sl,i._DrawingSettings_SetAffine=er.tl,i._DrawingSettings_SetFillPattern=er.ul,i._DrawingSettings_SetStrokeDashArray=er.vl,i._DrawingSettings_SetStrokePattern=er.wl,i._DrawingSettings_SetText=er.xl,i._MagickSettings_Create=er.yl,i._MagickSettings_Dispose=er.zl,i._MagickSettings_AntiAlias_Get=er.Al,i._MagickSettings_AntiAlias_Set=er.Bl,i._MagickSettings_BackgroundColor_Get=er.Cl,i._MagickSettings_BackgroundColor_Set=er.Dl,i._MagickSettings_ColorSpace_Get=er.El,i._MagickSettings_ColorSpace_Set=er.Fl,i._MagickSettings_ColorType_Get=er.Gl,i._MagickSettings_ColorType_Set=er.Hl,i._MagickSettings_Compression_Get=er.Il,i._MagickSettings_Compression_Set=er.Jl,i._MagickSettings_Debug_Get=er.Kl,i._MagickSettings_Debug_Set=er.Ll,i._MagickSettings_Density_Get=er.Ml,i._MagickSettings_Density_Set=er.Nl,i._MagickSettings_Depth_Get=er.Ol,i._MagickSettings_Depth_Set=er.Pl,i._MagickSettings_Endian_Get=er.Ql,i._MagickSettings_Endian_Set=er.Rl,i._MagickSettings_Extract_Get=er.Sl,i._MagickSettings_Extract_Set=er.Tl,i._MagickSettings_Format_Get=er.Ul,i._MagickSettings_Format_Set=er.Vl,i._MagickSettings_FontPointsize_Get=er.Wl,i._MagickSettings_FontPointsize_Set=er.Xl,i._MagickSettings_Interlace_Get=er.Yl,i._MagickSettings_Interlace_Set=er.Zl,i._MagickSettings_Monochrome_Get=er._l,i._MagickSettings_Monochrome_Set=er.$l,i._MagickSettings_Verbose_Get=er.am,i._MagickSettings_Verbose_Set=er.bm,i._MagickSettings_SetColorFuzz=er.cm,i._MagickSettings_SetFileName=er.dm,i._MagickSettings_SetFont=er.em,i._MagickSettings_SetNumberScenes=er.fm,i._MagickSettings_SetOption=er.gm,i._MagickSettings_SetPage=er.hm,i._MagickSettings_SetPing=er.im,i._MagickSettings_SetQuality=er.jm,i._MagickSettings_SetScenes=er.km,i._MagickSettings_SetScene=er.lm,i._MagickSettings_SetSize=er.mm,i._MontageSettings_Create=er.nm,i._MontageSettings_Dispose=er.om,i._MontageSettings_SetBackgroundColor=er.pm,i._MontageSettings_SetBorderColor=er.qm,i._MontageSettings_SetBorderWidth=er.rm,i._MontageSettings_SetFillColor=er.sm,i._MontageSettings_SetFont=er.tm,i._MontageSettings_SetFontPointsize=er.um,i._MontageSettings_SetFrameGeometry=er.vm,i._MontageSettings_SetGeometry=er.wm,i._MontageSettings_SetGravity=er.xm,i._MontageSettings_SetShadow=er.ym,i._MontageSettings_SetStrokeColor=er.zm,i._MontageSettings_SetTextureFileName=er.Am,i._MontageSettings_SetTileGeometry=er.Bm,i._MontageSettings_SetTitle=er.Cm,i._QuantizeSettings_SetColors=er.Dm,i._QuantizeSettings_SetColorSpace=er.Em,i._QuantizeSettings_SetDitherMethod=er.Fm,i._QuantizeSettings_SetMeasureErrors=er.Gm,i._QuantizeSettings_SetTreeDepth=er.Hm,i._ChannelMoments_Centroid_Get=er.Im,i._ChannelMoments_EllipseAngle_Get=er.Jm,i._ChannelMoments_EllipseAxis_Get=er.Km,i._ChannelMoments_EllipseEccentricity_Get=er.Lm,i._ChannelMoments_EllipseIntensity_Get=er.Mm,i._ChannelMoments_GetHuInvariants=er.Nm,i._ChannelPerceptualHash_GetHuPhash=er.Om,i._ChannelStatistics_Depth_Get=er.Pm,i._ChannelStatistics_Entropy_Get=er.Qm,i._ChannelStatistics_Kurtosis_Get=er.Rm,i._ChannelStatistics_Maximum_Get=er.Sm,i._ChannelStatistics_Mean_Get=er.Tm,i._ChannelStatistics_Minimum_Get=er.Um,i._ChannelStatistics_Skewness_Get=er.Vm,i._ChannelStatistics_StandardDeviation_Get=er.Wm,i._Moments_DisposeList=er.Xm,i._Moments_GetInstance=er.Ym,i._PerceptualHash_DisposeList=er.Zm,i._PerceptualHash_GetInstance=er._m,i._Statistics_DisposeList=er.$m,i._Statistics_GetInstance=er.an,i._ConnectedComponent_DisposeList=er.bn,i._ConnectedComponent_GetArea=er.cn,i._ConnectedComponent_GetCentroid=er.dn,i._ConnectedComponent_GetColor=er.en,i._ConnectedComponent_GetHeight=er.fn,i._ConnectedComponent_GetId=er.gn,i._ConnectedComponent_GetWidth=er.hn,i._ConnectedComponent_GetX=er.jn,i._ConnectedComponent_GetY=er.kn,i._ConnectedComponent_GetInstance=er.ln,i._MagickGeometry_Create=er.mn,i._MagickGeometry_Dispose=er.nn,i._MagickGeometry_X_Get=er.on,i._MagickGeometry_Y_Get=er.pn,i._MagickGeometry_Width_Get=er.qn,i._MagickGeometry_Height_Get=er.rn,i._MagickGeometry_Initialize=er.sn,i._MagickRectangle_Dispose=er.tn,i._MagickRectangle_X_Get=er.un,i._MagickRectangle_X_Set=er.vn,i._MagickRectangle_Y_Get=er.wn,i._MagickRectangle_Y_Set=er.xn,i._MagickRectangle_Width_Get=er.yn,i._MagickRectangle_Width_Set=er.zn,i._MagickRectangle_Height_Get=er.An,i._MagickRectangle_Height_Set=er.Bn,i._MagickRectangle_FromPageSize=er.Cn,i._OffsetInfo_Create=er.Dn,i._OffsetInfo_Dispose=er.En,i._OffsetInfo_SetX=er.Fn,i._OffsetInfo_SetY=er.Gn,i._PointInfo_X_Get=er.Hn,i._PointInfo_Y_Get=er.In,i._PointInfoCollection_Create=er.Jn,i._PointInfoCollection_Dispose=er.Kn,i._PointInfoCollection_GetX=er.Ln,i._PointInfoCollection_GetY=er.Mn,i._PointInfoCollection_Set=er.Nn,i._PrimaryInfo_Dispose=er.On,i._PrimaryInfo_X_Get=er.Pn,i._PrimaryInfo_X_Set=er.Qn,i._PrimaryInfo_Y_Get=er.Rn,i._PrimaryInfo_Y_Set=er.Sn,i._PrimaryInfo_Z_Get=er.Tn,i._PrimaryInfo_Z_Set=er.Un,i._StringInfo_Length_Get=er.Vn,i._StringInfo_Datum_Get=er.Wn,i._TypeMetric_Dispose=er.Xn,i._TypeMetric_Ascent_Get=er.Yn,i._TypeMetric_Descent_Get=er.Zn,i._TypeMetric_MaxHorizontalAdvance_Get=er._n,i._TypeMetric_TextHeight_Get=er.$n,i._TypeMetric_TextWidth_Get=er.ao,i._TypeMetric_UnderlinePosition_Get=er.bo,i._TypeMetric_UnderlineThickness_Get=er.co;var nr=er.eo,ar=er.fo,sr=er.go,or=er.ho,cr=er.io,_r=er.jo;return function(){if(i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.shift()()}(),function e(){function r(){i.calledRun=!0,!P&&(!i.noFSInit&&!de.initialized&&de.init(),er.cb(),de.ignorePermissions=!1,t(i),i.onRuntimeInitialized?.(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)$(i.postRun.shift());N(z)}())}T>0?A=e:(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)U(i.preRun.shift());N(H)}(),T>0?A=e:i.setStatus?(i.setStatus("Running..."),setTimeout((()=>{setTimeout((()=>i.setStatus("")),1),r()}),1)):r())}(),n});class rt{constructor(e){if(e instanceof URL){if("http:"!==e.protocol&&"https:"!==e.protocol)throw new J("Only http/https protocol is supported");this.locateFile=()=>e.href}else e instanceof WebAssembly.Module?this.instantiateWasm=(t,r)=>{r(new WebAssembly.Instance(e,t))}:this.wasmBinary=e}wasmBinary;instantiateWasm;locateFile}class it{loader;api;constructor(){this.loader=(e,t)=>new Promise(((r,i)=>{if(void 0!==this.api)return void r();const n=new rt(e);tt(n).then((e=>{try{this.writeConfigurationFiles(e,t),te(e,"MAGICK_CONFIGURE_PATH",(t=>{te(e,"/xml",(i=>{e._Environment_SetEnv(t,i),this.api=e,r()}))}))}catch(e){i(e)}}))}))}async _initialize(e,t){await this.loader(e,t)}static get _api(){if(!nt.api)throw new J("`await initializeImageMagick` should be called to initialize the library");return nt.api}static set _api(e){nt.api=e}static read(e,t,r,i){return Ze._create((n=>{let a=i;if("string"==typeof e||I(e)){if("number"!=typeof t&&"number"!=typeof r){let i;a=r,t instanceof xe?i=t:"string"==typeof t?(i=new xe,i.format=t):a=t,n.read(e,i)}}else"number"==typeof t&&"number"==typeof r&&n.read(e,t,r);return a(n)}))}static readCollection(e,t,r){return Oe.create()._use((i=>{let n,a=r;return t instanceof xe?n=t:"string"==typeof t?(n=new xe,n.format=t):a=t,i.read(e,n),a(i)}))}static readFromCanvas(e,t,r){return Ze._create((i=>(i.readFromCanvas(e,r),t(i))))}writeConfigurationFiles(e,t){e.FS.analyzePath("/xml").exists||e.FS.mkdir("/xml");for(const r of t.all()){const t=e.FS.open(`/xml/${r.fileName}`,"w"),i=(new TextEncoder).encode(r.data);e.FS.write(t,i,0,i.length),e.FS.close(t)}}}const nt=new it;async function at(e,t){await nt._initialize(e,t??E.default)}class st{constructor(e,t,r){this.origin=e,this.progress=new Ne((t+1)/(100*r))}origin;progress;cancel=!1}class ot{static _logDelegate=0;static _onLog;static _progressDelegate=0;static _images={};static setLogDelegate(e){0===ot._logDelegate&&void 0!==e&&(ot._logDelegate=it._api.addFunction(ot.logDelegate,"vii")),it._api._Magick_SetLogDelegate(void 0===e?0:ot._logDelegate),ot._onLog=e}static setProgressDelegate(e){0===ot._progressDelegate&&(this._progressDelegate=it._api.addFunction(ot.progressDelegate,"iijji")),this._images[e._instance]=e,it._api._MagickImage_SetClientData(e._instance,e._instance),it._api._MagickImage_SetProgressDelegate(e._instance,ot._progressDelegate)}static removeProgressDelegate(e){it._api._MagickImage_SetClientData(e._instance,0),it._api._MagickImage_SetProgressDelegate(e._instance,0),delete ot._images[e._instance]}static logDelegate(e,t){if(void 0===ot._onLog)return;const r=ee(t,"");ot._onLog(new F(e,r))}static progressDelegate(e,t,r,i){const n=ot._images[i];if(void 0===n||void 0===n.onProgress)return 1;const a=Number(t),s=Number(r),o=ee(e),c=new st(o,a,s);return n.onProgress(c),c.cancel?0:1}}class ct{static _allFormats;constructor(e,t,r,i,n){this.format=e,this.description=t,this.supportsMultipleFrames=r,this.supportsReading=i,this.supportsWriting=n}description;format;supportsMultipleFrames;supportsReading;supportsWriting;static get all(){return void 0===ct._allFormats&&(ct._allFormats=ct.loadFormats()),ct._allFormats}static loadFormats(){return we.usePointer((e=>fe.use((t=>{const r=it._api._MagickFormatInfo_CreateList(t.ptr,e),i=t.value;try{const t=new Array(i),n=Object.values(Ie);for(let a=0;a<i;a++){const i=it._api._MagickFormatInfo_GetInfo(r,a,e),s=ee(it._api._MagickFormatInfo_Format_Get(i)),o=ct.convertFormat(s,n),c=ee(it._api._MagickFormatInfo_Description_Get(i),""),_=1==it._api._MagickFormatInfo_SupportsMultipleFrames_Get(i),l=1==it._api._MagickFormatInfo_SupportsReading_Get(i),g=1==it._api._MagickFormatInfo_SupportsWriting_Get(i);t[a]=new ct(o,c,_,l,g)}return t}finally{it._api._MagickFormatInfo_DisposeList(r,i)}}))))}static convertFormat(e,t){return null===e?Ie.Unknown:t.includes(e)?e:Ie.Unknown}}const _t={None:0,Accelerate:1,Annotate:2,Blob:4,Cache:8,Coder:16,Configure:32,Deprecate:64,Draw:128,Exception:256,Image:512,Locale:1024,Module:2048,Pixel:4096,Policy:8192,Resource:16384,Trace:32768,Transform:65536,User:131072,Wand:262144,Detailed:2147450879,get All(){return this.Detailed|this.Trace}};class lt{static get delegates(){return ee(it._api._Magick_Delegates_Get(),"Unknown")}static get features(){return ee(it._api._Magick_Features_Get()," ").slice(0,-1)}static get imageMagickVersion(){return ee(it._api._Magick_ImageMagickVersion_Get(),"Unknown")}static get supportedFormats(){return ct.all}static onLog;static addFont(e,t){const r=it._api.FS;r.analyzePath("/fonts").exists||r.mkdir("/fonts");const i=r.open(`/fonts/${e}`,"w");r.write(i,t,0,t.length),r.close(i)}static resetRandomSeed=()=>it._api._Magick_ResetRandomSeed();static setRandomSeed=e=>it._api._Magick_SetRandomSeed(e);static setLogEvents(e){const t=e==_t.None?void 0:lt.logDelegate;ot.setLogDelegate(t);re(lt.getEventTypeString(e),(e=>it._api._Magick_SetLogEvents(e)))}static _getFontFileName(e){const t=`/fonts/${e}`;if(!it._api.FS.analyzePath(t).exists)throw`Unable to find a font with the name '${e}', register it with the addFont method of the Magick class.`;return t}static getEventTypeString(e){if(e==_t.All)return"All,Trace";if(e==_t.Detailed)return"All";switch(e){case _t.Accelerate:return"Accelerate";case _t.Annotate:return"Annotate";case _t.Blob:return"Blob";case _t.Cache:return"Cache";case _t.Coder:return"Coder";case _t.Configure:return"Configure";case _t.Deprecate:return"Deprecate";case _t.Draw:return"Draw";case _t.Exception:return"Exception";case _t.Image:return"Image";case _t.Locale:return"Locale";case _t.Module:return"Module";case _t.Pixel:return"Pixel";case _t.Policy:return"Policy";case _t.Resource:return"Resource";case _t.Trace:return"Trace";case _t.Transform:return"Transform";case _t.User:return"User";case _t.Wand:return"Wand";case _t.None:default:return"None"}}static logDelegate(e){void 0!==lt.onLog&&lt.onLog(e)}}class gt{_font;constructor(e){this._font=e}draw(e){const t=lt._getFontFileName(this._font);e.font(t)}}class ht{_gravity;constructor(e){this._gravity=e}draw(e){e.gravity(this._gravity)}}class ut{_startX;_startY;_endX;_endY;constructor(e,t,r,i){this._startX=e,this._startY=t,this._endX=r,this._endY=i}draw(e){e.line(this._startX,this._startY,this._endX,this._endY)}}class pt{_x;_y;constructor(e,t){this._x=e,this._y=t}draw(e){e.point(this._x,this._y)}}class dt{_upperLeftX;_upperLeftY;_lowerRightX;_lowerRightY;constructor(e,t,r,i){this._upperLeftX=e,this._upperLeftY=t,this._lowerRightX=r,this._lowerRightY=i}draw(e){e.rectangle(this._upperLeftX,this._upperLeftY,this._lowerRightX,this._lowerRightY)}}class mt{_upperLeftX;_upperLeftY;_lowerRightX;_lowerRightY;_cornerWidth;_cornerHeight;constructor(e,t,r,i,n,a){this._upperLeftX=e,this._upperLeftY=t,this._lowerRightX=r,this._lowerRightY=i,this._cornerWidth=n,this._cornerHeight=a}draw(e){e.roundRectangle(this._upperLeftX,this._upperLeftY,this._lowerRightX,this._lowerRightY,this._cornerWidth,this._cornerHeight)}}class ft{_color;constructor(e){this._color=e}draw(e){e.strokeColor(this._color)}}class wt{_width;constructor(e){this._width=e}draw(e){e.strokeWidth(this._width)}}class Mt{_alignment;constructor(e){this._alignment=e}draw(e){e.textAlignment(this._alignment)}}class kt{_isEnabled;constructor(e){this._isEnabled=e}static get disabled(){return new kt(!1)}static get enabled(){return new kt(!0)}draw(e){e.textAntialias(this._isEnabled)}}class yt{_decoration;constructor(e){this._decoration=e}draw(e){e.textDecoration(this._decoration)}}class St{_spacing;constructor(e){this._spacing=e}draw(e){e.textInterlineSpacing(this._spacing)}}class vt{_spacing;constructor(e){this._spacing=e}draw(e){e.textInterwordspacing(this._spacing)}}class Ct{_kerning;constructor(e){this._kerning=e}draw(e){e.textKerning(this._kerning)}}class It{_color;constructor(e){this._color=e}draw(e){e.textUnderColor(this._color)}}class Pt{_x;_y;_value;constructor(e,t,r){this._x=e,this._y=t,this._value=r}draw(e){e.text(this._x,this._y,this._value)}}class Dt{static get None(){return new ie(0,0,0,0)}static get Transparent(){return new ie(0,0,0,0)}static get AliceBlue(){return new ie(240,248,255,255)}static get AntiqueWhite(){return new ie(250,235,215,255)}static get Aqua(){return new ie(0,255,255,255)}static get Aquamarine(){return new ie(127,255,212,255)}static get Azure(){return new ie(240,255,255,255)}static get Beige(){return new ie(245,245,220,255)}static get Bisque(){return new ie(255,228,196,255)}static get Black(){return new ie(0,0,0,255)}static get BlanchedAlmond(){return new ie(255,235,205,255)}static get Blue(){return new ie(0,0,255,255)}static get BlueViolet(){return new ie(138,43,226,255)}static get Brown(){return new ie(165,42,42,255)}static get BurlyWood(){return new ie(222,184,135,255)}static get CadetBlue(){return new ie(95,158,160,255)}static get Chartreuse(){return new ie(127,255,0,255)}static get Chocolate(){return new ie(210,105,30,255)}static get Coral(){return new ie(255,127,80,255)}static get CornflowerBlue(){return new ie(100,149,237,255)}static get Cornsilk(){return new ie(255,248,220,255)}static get Crimson(){return new ie(220,20,60,255)}static get Cyan(){return new ie(0,255,255,255)}static get DarkBlue(){return new ie(0,0,139,255)}static get DarkCyan(){return new ie(0,139,139,255)}static get DarkGoldenrod(){return new ie(184,134,11,255)}static get DarkGray(){return new ie(169,169,169,255)}static get DarkGreen(){return new ie(0,100,0,255)}static get DarkKhaki(){return new ie(189,183,107,255)}static get DarkMagenta(){return new ie(139,0,139,255)}static get DarkOliveGreen(){return new ie(85,107,47,255)}static get DarkOrange(){return new ie(255,140,0,255)}static get DarkOrchid(){return new ie(153,50,204,255)}static get DarkRed(){return new ie(139,0,0,255)}static get DarkSalmon(){return new ie(233,150,122,255)}static get DarkSeaGreen(){return new ie(143,188,143,255)}static get DarkSlateBlue(){return new ie(72,61,139,255)}static get DarkSlateGray(){return new ie(47,79,79,255)}static get DarkTurquoise(){return new ie(0,206,209,255)}static get DarkViolet(){return new ie(148,0,211,255)}static get DeepPink(){return new ie(255,20,147,255)}static get DeepSkyBlue(){return new ie(0,191,255,255)}static get DimGray(){return new ie(105,105,105,255)}static get DodgerBlue(){return new ie(30,144,255,255)}static get Firebrick(){return new ie(178,34,34,255)}static get FloralWhite(){return new ie(255,250,240,255)}static get ForestGreen(){return new ie(34,139,34,255)}static get Fuchsia(){return new ie(255,0,255,255)}static get Gainsboro(){return new ie(220,220,220,255)}static get GhostWhite(){return new ie(248,248,255,255)}static get Gold(){return new ie(255,215,0,255)}static get Goldenrod(){return new ie(218,165,32,255)}static get Gray(){return new ie(128,128,128,255)}static get Green(){return new ie(0,128,0,255)}static get GreenYellow(){return new ie(173,255,47,255)}static get Honeydew(){return new ie(240,255,240,255)}static get HotPink(){return new ie(255,105,180,255)}static get IndianRed(){return new ie(205,92,92,255)}static get Indigo(){return new ie(75,0,130,255)}static get Ivory(){return new ie(255,255,240,255)}static get Khaki(){return new ie(240,230,140,255)}static get Lavender(){return new ie(230,230,250,255)}static get LavenderBlush(){return new ie(255,240,245,255)}static get LawnGreen(){return new ie(124,252,0,255)}static get LemonChiffon(){return new ie(255,250,205,255)}static get LightBlue(){return new ie(173,216,230,255)}static get LightCoral(){return new ie(240,128,128,255)}static get LightCyan(){return new ie(224,255,255,255)}static get LightGoldenrodYellow(){return new ie(250,250,210,255)}static get LightGreen(){return new ie(144,238,144,255)}static get LightGray(){return new ie(211,211,211,255)}static get LightPink(){return new ie(255,182,193,255)}static get LightSalmon(){return new ie(255,160,122,255)}static get LightSeaGreen(){return new ie(32,178,170,255)}static get LightSkyBlue(){return new ie(135,206,250,255)}static get LightSlateGray(){return new ie(119,136,153,255)}static get LightSteelBlue(){return new ie(176,196,222,255)}static get LightYellow(){return new ie(255,255,224,255)}static get Lime(){return new ie(0,255,0,255)}static get LimeGreen(){return new ie(50,205,50,255)}static get Linen(){return new ie(250,240,230,255)}static get Magenta(){return new ie(255,0,255,255)}static get Maroon(){return new ie(128,0,0,255)}static get MediumAquamarine(){return new ie(102,205,170,255)}static get MediumBlue(){return new ie(0,0,205,255)}static get MediumOrchid(){return new ie(186,85,211,255)}static get MediumPurple(){return new ie(147,112,219,255)}static get MediumSeaGreen(){return new ie(60,179,113,255)}static get MediumSlateBlue(){return new ie(123,104,238,255)}static get MediumSpringGreen(){return new ie(0,250,154,255)}static get MediumTurquoise(){return new ie(72,209,204,255)}static get MediumVioletRed(){return new ie(199,21,133,255)}static get MidnightBlue(){return new ie(25,25,112,255)}static get MintCream(){return new ie(245,255,250,255)}static get MistyRose(){return new ie(255,228,225,255)}static get Moccasin(){return new ie(255,228,181,255)}static get NavajoWhite(){return new ie(255,222,173,255)}static get Navy(){return new ie(0,0,128,255)}static get OldLace(){return new ie(253,245,230,255)}static get Olive(){return new ie(128,128,0,255)}static get OliveDrab(){return new ie(107,142,35,255)}static get Orange(){return new ie(255,165,0,255)}static get OrangeRed(){return new ie(255,69,0,255)}static get Orchid(){return new ie(218,112,214,255)}static get PaleGoldenrod(){return new ie(238,232,170,255)}static get PaleGreen(){return new ie(152,251,152,255)}static get PaleTurquoise(){return new ie(175,238,238,255)}static get PaleVioletRed(){return new ie(219,112,147,255)}static get PapayaWhip(){return new ie(255,239,213,255)}static get PeachPuff(){return new ie(255,218,185,255)}static get Peru(){return new ie(205,133,63,255)}static get Pink(){return new ie(255,192,203,255)}static get Plum(){return new ie(221,160,221,255)}static get PowderBlue(){return new ie(176,224,230,255)}static get Purple(){return new ie(128,0,128,255)}static get RebeccaPurple(){return new ie(102,51,153,255)}static get Red(){return new ie(255,0,0,255)}static get RosyBrown(){return new ie(188,143,143,255)}static get RoyalBlue(){return new ie(65,105,225,255)}static get SaddleBrown(){return new ie(139,69,19,255)}static get Salmon(){return new ie(250,128,114,255)}static get SandyBrown(){return new ie(244,164,96,255)}static get SeaGreen(){return new ie(46,139,87,255)}static get SeaShell(){return new ie(255,245,238,255)}static get Sienna(){return new ie(160,82,45,255)}static get Silver(){return new ie(192,192,192,255)}static get SkyBlue(){return new ie(135,206,235,255)}static get SlateBlue(){return new ie(106,90,205,255)}static get SlateGray(){return new ie(112,128,144,255)}static get Snow(){return new ie(255,250,250,255)}static get SpringGreen(){return new ie(0,255,127,255)}static get SteelBlue(){return new ie(70,130,180,255)}static get Tan(){return new ie(210,180,140,255)}static get Teal(){return new ie(0,128,128,255)}static get Thistle(){return new ie(216,191,216,255)}static get Tomato(){return new ie(255,99,71,255)}static get Turquoise(){return new ie(64,224,208,255)}static get Violet(){return new ie(238,130,238,255)}static get Wheat(){return new ie(245,222,179,255)}static get White(){return new ie(255,255,255,255)}static get WhiteSmoke(){return new ie(245,245,245,255)}static get Yellow(){return new ie(255,255,0,255)}static get YellowGreen(){return new ie(154,205,50,255)}}class Et{_drawables=[];disableStrokeAntialias(){return this._drawables.push(kt.disabled),this}enableStrokeAntialias(){return this._drawables.push(kt.enabled),this}fillColor(e){return this._drawables.push(new x(e)),this}fillOpacity(e){return this._drawables.push(new G(e)),this}font(e){return this._drawables.push(new gt(e)),this}fontPointSize(e){return this._drawables.push(new R(e)),this}fontTypeMetrics(e,t=!1){return Ze._create((r=>(r.read(Dt.Transparent,1,1),ke._use(r,(r=>(r.draw(this._drawables),r.fontTypeMetrics(e,t)))))))}gravity(e){return this._drawables.push(new ht(e)),this}line(e,t,r,i){return this._drawables.push(new ut(e,t,r,i)),this}point(e,t){return this._drawables.push(new pt(e,t)),this}rectangle(e,t,r,i){return this._drawables.push(new dt(e,t,r,i)),this}roundRectangle(e,t,r,i,n,a){return this._drawables.push(new mt(e,t,r,i,n,a)),this}strokeColor(e){return this._drawables.push(new ft(e)),this}strokeWidth(e){return this._drawables.push(new wt(e)),this}text(e,t,r){return this._drawables.push(new Pt(e,t,r)),this}textAlignment(e){return this._drawables.push(new Mt(e)),this}textDecoration(e){return this._drawables.push(new yt(e)),this}textInterlineSpacing(e){return this._drawables.push(new St(e)),this}textInterwordSpacing(e){return this._drawables.push(new vt(e)),this}textKerning(e){return this._drawables.push(new Ct(e)),this}textUnderColor(e){return this._drawables.push(new It(e)),this}draw(e){return e.draw(this._drawables),this}}const bt={Undefined:0,Kapur:1,OTSU:2,Triangle:3},Tt={Undefined:0,Direct:1,Pseudo:2},At={Undefined:0,Bilevel:1,Grayscale:2,GrayscaleAlpha:3,Palette:4,PaletteAlpha:5,TrueColor:6,TrueColorAlpha:7,ColorSeparation:8,ColorSeparationAlpha:9,Optimize:10,PaletteBilevelAlpha:11},xt={Undefined:0,Add:1,Conjugate:2,Divide:3,MagnitudePhase:4,Multiply:5,RealImaginary:6,Subtract:7},Gt={Undefined:0,B44A:1,B44:2,BZip:3,DXT1:4,DXT3:5,DXT5:6,Fax:7,Group4:8,JBIG1:9,JBIG2:10,JPEG2000:11,JPEG:12,LosslessJPEG:13,LZMA:14,LZW:15,NoCompression:16,Piz:17,Pxr24:18,RLE:19,Zip:20,ZipS:21,Zstd:22,WebP:23,DWAA:24,DWAB:25,BC7:26,BC5:27},Rt={Undefined:0,Affine:1,AffineProjection:2,ScaleRotateTranslate:3,Perspective:4,PerspectiveProjection:5,BilinearForward:6,BilinearReverse:7,Polynomial:8,Arc:9,Polar:10,DePolar:11,Cylinder2Plane:12,Plane2Cylinder:13,Barrel:14,BarrelInverse:15,Shepards:16,Resize:17,Sentinel:18,RigidAffine:19},Ft={Undefined:0,LSB:1,MSB:2},Lt={Undefined:0,Absolute:1,Fuzz:2,MeanAbsolute:3,MeanErrorPerPixel:4,MeanSquared:5,NormalizedCrossCorrelation:6,PeakAbsolute:7,PeakSignalToNoiseRatio:8,PerceptualHash:9,RootMeanSquared:10,StructuralSimilarity:11,StructuralDissimilarity:12},Wt={Undefined:0,Abs:1,Add:2,AddModulus:3,And:4,Cosine:5,Divide:6,Exponential:7,GaussianNoise:8,ImpulseNoise:9,LaplacianNoise:10,LeftShift:11,Log:12,Max:13,Mean:14,Median:15,Min:16,MultiplicativeNoise:17,Multiply:18,Or:19,PoissonNoise:20,Pow:21,RightShift:22,RootMeanSquare:23,Set:24,Sine:25,Subtract:26,Sum:27,ThresholdBlack:28,Threshold:29,ThresholdWhite:30,UniformNoise:31,Xor:32,InverseLog:33},Bt={Undefined:0,Point:1,Box:2,Triangle:3,Hermite:4,Hann:5,Hamming:6,Blackman:7,Gaussian:8,Quadratic:9,Cubic:10,Catrom:11,Mitchell:12,Jinc:13,Sinc:14,SincFast:15,Kaiser:16,Welch:17,Parzen:18,Bohman:19,Bartlett:20,Lagrange:21,Lanczos:22,LanczosSharp:23,Lanczos2:24,Lanczos2Sharp:25,Robidoux:26,RobidouxSharp:27,Cosine:28,Spline:29,LanczosRadius:30,CubicSpline:31},Ot={Undefined:0,None:1,Background:2,Previous:3},Nt={Undefined:0,NoInterlace:1,Line:2,Plane:3,Partition:4,Gif:5,Jpeg:6,Png:7},zt={Undefined:"Undefined",Unity:"Unity",Gaussian:"Gaussian",DoG:"DoG",LoG:"LoG",Blur:"Blur",Comet:"Comet",Binomial:"Binomial",Laplacian:"Laplacian",Sobel:"Sobel",FreiChen:"FreiChen",Roberts:"Roberts",Prewitt:"Prewitt",Compass:"Compass",Kirsch:"Kirsch",Diamond:"Diamond",Square:"Square",Rectangle:"Rectangle",Octagon:"Octagon",Disk:"Disk",Plus:"Plus",Cross:"Cross",Ring:"Ring",Peaks:"Peaks",Edges:"Edges",Corners:"Corners",Diagonals:"Diagonals",LineEnds:"LineEnds",LineJunctions:"LineJunctions",Ridges:"Ridges",ConvexHull:"ConvexHull",ThinSE:"ThinSE",Skeleton:"Skeleton",Chebyshev:"Chebyshev",Manhattan:"Manhattan",Octagonal:"Octagonal",Euclidean:"Euclidean",UserDefined:"UserDefined"},$t={Undefined:0,Convolve:1,Correlate:2,Erode:3,Dilate:4,ErodeIntensity:5,DilateIntensity:6,IterativeDistance:7,Open:8,Close:9,OpenIntensity:10,CloseIntensity:11,Smooth:12,EdgeIn:13,EdgeOut:14,Edge:15,TopHat:16,BottomHat:17,HitAndMiss:18,Thinning:19,Thicken:20,Distance:21,Voronoi:22},Ht={Undefined:0,Uniform:1,Gaussian:2,MultiplicativeGaussian:3,Impulse:4,Laplacian:5,Poisson:6,Random:7},Ut={Undefined:0,TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8},jt={Undefined:0,Point:1,Replace:2,Floodfill:3,FillToBorder:4,Reset:5},Yt={Undefined:0,Average:1,Average9:2,Average16:3,Background:4,Bilinear:5,Blend:6,Catrom:7,Integer:8,Mesh:9,Nearest:10,Spline:11},Vt={Undefined:0,Saturation:1,Perceptual:2,Absolute:3,Relative:4},Xt={Undefined:0,Left:1,Center:2,Right:3},qt={Undefined:0,None:1,Underline:2,Overline:3,LineThrough:4},Kt={Undefined:0,Background:1,Dither:2,Edge:3,Mirror:4,Random:5,Tile:6,Transparent:7,Mask:8,Black:9,Gray:10,White:11,HorizontalTile:12,VerticalTile:13,HorizontalTileEdge:14,VerticalTileEdge:15,CheckerTile:16};var Qt=(e=>(e[e.Disabled=-1]="Disabled",e[e.Linear=0]="Linear",e[e.Vng=1]="Vng",e[e.Ppg=2]="Ppg",e[e.Ahd=3]="Ahd",e[e.DCB=4]="DCB",e[e.Dht=11]="Dht",e[e.ModifiedAhd=12]="ModifiedAhd",e))(Qt||{}),Jt=(e=>(e[e.Raw=0]="Raw",e[e.SRGB=1]="SRGB",e[e.AdobeRGB=2]="AdobeRGB",e[e.WideGamutRGB=3]="WideGamutRGB",e[e.KodakProPhotoRGB=4]="KodakProPhotoRGB",e[e.XYZ=5]="XYZ",e[e.ACES=6]="ACES",e))(Jt||{});class Zt extends T{constructor(){super(Ie.Dng)}disableAutoBrightness;interpolationQuality;outputColor;useAutoWhitebalance;useCameraWhitebalance;getDefines(){const e=[];return this.hasValue(this.interpolationQuality)&&e.push(this.createDefine("interpolation-quality",this.interpolationQuality)),this.hasValue(this.disableAutoBrightness)&&e.push(this.createDefine("no-auto-bright",this.disableAutoBrightness)),this.hasValue(this.outputColor)&&e.push(this.createDefine("output-color",this.outputColor)),this.hasValue(this.useCameraWhitebalance)&&e.push(this.createDefine("use-camera-wb",this.useCameraWhitebalance)),this.hasValue(this.useAutoWhitebalance)&&e.push(this.createDefine("use-auto-wb",this.useAutoWhitebalance)),e}}class er{_colorSpace=N.Undefined;_compression=Gt.Undefined;_density=new le(0,0);_format=Ie.Unknown;_height=0;_interlace=Nt.Undefined;_orientation=Ut.Undefined;_quality=0;_width=0;get colorSpace(){return this._colorSpace}get compression(){return this._compression}get density(){return this._density}get format(){return this._format}get height(){return this._height}get interlace(){return this._interlace}get orientation(){return this._orientation}get quality(){return this._quality}get width(){return this._width}constructor(){}read(e,t){Ze._create((r=>{r.ping(e,t),this._colorSpace=r.colorSpace,this._compression=r.compression,this._density=r.density,this._format=r.format,this._height=r.height,this._interlace=r.interlace,this._orientation=r.orientation,this._quality=r.quality,this._width=r.width}))}static create(e,t){const r=new er;return r.read(e,t),r}}class tr{constructor(e){this.complexOperator=e}complexOperator;signalToNoiseRatio;_setArtifacts(e){void 0!==this.signalToNoiseRatio&&e.setArtifact("complex:snr",this.signalToNoiseRatio)}}class rr{constructor(e){this.method=e}method;bestFit=!1;scale;viewport;_setArtifacts(e){void 0!==this.scale&&e.setArtifact("distort:scale",this.scale.toString()),void 0!==this.viewport&&e.setArtifact("distort:viewport",this.viewport.toString())}}class ir extends ue{constructor(e){if(super(it._api._MontageSettings_Create(),it._api._MontageSettings_Dispose),void 0!==e.backgroundColor&&e.backgroundColor._use((e=>{it._api._MontageSettings_SetBackgroundColor(this._instance,e)})),void 0!==e.borderColor&&e.borderColor._use((e=>{it._api._MontageSettings_SetBorderColor(this._instance,e)})),void 0!==e.borderWidth&&it._api._MontageSettings_SetBorderWidth(this._instance,e.borderWidth),void 0!==e.fillColor&&e.fillColor._use((e=>{it._api._MontageSettings_SetFillColor(this._instance,e)})),void 0!==e.font){re(lt._getFontFileName(e.font),(e=>{it._api._MontageSettings_SetFont(this._instance,e)}))}void 0!==e.fontPointsize&&it._api._MontageSettings_SetFontPointsize(this._instance,e.fontPointsize),void 0!==e.frameGeometry&&re(e.frameGeometry.toString(),(e=>{it._api._MontageSettings_SetFrameGeometry(this._instance,e)})),void 0!==e.geometry&&re(e.geometry.toString(),(e=>{it._api._MontageSettings_SetGeometry(this._instance,e)})),void 0!==e.gravity&&it._api._MontageSettings_SetGravity(this._instance,e.gravity),void 0!==e.shadow&&it._api._MontageSettings_SetShadow(this._instance,e.shadow?1:0),void 0!==e.strokeColor&&e.strokeColor._use((e=>{it._api._MontageSettings_SetStrokeColor(this._instance,e)})),void 0!==e.textureFileName&&re(e.textureFileName,(e=>{it._api._MontageSettings_SetTextureFileName(this._instance,e)})),void 0!==e.tileGeometry&&re(e.tileGeometry.toString(),(e=>{it._api._MontageSettings_SetTileGeometry(this._instance,e)})),void 0!==e.title&&re(e.title,(e=>{it._api._MontageSettings_SetTitle(this._instance,e)}))}}class nr{backgroundColor;borderColor;borderWidth;fillColor;font;fontPointsize;frameGeometry;geometry;gravity;label;shadow;strokeColor;textureFileName;tileGeometry;title;transparentColor;_use(e){const t=new ir(this);return ge._disposeAfterExecution(t,e)}}class ar{constructor(e,t,r){this.method=e,this.kernel=t,void 0!==r&&(this.kernel+=`:${r}`)}channels=B.Composite;convolveBias;convolveScale;iterations=1;kernel;method}class sr{constructor(e,t=0){this.minimum=e,this.maximum=t}minimum;maximum;toString(){return 0===this.maximum?this.minimum.toString():`${this.minimum}-${this.maximum}`}}export{L as AlphaAction,bt as AutoThresholdMethod,Ue as ChannelPerceptualHash,qe as ChannelStatistics,B as Channels,O as ChromaticityInfo,Tt as ClassType,Y as ColorProfile,N as ColorSpace,z as ColorSpaceNames,V as ColorTransformMode,At as ColorType,X as CompareResult,q as CompareSettings,xt as ComplexOperator,tr as ComplexSettings,K as CompositeOperator,Gt as CompressionMethod,P as ConfigurationFile,E as ConfigurationFiles,oe as ConnectedComponent,ce as ConnectedComponentsSettings,T as DefinesCreator,le as Density,_e as DensityUnit,Rt as DistortMethod,rr as DistortSettings,Ge as DitherMethod,Qt as DngInterpolation,Jt as DngOutputColor,Zt as DngReadDefines,A as DrawableColor,x as DrawableFillColor,G as DrawableFillOpacity,gt as DrawableFont,R as DrawableFontPointSize,ht as DrawableGravity,ut as DrawableLine,pt as DrawablePoint,dt as DrawableRectangle,mt as DrawableRoundRectangle,ft as DrawableStrokeColor,wt as DrawableStrokeWidth,Pt as DrawableText,Mt as DrawableTextAlignment,kt as DrawableTextAntialias,yt as DrawableTextDecoration,St as DrawableTextInterlineSpacing,vt as DrawableTextInterwordSpacing,Ct as DrawableTextKerning,It as DrawableTextUnderColor,Et as Drawables,ke as DrawingWand,Ft as Endian,Lt as ErrorMetric,Wt as EvaluateOperator,Bt as FilterType,Ot as GifDisposeMethod,Se as Gravity,it as ImageMagick,j as ImageProfile,Nt as Interlace,zt as Kernel,F as LogEvent,_t as LogEventTypes,lt as Magick,ie as MagickColor,Dt as MagickColors,b as MagickDefine,J as MagickError,Ce as MagickErrorInfo,Q as MagickErrorSeverity,Ie as MagickFormat,ct as MagickFormatInfo,ae as MagickGeometry,Ze as MagickImage,Oe as MagickImageCollection,er as MagickImageInfo,xe as MagickReadSettings,Ae as MagickSettings,nr as MontageSettings,$t as MorphologyMethod,ar as MorphologySettings,ue as NativeInstance,Ht as NoiseType,$e as OffsetInfo,Ut as Orientation,jt as PaintMethod,Ne as Percentage,je as PerceptualHash,W as PixelChannel,Ye as PixelCollection,Ve as PixelIntensityMethod,Yt as PixelInterpolateMethod,se as Point,Xe as PrimaryInfo,st as ProgressEvent,Fe as QuantizeSettings,Z as Quantum,Vt as RenderingIntent,Ke as Statistics,Xt as TextAlignment,qt as TextDecoration,sr as Threshold,Me as TypeMetric,Kt as VirtualPixelMethod,Je as WarningEvent,ve as _getEdges,I as _isByteArray,at as initializeImageMagick};export default null;
//# sourceMappingURL=/sm/78ea5eb61f29788f49475be1c987ec06adc084019cb736690a394e16aac50059.map